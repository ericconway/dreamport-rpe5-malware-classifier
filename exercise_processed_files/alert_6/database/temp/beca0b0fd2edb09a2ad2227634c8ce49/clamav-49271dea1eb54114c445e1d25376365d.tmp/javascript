<script> x3c/script></head></html>");l.document.close()}}}(),clickparams:function(b,c){var d=a.extend(a.cache(b,"params"),a.cache("opt_params"),{format:c,out:a.getactualhref(b),reaf:k.reaffiliate||null,ref:a.page.referrer||null,rewrit:a.cache(b,"rewrit"),title:a.page.title,txt:b.innerhtml});128<d.txt.length&&(d.txt=d.txt.replace(/<[^>]+>/g,""),d.txt=128<d.txt.length?d.txt.substr(0,125)+"...":d.txt);return d},detectfiltering:function(){var b;try{b={},b=new function(){this.detect= function(a,b){function c(a,b){0==l||1e3<b?a(0==l&&k):settimeout(function(){c(a,2*b)},2*b)}function e(){--l||(k=!n&&p)}var k=!1,l=2,n=!1,p=!1;if("function"==typeof b){a+="?ch=*&rn=*";var m=11*math.random(),a=new image;a.onload=e;a.onerror=function(){n=!0;e()};a.src=a.replace(/*/,1).replace(/*/,m);a=new image;a.onload=e;a.onerror=function(){p=!0;e()};a.src=a.replace(/*/,2).replace(/*/,m);c(b,250)}}}}catch(c){b={detect:function(a,b){b(!0)}}}return function(c){var f=a.updateurl(k.asset_url,{pathname:"/images/pixel.gif"}); b.detect(f,c)}}(),enabled:function(){if(k.enabled&&u!==window&&window.vglnk&&(window.vglnk.key||"function"===typeof window.vglnk))k.enabled=!1;return k.enabled},expose:function(){return function(b,c){if((c=c||this[b])&&!x[b]){var d=x,f;f=c;f="function"===a.type(f)?a.entrypoint(a.bind(f,e)):f;d[b]=f}}}(),fire:function(){var b={};return function(c,d){c=c.tolowercase();var f=b[c]||{fired:!1,listeners:[]};"function"===typeof d?f.fired?settimeout(function(){d({type:c})},0):f.listeners.push(d):(f.fired= !0,a.each(f.listeners,function(a){"function"===typeof a&&a({type:c})}),f.listeners=[]);b[c]=f}}(),handlerightclick:function(b,c){if(k.rewrite_modified&&b&&c)switch(c){case "setup":a.cache(b,"href")||a.cache(b,"href",b.href);b.href=this.redirecturl(this.clickparams(b,"go"));settimeout(a.entrypoint(a.bind(function(){this.handlerightclick(b,"teardown")},this)),0);break;case "teardown":a.cache(b,"href")&&(b.href=a.cache(b,"href"))}},harmony:function(a){return k.harmony_level<=a},init:function(){var b= function(){var b=a.rootcontext(window),d=!0===b.__v5k;b.__v5k=!0;return!d};return function(){var c=this;m={};if(b()){try{c.initlibevents(),c.initnamespace(),c.initoptions()}catch(d){}a.exceptionlogger(a.bind(c.logexception,c),!k.dev);a.each(k.script_timeout);return a.entrypoint(function(){c.initprocessors();c.initdrapi();c.initapi();c.enabled()&&(c.initlegacycallbacks(),c.ping())})()}}}(),initapi:function(){var b,c={};if(window.vglnk)for(b in window.vglnk)"_plugin"===b.substr(-7)&&(c[b]=window.vglnk[b]); x=u[l]=a.noop;this.expose("click");this.expose("link",a.bind(function(b){"element"===a.type(b)&&b.href&&(this.initcontext(a.context(b)),this.processlink(b))},this));this.expose("open",a.bind(this.click,this));this.expose("$",a.clone(a));this.expose("allowed");this.expose("api");this.expose("apinow",a.bind(this.api.now,this.api));this.expose("harmony");this.expose("isblacklisted");this.expose("iscommercial");this.expose("initlinks");this.expose("opt");this.expose("platform");this.expose("sendlinks"); this.expose("clickparams",function(){return a.extend(a.commonparams("click",k),e.clickparams.apply(e,arguments))});this.expose("registerprocessor",function(){if(0<arguments.length)return e.registerprocessor.apply(e,arguments)});a.extend(x,x===window.vglnk?c:{})},initcontext:function(){var b=[];return function(c){if(void 0===c)return b;c&&!a.contains(b,c)&&(b.push(c),this.initlinks(c),this.initevents(c))}}(),initdomobserver:function(b,c){a.observer.start(b,c,a.batchable(function(b){a.batched(arguments)&& (b=a.reduce([],a.batchargs(arguments,0),function(a,b){return a.concat(b)}));b=a.all(a.unique(b),function(a){return boolean(a.parentnode)&&e.allowed(a)});0<b.length&&(e.processlinks(a.links(b)),a.each(m,function(a,c){a.opts.mode!==e.plugin_manual&&e.runplugin(c,b)}))},function(){return{batch:k.batch_mutation,timeout:k.batch_mutation_timeout}}))},initdrapi:function(){var b=!1;window.drivingrevenue=a.entrypoint(a.destructing(a.bind(function(){b=!0;k.dr_key=window.dr_id;this.enabled()&&this.ping()},this))); a.on("domready",function(){if(!b)try{delete window.drivingrevenue}catch(a){window.drivingrevenue=void 0}})},initevents:function(b){var c=a.traits.windowlevelhandlers?b:b.document,d=function(c){c=c||b.event;if((c=a.eventlink(c))&&!a.cache(c,"evented"))g(e.event_level_link,c),a.cache(c,"evented",!0)},f=function(b,c){return function(){var d=[b].concat(a.toarray(arguments));c.apply(e,d)}},g=function(b,c){a.on(c,"click",f(b,e.onclick));a.on(c,"contextmenu",f(b,e.oncontextmenu))};if(k.dynamic)a.on("domready", function(){e.initdomobserver(b);k.dynamic_scope&&a.each(a.select(k.dynamic_scope,b.document),function(a){e.initdomobserver(a,{attributes:["class","id","style"],content:!1})})});a.on(c,"copy",a.bind(e.oncopy,e));a.on(c,"mousedown",d);a.on("domready",function(){a.each(b.document.links,function(b){a.on(b,"mousedown",d)})});(!a.traits.quirksmode||e.harmony(a.harmony.unsafe_quirksmode_events))&&g(e.event_level_top,c)},initlegacyoptions:function(){var a,c={dr_id:"dr_key",vglnk_api_key:"key",vglnk_cuid:"cuid", vglnk_domain:"api_url",vglnk_reaf:"reaffiliate",vglnk_subid:"sub_id"};for(a in c)void 0!==window[a]&&(x[c[a]]=window[a],"vglnk_domain"===a&&(x[c[a]]+="/api"))},initlegacycallbacks:function(){var b,c={vl_cb:a.bind(this.onapiclick,this),vl_disable:function(){k.enabled=!1}};for(b in c)window[b]=c[b]},initlibevents:function(){a.on(e);a.ready(a.bind(function(){this.fire("domready")},this))},initlinks:function(b){var c=a.bind(function(b){this.processlinks(a.toarray(b.document.links))},this);void 0===b? a.each(this.initcontext(),c):c(b)},initnamespace:function(){window.vglnk&&window.vglnk.key&&(l="vglnk");var a=window,c=l.split("."),d;for(l=c.pop();0<c.length;)d=c.shift(),a[d]=a[d]||{},a=a[d];u=a;x=u[l]=u[l]||{}},initoptions:function(){var b;this.initlegacyoptions();k=a.extend(this.publicoptions({anywhere_url:"//redirect.viglink.com",api_url:"//api.viglink.com/api",asset_url:"//cdn.viglink.com/api",cuid:null,dev:!1,dr_key:null,enabled:a.traits.basiccompatibility,key:null,link_urls:!0,partner:null, platform:a.platforms.none.id,reaffiliate:!1,sub_id:null,sync_url:"//api.viglink.com/api",blacklist_domains:null,commercial_domains:null,harmony_level:a.harmony.default,link_target:null,private_domains:null,rewrite_any:!0,rewrite_modified:!1,rewrite_original:!0}),k,x,{batch_calls:!0,batch_call_timeout:100,batch_links:!1,batch_mutation:!0,batch_mutation_timeout:250,click_timeout:1e3,debug:!1,debug_performance:!1,declare_handler:!1,dynamic:!0,dynamic_scope:null,exclude_scope:null,hop_timeout:2e3,insert_host:"i.viglink.com", library_id:null,links_merge_timeout:75,links_version:"3.2",log_context:!0,nofollow:{},norewrite:{},script_timeout:2e3,testing_js:[],time:!1,time_log_timeout:3e3,plugins:{crawler:{},harmony:{},link_affiliation:{},modified_clicks:{}}});k.sync_url=k.sync_url||k.api_url;for(b in k)"_plugin"===b.substr(-7)&&delete k[b]},initplugins:function(){var b,c=1,d={link_affiliation:"convert",link_optimization:"optimize",page_harmony:"harmony",partner_integration:"partners",product_linker:"insert",product_widget:"spotlight"}, f=["spotlight"],g=["harmony"],h=function(a){return function(a){return function(){delete m[a].opts.mode;c=1;cleartimeout(b);u()}}(a)},l=function(b){var c;a.find(d,function(a,b){return"insert"===a&&(c=b)});b[c]||(b[c]={enabled:!0,key:k.key,link_phrases:!1});b[c].link_urls=k.link_urls;return b},u=function(){var d={_ran:!1,init:a.noop,initdocuments:a.noop,initnodes:a.noop,"public":{}},f=function(b,c){b.setup=b.setup||(window.vglnk?window.vglnk[c+"_plugin"]:null);"function"===a.type(b.setup)&&(boolean(b.initdocuments)|| (b=a.extend(b,d,b.setup(a.reformatkeys(b.opts),a.clone(a),x,h(k.key))),b["public"]&&e.expose(c,b["public"],!1)),b.opts.mode!==e.plugin_manual&&e.runplugin(c))},h=function(b){var c=function(){if(b){var c=a.toarray(arguments);c.unshift("custom",b);e.log.apply(this,c)}};c.eventtimer=e.eventtimer;return c},l=function(a){return!boolean(a._ran)};b=null;a.each(g,function(a){var b=m[a];b&&!boolean(b._ran)&&f(b,a)});a.each(a.all(m,l),f);a.find(m,l)&&(b=settimeout(a.entrypoint(u),math.min(math.max(math.pow(2, ++c),100),5e3)))},n=function(){settimeout(function(){e.api.flush()},100);u();a.on("domready",function(){settimeout(e.api.flush,0)})};return function(b){b=l(b);a.each(b,a.bind(function(b,c){c=d[c]||c;"object"===typeof b&&!1!==b.enabled&&(m[c]={opts:b},a.contains(f,c)&&a.jsonp(this.opt("asset_url")+"/plugins/"+c+".js"),b.mode===this.plugin_manual&&this.expose("init_"+c,h(c)))},this));n()}}(),initprocessors:function(){this.registerprocessor(function(b){var c;c=a.createa(k.api_url);if("/api/click"=== b.pathname&&(b.hostname===c.hostname||b.hostname.match(/(^|.)(api|cdn|apicdn).viglink.com$/)))c=a.fromquery(b.search),void 0!==c.out&&(b.href=c.out,delete c.out,a.cache(b,"params",c))});this.registerprocessor(function(b){k.nofollow[b.href]&&!a.hasrel(b,"nofollow")&&(b.rel=(b.rel?b.rel+" ":"")+"nofollow")});this.registerprocessor(function(b){k.declare_handler&&a.attributes(b,{"data-hl":"viglink"})});this.registerprocessor(function(b){window.ipboard&&(window.ipboard.prototype&&window.ipboard.prototype.delegate&& a.hasrel(b,"external"))&&(b.rel=b.rel.replace(/(^| )external( |$)/,""),b.target="_blank")});this.registerprocessor(function(){a.each(a.select(".vl_disclosure"),function(b){var c,d;c=a.createel(b.tagname,{height:0,visibility:"hidden"});document.body.appendchild(c);d=a.css(c,"display");document.body.removechild(c);a.css(b,{display:d})})})},isauctionlink:function(b){return!0===a.cache(b,"auctioned")},isblacklisted:function(b){return"object"===a.type(k.blacklist_domains)&&k.blacklist_domains[a.canonicalizehostname(b)]}, iscommercial:function(b){return this.loadedcommercial()&&k.commercial_domains[a.canonicalizehostname(b)]},isprivate:function(b){if("array"!==a.type(k.private_domains))return!1;var c=a.canonicalizehostname(b);return a.find(k.private_domains,function(b){return regexp("(^|\.)"+a.escaperegexp(b)+"$","i").test(c)})},isrewritable:function(){var b=a.canonicalizehostname(document.location),c=a.generatenodefilter({classes:["norewrite"],rels:["norewrite","noskim"],custom:function(c,f){if(!f)return!1;var g= a.canonicalizehostname(c),h="",l=!1;try{h=c.protocol,g.charat(0)}catch(m){return!0}l=boolean(""===g||!h.match(/^https?:$/i)||k.norewrite[g]);if(h=!l)var h=a.cache(c,"type"),n=a.cache(c,"params")||{},h=!boolean(h||n.type);h&&(l=boolean(b===g||!k.rewrite_original||!k.rewrite_any&&!e.iscommercial(c)));return l}});return function(a){return c(a)}}(),loadedcommercial:function(){return"object"===a.type(k.commercial_domains)},log:function(b,c,d,f){var e,h=a.toquery({libid:k.library_id,nocache:a.uniqid()}); e="pixel.gif";if("custom"===b)h+="&"+a.toquery({key:c,type:d}),a.each("array"===a.type(f)?f:[f],function(b){a.each(["e","i","o"],function(a){delete b[a]});h+="&"+a.toquery(b)});else{h+="&"+a.toquery({key:k.key,drkey:k.key?null:k.dr_key,subid:k.sub_id});if("time"===b&&a.traits.json)e="time.gif",b={e:a.tojson(c),v:2};else if("exception"===b)b={e:c,o:d};else if("info"===b)b={i:c};else return;h+="&"+a.toquery(b)}e=k.api_url+"/"+e+"?"+h;a.pii.transmits(e)||(a.createel("img").src=e)},eventtimer:function(){var b, c,d=!1,f={},g=function(b,c){return function(){if(a.traits[c])return b.apply(this,arguments)}},h=function(b,c){return function(){if(a.reduce(!1,c,function(a,b){return a||k[b]}))return b.apply(this,arguments)}},l=a.batchable(function(){var b;b=a.batched(arguments)?a.batchargs(arguments):[arguments];b=a.map(b,function(b){return a.prune({event:b[0],time:b[1],total:b[2]})});b.length&&e.log("time",b)},function(){return{timeout:k.time_log_timeout}}),m=h(l,["time"]),l=function(a){window.performance.mark("viglink-"+ a+"-start")};b=a.traits.performancenavigationtiming?window.performance.getentriesbytype("navigation")[0].dominteractive:0;a.traits.performancetimingapi&&(c=window.performance.now());return{force:g(l,"performancetimingapi"),start:g(h(l,["debug_performance","time"]),"performancetimingapi"),stop:g(h(function(e,g){var h,k=f[e]||0;h="viglink-"+e;var l="viglink-"+e+"-start",y="viglink-"+e+"-stop";window.performance.mark(y);window.performance.measure(h,l,y);h=window.performance.getentriesbyname(h,"measure"); h=h.slice(k);f[e]=k+h.length;g||a.each(h,function(a){m(e,a.duration,a.starttime-b)});d||(d=!0,m("load",c-b,c-b))},["debug_performance","time"]),"performancetimingapi")}}(),logexception:function(b){if(k.debug){var c={link:a.cache(this,"link"),loc:window.document.location.href,ua:navigator.useragent};"string"===typeof b?c.message=b:c=a.extend(c,b);this.log("exception",b,a.toquery(c))}},onapiclick:function(b,c,d,f,e){var h=f||a.getactualhref(b),l=a.bind(function(){this.redirect(h,a.context(b),c,d)}, this);"object"===typeof e&&(e.tracking||e.image)?(f=a.createel(e.tracking?"iframe":"img",{src:e.tracking||e.image},{height:0,width:0,visibility:"hidden"}),document.body.appendchild(f),settimeout(a.entrypoint(l),e.timeout||k.hop_timeout)):l()},onapiping:function(b,c,d,f,g,h){k.rewrite_original=!1;g=a.reformatkeys(g||{});var l,m,n;f=function(b){var c={},d=function(b){a.isarray(b)?c[b[0]]=b[1]:c[b]=1};a.isarray(b)&&a.each(b,d);return c};a.exceptionlogger(function(){a.canonicalizehostname(window.location).match(/(^|.)cnn.com$/)&& (k.exclude_scope="#optanon,.outbrain,*[class*=outbrain],*[class*=partner],*[class*=sponsored]")})();a.exceptionlogger(function(){a.canonicalizehostname(window.location).match(/^(www.)?msn.com$/)&&(k.dynamic_scope=".gallery-container > .gallerydata,section.gallery:first-child ~ .gallerydata",k.exclude_scope="*[class^=stb-],.sticky-footer",k.declare_handler=!0)})();m=a.extend(k.plugins,g.plugins);k=a.extend(k,g);delete k.plugins;k.click_timeout=c;k.library_id=b;this.eventtimer.stop("png");"array"=== a.type(k.testing_js)&&0<k.testing_js.length&&a.each(k.testing_js,function(b){a.jsonp(b)});a.extend(k.nofollow,f(h));a.extend(k.norewrite,f(d));for(l in k)"on"===l.tolowercase().substr(0,2)&&(2<l.length&&"function"===a.type(k[l]))&&(a.on(e,l.tolowercase().substr(2),a.bind(k[l],window)),delete k[l]);this.initplugins(m);this.initcontext(window);(n=a.rootcontext(window))&&n!==window&&this.initcontext(n);this.fire("libready")},onclick:function(b,c){c=c||window.event;var d=c.ctrlkey||c.metakey||c.altkey|| c.shiftkey,f=c.which&&1===c.which||0===c.button,e=a.eventlink(c);if(e&&f&&!d&&!a.isdefaultprevented(c)&&this.allowed(e)&&this.isrewritable(e)&&!this.isauctionlink(e)&&this.shouldhandleclick(b,e))return this.click(e),a.preventdefault(c)},oncontextmenu:function(b,c){var d=a.eventlink(c||window.event);d&&(this.allowed(d)&&this.isrewritable(d)&&!this.isauctionlink(d)&&this.shouldhandleclick(b,d))&&this.handlerightclick(d,"setup")},oncopy:function(b){var c,d,f,g=[];if(window.getselection){d=window.getselection(); b=0;for(c=d.rangecount;b<c;b++){try{f=d.getrangeat(b).tostring().replace(/((^)s+|s+$| )/g,"").replace(/s* s*/g," ")}catch(h){}0<f.length&&128>=f.length&&g.push(f)}}a.each(g,function(b){e.log("info",a.toquery({type:"selection",txt:b,loc:location.href}))})},opt:function(a,c){void 0!==c&&void 0!==this.publicoptions()[a]&&(k[a]=c);return k[a]},ping:function(){var b=!1;return function(){if(!b&&(k.key||k.dr_key)){var c={ref:document.referrer||null};b=!0;a.pii.transmits(this.api.now("ping",c,{"return":!0}))|| (this.eventtimer.force("png"),this.detectfiltering(a.bind(function(b){b&&(k.batch_calls=!1,c.type=this.type_acceptable);this.api.now("ping",c,{fn:a.apicallback(this.onapiping,this)})},this)))}}}(),platform:function(){return a.platforms.findbyid(k.platform)||a.platforms.none},processlink:function(b){var c=a.cache(b,"processors")||{},d=this.allowed(b),f=this.isrewritable(b);a.each(this.registerprocessor(),function(g){if(g.opts.any||k.rewrite_any||e.loadedcommercial()){if(!c[g.id]&&d&&(f||g.opts.any)){var h; g.opts.scope&&"body"!==g.opts.scope&&(h=a.some([g.opts.scope+" a",g.opts.scope],function(c){return a.matches(b,c)}));!1!==h&&g.fn(b)}c[g.id]=!0}});a.cache(b,"processors",c);return b},processlinks:function(b){a.each(b,a.bind(this.processlink,this))},publicoptions:function(){var b={};return function(c){"object"===a.type(c)&&(b=c);return a.extend({},b)}}(),redirect:function(b,c,d,f){var g=function(b,c,d){var f=[],g;if(a.traits.referrerpolicy){g=function(a){var b=c.document.createelement("meta");b.name= "referrer";b.content=a;c.document.getelementsbytagname("head")[0].appendchild(b)};e.isprivate(b)&&(f=[g("no-referrer"),g("never")]);d();try{a.each(f,function(a){a.parentnode.removechild(a)})}catch(k){}}else d()};c=c||window.top;!a.traits.crosswindowcommunication&&!d?(f=c.open(b,f),f.focus()):a.traits.jsredirectsetsreferrer?settimeout(a.entrypoint(function(){!d||d===c?g(b,c,function(){c.location=b}):a.contextisancestor(c,d)?d.location=b:d.location.replace(b)}),0):("_blank"===f&&(f=a.uniqid("win_")), f=a.createa(b,f),f.rel="norewrite",c.document.body.appendchild(f),f.click(),f.parentnode.removechild(f))},redirecturl:function(b,c){c=c||{};return this.api.now("click",b,a.extend(c,{base_url:k.anywhere_url,path:"/"},{"return":!0}))},runplugin:function(b,c){var d=window.document,f=m[b];if(f&&f.initdocuments){if(c)f.initnodes(c);else if(f.init(),"function"===a.type(f.initdocuments)&&"document"===a.type(d)&&f.initdocuments([d]),"function"===a.type(f.initnodes)&&"element"===a.type(d.body))a.on("domready", function(){f.initnodes([d.body])});f._ran=!0}},registerprocessor:function(){var b=!1,c=[],d=function(d,e){if(void 0===d)return c;"function"===a.type(d)&&(e=a.extend({any:!1,scope:null},e),c.push({fn:d,id:a.uniqid(),opts:e}),b&&this.initlinks())};d(function(){b=!0},{any:!0});return d}(),sendlinks:a.mergeable(function(){return{batchfn:e.api,nonbatchfn:e.api.now,batchable:k.batch_links,timeout:k.links_merge_timeout}}),shouldhandleclick:function(b,c){var d=!0,e="inserted"===a.cache(c,"type");b===this.event_level_link&& (d=this.harmony(a.harmony.link_events)||(this.iscommercial(c)||e)&&this.harmony(a.harmony.commercial_link_events));return d}};e.init();try{delete window.vglnk_self}catch(q){}})("undefined"===typeof vglnk_self?"vglnk":vglnk_self);window.vglnk=window.vglnk||{}; window.vglnk.convert_plugin=function(l,e,a){var r={},k,m;l=e.extend({any:!0,convert_minimum_bid:!1,check_exp_domains:!0},l);m={getdomains:function(){var k=[];e.each(r,function(a,e){2!==r[e]&&(k.push(e),r[e]=2)});0<k.length&&a.apinow("domains",{domains:k.join("|"),v:"2"},{fn:e.apicallback(m.ondomainapi,m)})},init:function(){a.opt("link_target",l.link_target);a.opt("rewrite_any",l.any);a.opt("rewrite_original",!0);(k=!l.any||a.harmony(e.harmony.commercial_link_events)||l.convert_minimum_bid||l.check_exp_domains)&& a.registerprocessor(e.bind(function(a){this.initdomainlookup();this.savedomain(a)},this),{any:!0})},initdomainlookup:function(){var a=!1;return function(){a||(a=!0,e.on("domready",e.bind(this.getdomains,this)))}}(),ondomainapi:function(){var k=e.destructing(function(){a.initlinks()});return function(l){var m=a.opt("blacklist_domains"),b=a.opt("commercial_domains")||{},c=e.destructing(function(){m=m||{}});e.each(l.results,function(a,e){b[e]=!0;a.unlink&&(c(),m[e]=!0)});a.opt("commercial_domains",b); a.opt("blacklist_domains",m);k()}}(),savedomain:function(a){a=e.canonicalizehostname(a);r[a]=r[a]||1},unlinkblacklisted:function(k){a.isblacklisted(k)&&e.unlink(k)}};return{init:e.bind(m.init,m),initnodes:function(){m.getdomains()}}};window.vglnk=window.vglnk||{}; window.vglnk.crawler_plugin=function(l,e,a){var r=[],k=a.platform();l={crawl:function(a){if(k&&!("array"!==e.type(a)||0===a.length))a=e.all(a,function(a){return!e.contains(r,a)}),a=this.findpostsbyid(a),e.each(a,e.bind(function(a){a.content=this.redact(a.el.innerhtml.replace(/(^s+|s+$)/g,""));delete a.el},this)),a=e.all(a,function(a){return boolean(a.content&&a.id)}),0<a.length&&this.processposts(a)},findpostsbyid:function(a){return e.all(e.map(k.getposts(),function(a){return{el:a,id:k.getpostid(a)}}), function(k){return e.contains(a,k.id)})},processposts:function(l){l=e.map(l,function(a){r.push(a.id);return{c:a.content,i:a.id}});a.api("content",{content:e.tojson({ct:l,pt:k.id,u:window.document.location.href})},{jsonp:!1})},redact:function(a){return e.pii.redact(a)}};return{"public":{crawl:e.bind(l.crawl,l)}}};window.vglnk=window.vglnk||{};window.vglnk.modified_clicks_plugin=function(l,e,a){return{init:function(){a.opt("rewrite_modified",!0)}}};window.vglnk=window.vglnk||{}; window.vglnk.privacy_plugin=function(l,e,a){return{init:function(){l.domains&&a.opt("private_domains",l.domains)}}};window.vglnk=window.vglnk||{}; window.vglnk.dr_search_box_plugin=function(l,e,a){l=e.extend({key:null},l);var r={init:function(a){e.each(this.getdrsearchforms(a),function(a){if(!e.cache(a,"evented")){var k=r.getinput(a),l=function(){k.value||e.css(k,{"background-image":"url(http://cdn.viglink.com/images/ebay_watermark.gif)"})};e.cache(a,"evented",!0);a.onsubmit=null;k.onfocus=null;k.onblur=null;e.on(k,"focus",function(){e.css(k,{"background-image":"none"})});e.on(k,"blur",l);l();e.on(a,"submit",function(e){r.onsubmit(e,a)})}})}, getdrsearchforms:function(a){var l=[];e.each(a,function(a){"element"===e.type(a)&&e.each(a.getelementsbytagname("form"),function(a){r.getinput(a)&&a.id.match(/^dr-ebay-search(css|2)?$/i)&&l.push(a)})});return l},getinput:function(a){return a.p||a.q2},onsubmit:function(k,m){k=k||window.event;var u="http://shop.ebay.com/i.html?"+e.toquery({_nkw:r.getinput(m).value}),u=e.createa(u,"_blank");e.cache(u,"params",{key:l.key});a.click(u);return e.preventdefault(k)}};if(l.key)return{init:e.bind(r.init,r), initnodes:function(a){r.init(a)}}};window.vglnk=window.vglnk||{};window.vglnk.harmony_plugin=function(l,e,a){l=e.extend({level:e.harmony.default},l);return{init:function(){var e=parsefloat(l.level,10);isfinite(e)&&a.opt("harmony_level",e)}}};window.vglnk=window.vglnk||{}; window.vglnk.optimize_plugin=function(l,e){l=e.extend({exclude_page_title:null,exclude_link_text:null},l);return{init:function(){var a={opt:!0};null!==l.exclude_page_title&&e.extend(a,{optextitle:l.exclude_page_title});null!==l.exclude_link_text&&e.extend(a,{optextext:l.exclude_link_text});e.cache("opt_params",a)}}};window.vglnk=window.vglnk||{}; window.vglnk.insert_plugin=function(l,e,a,r){var k,m,u,x,q=null,b=!1,c=null;l=e.extend({cat:null,dynamic_sample_rate:1,heading_threshold:2,insertion_order:"api",key:null,link_headings:!1,link_phrases:!0,link_target:null,link_urls:!0,manual_mode:1===l.mode,per_page:null,per_phrase:5,proximity:null,same_proximity:100,scope:null,ui:!0},l);"api"!==l.insertion_order&&"dom"!==l.insertion_order&&(l.insertion_order="api");if(l.key)return k=a.platform(),m={cache:function(){var a,b,c=function(){a={};b={}}, h=function(c,g){var h,k=b,l=a,m={};g=g||[e.platforms.default_post_id];h=e.all(e.unique(e.map(g,function(a){return k[a]})),function(a){return null!==a});e.find(h,function(a){if(l[a]&&l[a].data&&l[a].order){if(c)return m[c]=l[a].data[c],!0;e.each(l[a].order,function(b){var c=l[a].data[b];m[b]||(m[b]=c)})}});return c?m[c]:m},k=function(c,g,h,k){var l=a,m=b;h=h||"-";k=k||[e.platforms.default_post_id];l[h]=l[h]||{data:{},order:[]};l[h].data[c]||(l[h].data[c]=g,l[h].order.push(c));e.each(k,function(a){m[a]= h});return!0},m=function(a,b,c,d){var f=e.all(e.toarray(arguments),function(a){return boolean(a)});"array"===e.type(f[f.length-1])&&(d=f.pop());a=f[0];b=f[1];if(1>=f.length)return h(a,d);if(2<=f.length)return k(a,b,c,d)};l.manual_mode&&e.extend(m,{reset:c});c();return m}(),enabled:function(){return l.link_phrases||l.link_urls},focuslink:function(a){a.id||(a.id=e.uniqid("vl-link-"));location.href.hash="#"+a.id;window.scrollby(0,-150)},getpartnerparams:function(){var b,c,e=a.opt("partner"),h={};for(b in e)break; if(b)for(c in e[b])h[b+"_"+c]=e[b][c];return h},getphrases:function(b,c){r.eventtimer.start("ins");a.api("insert",e.extend(m.getpartnerparams(),{cat:l.cat,i:c?c.join("|"):null,mode:l.mode,pt:k.id,ps:l.product_source,u:window.document.location.href,v:"2.0"}),{fn:e.apicallback(m.oninsertapi,m)},b,c)},hascalled:function(){var a={},b=math.random()<l.dynamic_sample_rate,c=function(a){return b&&e.isarray(a)?e.map(a,function(a){return c(a)}):b&&a===e.platforms.default_post_id?window.document.location.href: a},h=function(b){b=c(b);return e.isarray(b)&&b.length?boolean(e.all(b,function(b){return a[b]}).length===b.length):boolean(a[e.platforms.default_post_id])},k=function(b){b=c(b);e.isarray(b)&&b.length?e.each(b,function(b){a[b]=!0}):a[e.platforms.default_post_id]=!0};return function(a,b){return b?k(a):h(a)}}(),init:function(){r.eventtimer.start("insert-init-run");l.scope=l.scope||k.scope;l.link_urls&&(x=regexp("(?:(?:\b(https?://)|(?:^|\s)\w*(www\d{0,3}\.|(?:[a-z0-9-]+\.)+[a-z]{2,4}/))((?:[^\s()<>]+|\((?:[^\s()<>]|(?:\([^\s()<>]+\)))*\))+(?:\((?:[^\s()<>]|(?:\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:"".,<>?«»“”‘’]))|(?:^|\s)\w*((?:[a-z0-9-]+\.)+com\b/?)(?!\.[a-z0-9-]+))","i"))},initlink:function(){return function(n000,n001,n002){var n003=l.link_target;if(n003="u"===n001.type?a.opt("link_target"):n003||n002)n000.target=n003;n000.href||(n000.href=n001.url);n000.rel="nofollow";e.cache(n000,"params",{exp:q,iid:n001.iid,key:l.key,mid:n001.mid,type:n001.type||null});if(!0===n001.auc){n001=e.fromquery(n000.search);if(n002=n001.u||n001.out)delete n001.format,delete n001.out,delete n001.u,e.extend(n001,a.clickparams(n000),{out:n002}),n000.search="?"+e.toquery(n001);e.cache(n000,"auctioned",!0)}e.cache(n000,"href",n000.href);a.link(n000)}}(),insertlinks:function(){var n004=e.generatenodefilter({classes:["nolinks","atma-nolink","atma-nolinks"],tags:["map"],custom:function(n005){return e.matches(n005,"a")&&boolean(n005.href)}}),f=function(n006,n007,n008,n009){var n010={phrase_to_nodes:{},regexp_cache:{},stats:{}};e.each(n007,function(n011){h(n006,n011,n008,n009,n010)},{timeout:!0});"api"===l.insertion_order&&g(n008,n010);return n010.stats},g=function(n012,n013){var n014=u(n012);n014.push("&!unlinked!&");e.each(n014,function(n015){(n015=n013.phrase_to_nodes[n015])&&e.each(n015,function(n016){p(n016,n016.data,n012,n013)})})},h=function(n017,n018,n019,n020,n021){if(a.allowed(n018)&&n004(n018,{ancestors:!boolean(n020),self:!0}))if(3===n018.nodetype)k(n017,n018,n019,n021);else if(1===n018.nodetype)for(n018=n018.firstchild;n018;)n020=n018.nextsibling,h(n017,n018,n019,!0,n021),n018=n020},k=function(){var n022=function(n023,n024){var n025=[];e.each(n023,function(n026){var n027;n024[n026]?n027=n024[n026]:(n027=e.escaperegexp(n026).split(" ").join("\s+"),n027=regexp("(?:^|[\s"'\(])("+n027+")(?=\s|\w*$|\w{2})","i"),n024[n026]=n027);n025.push(n027)});l.link_urls&&x&&n025.push(x);return n025},b=function(n028,n029){var n030=u(n029);n028=m.normalizephrase(n028);return e.all(n030,function(n031){return-1!==n028.indexof(n031)})};return function(n032,n033,n034,n035){var n036,k,p=!1,q=n035.phrase_to_nodes,s=n035.regexp_cache;n033.parentnode&&(n033.data&&(p=n032.test(n033.data.replace(/ s+/," "))),p&&"dom"===l.insertion_order?n(n032,n033,n034,n035):p&&"api"===l.insertion_order&&(n036=b(n033.data,n034),n032=n022(n036,s),k=[n033],e.each(n032,function(n037){var n038=[];e.each(k,function(n039){for(var n040,n034,n035,k,l;n039&&(n039.data&&""!==n039.data&&(boolean(!e.traits.fastregexp&&(n035=n039.data.match(/^ s+/)))||boolean(n035=n039.data.match(n037))))&&n035.input!==n040;)n040=n035.input,n034=n035.slice(1).join(""),k=m.normalizephrase(n034),n034=d(n039,n035),n034.previous&&n034.previous.data&&n038.push(n034.previous),n039=n034.next,l=e.contains(n036,k)?k:"&!unlinked!&",k=q,n034=n034.match,k[l]||(k[l]=[]),k[l].push(n034);n039&&!n035&&n038.push(n039)},{timeout:!0});k=n038})))}}(),u=function(n041){n041=m.cache(n041);return e.map(n041,function(n042,n043){return n043})},n=function(n044,n045,n046,n047){for(var n048,g,h;n045&&(n045.data&&""!==n045.data&&(boolean(!e.traits.fastregexp&&(h=n045.data.match(/^ s+/)))||boolean(h=n045.data.match(n044))))&&h.input!==n048;)n048=h.input,g=h.slice(1).join(""),n045=d(n045,h),p(n045.match,g,n046,n047),n045=n045.next},p=function(){var n049=function(n050,n051){var n052,d;if(n050&&"u"===n050.type)return!0;n052=!n050||!l.per_phrase||!n051[n050.phrase]||n051[n050.phrase].count<l.per_phrase;d=!l.per_page&&0!==l.per_page||e.reduce(0,n051,function(n053,n054){return n053+("u"!==n054.type?n054.count:0)})<l.per_page;return n052&&d},n004=function(n055,n056,n057){var n058,g=boolean(a.opt("dynamic_scope")),h=function(){var n059,n056;if(!n057.phrase)return!0;if(l.proximity||l.same_proximity)n056=e.geometry(n058),e.find(m.cache(n055),function(n060){var n061,g;if(n060.links){if((n061=m.normalizephrase(n060.phrase)===m.normalizephrase(n057.phrase))&&!l.same_proximity||!n061&&!l.proximity)return!1;g=n061?math.max(l.same_proximity,l.proximity):l.proximity;n060.links=e.all(n060.links,function(n062){var n063=e.isindom(n062.el);!n059&&n063&&(n059=e.find(n062.segments,function(n064){n064=n064.geometry;n064=e.extend({},n064);n064.x1-=g;n064.y1-=g;n064.x2+=g;n064.y2+=g;if(n064.x1<n056.x2&&n064.x2>n056.x1&&n064.y1<n056.y2&&n064.y2>n056.y1)return!0}));return n063});return n059}});return!n059};if(!n056.parentnode)return!1;n058=e.createel("span");n056.parentnode.insertbefore(n058,n056);n058.appendchild(n056);return function(n065){n058.parentnode.insertbefore(n056,n058);n058.parentnode.removechild(n058);return n065}((!g||e.isvisible(n058))&&h())};return function(n066,n067,n068,n069){var n070;n069=n069.stats;var n071=m.normalizephrase(n067),n071=n067?m.cache(n071,n068):null;n067&&!n071&&(n071={url:n067.match(/^https?:/ p;if(p=n071)if(p=n071.url.match(/https?:/ q;l.link_headings||!(q=e.css(n066.parentelement,"font-size"))?n068=!0:(q=parsefloat(q),n068=0>=q||q/e.page.font_size<l.heading_threshold)}p=n068}if(p&&(g=n,q=e.createel("a"),q.innerhtml=f.replace(/([a-z0-9]+*|[^a-z0-9]+)/ig,"<span>$1</span>"),q.classname="vglnk",e.cache(q,"type","inserted"),e.cache(q,"phrase",f),l.ui&&"u"!==g.type&&(q.title="link added by viglink"),m.initlink(q,g),!e.cache(q,"unlinked")&&!a.isblacklisted(q))){f=d.parentnode;f.insertbefore(q,d);f.removechild(d);d=n;f={el:q,segments:[]};var n072=q.getelementsbytagname("span"),r={els:[]};q=0;for(g=n072.length;q<g;q++)p=n072[q],void 0===k||p.offsettop===k.offsettop?r.els.push(p):(f.segments.push(r),r={els:[p]}),k=p;r.geometry=e.geometry.apply(e,r.els);f.segments.push(r);d.links=d.links||[];d.links.push(f);k=n.phrase||n.url;h[k]=h[k]||{count:0,iid:n.iid,imp:n.imp,phrase:n.phrase,url:n.url,type:n.type};h[k].count++}}}(),d=function(n073,n074){var n075,d;d=n074.slice(1).join("");n075=n074.index+n074[0].length-d.length;0<n075?n075=n073.splittext(n075):(n075=n073,n073=null);d=n075.length<=d.length?null:n075.splittext(d.length);return{previous:n073,match:n075,next:d}};return function(n076,n077){var n078,k={};r.eventtimer.start("insert-run");if(n078=m.regexp(n077))(n076=e.all(n076,c))&&n076.length&&(k=f(n078,n076,n077,!1)),l.link_phrases&&m.sendinsertedterms(k);r.eventtimer.stop("insert-run",!0);b||(b=!0,r.eventtimer.stop("insert-init-run",!0))}}(),insertmanually:function(){var n079=!1,b=e.clone(l),c=function(n080){return e.map(n080,function(n081,n082){return{iid:"00000000",phrase:n082,type:"0",url:n081}})};return function(n083,n084,n085){var n086,p=!1;u.init();l.manual_mode&&!n079&&(n079=!0,n086=n084=n084||{},l.same_proximity=n086.same_proximity||l.same_proximity,l.proximity=n086.proximity||l.proximity,l.per_page=n086.per_page||l.per_page,l.per_phrase=n086.per_phrase||l.per_phrase,n086=n084.target_node||document.body,n083=c(n083),m.loadphrases(n083,null,[n086]),l=b,m.cache.reset(),p=!0,n079=!1);"function"===e.type(n085)&&n085(p,n086)}}(),loadphrases:function(n087,n088,n089,n090){e.each(n087,function(n091){n091.phrase&&(n091.url&&n091.iid)&&(n091.phrase=m.normalizephrase(n091.phrase),m.cache(n091.phrase,{auc:n091.auc,count:0,iid:n091.iid,imp:n088,phrase:n091.phrase,mid:n091.mid,url:n091.url,type:n091.type||""},n088,n090))});m.hascalled(n090,!0);this.insertlinks(n089,n090)},normalizephrase:function(n092){return n092.tolowercase().replace(/(^ s+| s+$)/g,"").split(/ s+/).join(" ")},oninsertapi:function(n093,n094,n095){r.eventtimer.stop("ins");"object"===e.type(n093)&&(q=n093.exp,c=n093.imp_id,n093.results&&this.loadphrases(n093.results,c,n094,n095))},regexp:function(n096){var n097;n096=m.cache(n096);n096=e.map(n096,function(n098,n099){return e.escaperegexp(n099).split(" ").join("\s+")});0<n096.length&&(n097="(?:^|[\s"'\(])("+n096.join("|")+")(?=\s|\w*$|\w{2})",n097=regexp(x?"(?:"+n097+"|"+x.source+")":n097,"i"));return n097||x},sendinsertedterms:function(n100){n100=e.map(n100,function(n101,n102){return{count:n101.count,phrase:n102,iid:n101.iid,impid:n101.imp,url:n101.url,type:n101.type}});n100.length&&a.apinow("inserted",{cat:l.cat,exp:q,terms:e.tojson(n100),u:window.document.location.href,v:"2.0"})}},u={init:e.destructing(e.bind(m.init,m)),initnodes:function(n103){var n104=[],g=[],h=[];m.enabled()&&(l.scope?(e.each(n103,function(n105){var n106=e.withscope([n105],l.scope,{ancestors:!0,consolidate:!0,descendants:!1,self:!0});n106.length?(h.push(n105),g=g.concat(n106)):(n105=e.withscope([n105],l.scope,{ancestors:!1,consolidate:!0,descendants:!0,self:!1}),n105.length&&(h=h.concat(n105),g=g.concat(n105)))},{timeout:!0}),h=e.unique(h),g=e.unique(g)):g=h=n103,boolean(a.opt("dynamic_scope"))&&(h=e.all(h,function(n107){return!e.matches(n107,":has(a.vglnk)")},{timeout:!0})),h.length&&(g.length&&(n104=k.getpostids(g)),l.link_phrases&&!m.hascalled(n104)?m.getphrases(h,n104):m.insertlinks(h,n104)))}},l.manual_mode&&e.extend(u,{"public":{run:m.insertmanually}}),u};window.vglnk=window.vglnk||{};window.vglnk.partners_plugin=function(n108,n109,n110){var n111;n108=n109.extend({log_links:!0,log_status:!1,pai_type:[],scope:"body"},n108);n111={initlinklogger:function(){n110.registerprocessor(function(n112){n110.sendlinks("optimize",{desc:n109.page.description,links:[n112.href],mode:["p"],title:n109.page.title,u:n109.context(n112).document.location.href,ver:n110.opt("links_version")},{jsonp:!1})},{scope:n108.scope})},logstatus:function(n113){n109.createel("img").src=n109.updateurl(n110.opt("sync_url"),{pathname:"/api/sync/status.gif",search:"?"+n109.toquery({st:n113})})},run:function(){var n114=n108.pai_type;n108.log_links&&n111.initlinklogger();n109.isarray(n114)&&n114.length&&n111.sync(n114)},sync:function(){return function(n115){var n116,u;n116=n115.shift();u=n109.updateurl(n110.opt("sync_url"),{pathname:"/api/sync.gif",search:"?"+n109.toquery({partner_id:n116})});n116=n109.createel("img");n109.on(n116,"load",function(){n108.log_status&&n111.logstatus("su");n115.length&&n111.sync(n115)});n109.on(n116,"error",function(){n108.log_status&&n111.logstatus("fa");n115.length&&n111.sync(n115)});n108.log_status&&n111.logstatus("bg");n116.src=u}}()};return{init:function(){n111.run()}}};))))</script>