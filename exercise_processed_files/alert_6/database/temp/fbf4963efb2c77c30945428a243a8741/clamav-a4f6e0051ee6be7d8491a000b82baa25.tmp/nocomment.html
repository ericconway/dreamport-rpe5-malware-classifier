webpackjsonp([0],{"+71d":function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in a)e[s]||(e[s]=a[s]);return r.render(t,e,i)}var n=i("opvs").default,o={"dm/dm_avatar":i("2g5l")},a=n(o),r=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div class="dmtypingindicator-avatar"),s.s(s.f(" overflow",t,e,1),t,e,0,49,67,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" is-overflowavatar")}),t.pop()),s.b('">\n'),s.b(s.rp("<dm/dm_avatar0",t,e," ")),s.b("</div>"),s.fl()},partials:{"<dm/dm_avatar0":{name:"dm/dm_avatar",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:a,render:s}}).call(e,i("jtwp"))},"+97u":function(t,e,i){"use strict";function s(){this._gettextlength=function(t){return o.a.getunicodetextlength(t)},this.getlength=function(t){return t=this.addhiddentext(void 0===t?this.getvisibletext():t),t!==this.prevcountertext&&(this.prevcountertext=t,this.prevcounterlength=this._gettextlength(t)),this.prevcounterlength}}var n=i("cztd"),o=i.n(n);e.a=s},"+9xk":function(t,e,i){"use strict";(function(t){function s(){this.viewporthelpers=o.a,this.utils=a.default,this.defaultattrs({playablemediacontainerselector:".playablemedia",playablemedialoadthreshold:500,scrollthrottle:100,watchedclass:"watched",watchedselector:".watched",watchdocumentscroll:!0,livevideocontinueplayingbehindmodals:!1,preventunloadclass:"playable-media-no-unload"}),this.updatewatchedmedia=function(){this.$media=this.select("playablemediacontainerselector");var t=this.$media.not(this.attr.watchedselector);r.a.attachto(t,{livevideocontinueplayingbehindmodalsenabled:this.attr.livevideocontinueplayingbehindmodalsenabled}),t.addclass(this.attr.watchedclass),this.throttledprocesswatchedmedia()},this.processwatchedmedia=function(){var e=this;this.isinfullscreen()||this.$media.each(function(i,s){var n=t(s);if(!n.hasclass(e.attr.preventunloadclass)){var a=o.a.iswithinbounds(e.$container,n,e.attr.playablemedialoadthreshold),r=n.hasclass("playable-media-loaded");!r&&a?n.trigger("uiloadplayablemedia"):r&&!a&&n.trigger("uiunloadplayablemedia")}})},this.isinfullscreen=function(){return document.webkitfullscreenelement||document.msfullscreenelement||document.fullscreenelement||document.mozfullscreenelement},this.fullscreenchange=function(){clearinterval(this.fullscreentimeout),this.isinfullscreen()?this.stoplisteningonprocessevents():this.fullscreentimeout=settimeout(this.listenonprocessevents.bind(this),2e3)},this.listenonprocessevents=function(){this.on(this.$container,"resize",this.throttledprocesswatchedmedia),this.attr.watchdocumentscroll?this.on(document,"scroll",this.throttledprocesswatchedmedia):this.on("scroll",this.throttledprocesswatchedmedia)},this.stoplisteningonprocessevents=function(){this.off(this.$container,"resize",this.throttledprocesswatchedmedia),this.attr.watchdocumentscroll?this.off(document,"scroll",this.throttledprocesswatchedmedia):this.off("scroll",this.throttledprocesswatchedmedia)},this.beforeteardown=function(){this.$media.removeclass(this.attr.watchedclass)},this.preventplayertounload=function(e,i){t(e.target).toggleclass(this.attr.preventunloadclass,i.preventunload)},this.before("teardown",this.beforeteardown),this.after("initialize",function(){this.$container=t(window),this.throttledprocesswatchedmedia=a.default.throttle(this.processwatchedmedia.bind(this),this.attr.scrollthrottle),this.on(document,"uipagechanged uiwatchplayablemedia",this.updatewatchedmedia),this.on(document,"uipreventplayerunloading",this.preventplayertounload),this.listenonprocessevents(),this.on(document,"fullscreenchange webkitfullscreenchange msfullscreenchange mozfullscreenchange",this.fullscreenchange),this.updatewatchedmedia()})}var n=i("dbjh"),o=i("/lrg"),a=i("yzit"),r=i("tcn1");e.a=object(n.default)(s)}).call(e,i("4ksj"))},"+hbl":function(t,e,i){"use strict";function s(){this.defaultattrs({showplaceholderclass:"is-showplaceholder"}),this.determineplaceholdervisibilitynotincomposition=function(t){var e=this.getvisibletext();this.$text.toggleclass(this.attr.showplaceholderclass,!e)},this.determineplaceholdervisibility=function(t){this.$text.attr("data-in-composition")||this.determineplaceholdervisibilitynotincomposition()},this.after("initialize",function(){this.determineplaceholdervisibility(),this.on("uitextchanged",this.determineplaceholdervisibility),this.on(this.$text,"compositionend",this.determineplaceholdervisibilitynotincomposition)})}e.a=s},"+jq1":function(t,e,i){"use strict";function s(){this.defaults={tweetboxselector:".tweet-form",photobuttonselector:".file-input",photoiconselector:".tweet-camera",tooltipelementsselector:".file-input,button.btn",addphotolabelselector:".add-photo-label",multiphotodatacontainerselector:".multi-photo-data-container",cameraiconselector:".tweet-camera.icon",dragmediatextselector:".composerdraghelp-text",interceptavatarimagedata:!1,photolimit:1,disabledclass:"disabled",tooltipclass:"js-tooltip",disabledattribute:"disabled"},this.disablebutton=function(){this.isdisabled=!0,this.$node.addclass(this.attr.disabledclass),this.select("buttonselector").prop(this.attr.disabledattribute,!0).addclass(this.attr.disabledclass)},this.enablebutton=function(){this.isdisabled=!1,this.$node.removeclass(this.attr.disabledclass),this.select("buttonselector").prop(this.attr.disabledattribute,!1).removeclass(this.attr.disabledclass)},this.thumbadded=function(t,e){var i=e.fileid,s=h.a.get(i);if(s){var n=s.isgif;this.singleselectiontype=s.isvideo||n,this.mediaitems.push(i),this.updateinterface(),this.trigger("uipreviewthumbnailshow",{isgif:n,isvideo:s.isvideo,isimage:s.isimage});this.$node.closest(this.attr.tweetboxselector).trigger("uicomposerdisableexclusiveattachments"),this.canupload()?this.enablebutton():this.disablebutton(),this.popimagetoaddqueue()}},this.updateinterface=function(){this.updateaddphotolabel(),this.updateacceptedformats()},this.thumbremoved=function(t,e){var i=parseint(e.fileid,10);h.a.get(i)&&(this.mediaitems=this.mediaitems.filter(function(t){return t!==i}),this.singleselectiontype=!1,this.enablebutton(),this.updateinterface(),this.mediaitems.length||(this.trigger("uipreviewthumbnailhide"),this.trigger("uicomposerenableexclusiveattachments")))},this.removeallthumbs=function(){this.mediaitems=[],this.singleselectiontype=!1,this.updateinterface(),this.reset(),this.enablebutton(),this.trigger("uicomposerenableexclusiveattachments")},this.interceptgotimagedata=function(t,e){var i=e.fileids,s=0===this.imagetoaddqueue.length;this.imagetoaddqueue=this.imagetoaddqueue.concat(i),s&&this.processnextimagetoadd()},this.processnextimagetoadd=function(){if(0!==this.imagetoaddqueue.length){var t=this.imagetoaddqueue[0],e=h.a.get(t);if(!e||this.isdisabled&&!this.canupload(e,!0))return void this.popimagetoaddqueue();var i=e.filehandle;i?e.isvideo?this.mediaitems.length>0?this.addfileerror(r.a.mixed_media):this.validatevideo(i)&&this.gotvideo(e):e.isgif?this.validategif(i)&&this.gotimagedata(e):this.validateimage(i)&&this.gotimagedata(e):(this.trigger("uiimagepickernofilereadererror"),this.trigger("uishowerror",{message:object(n.default)("error uploading media")}),this.popimagetoaddqueue())}},this.popimagetoaddqueue=function(){this.imagetoaddqueue=this.imagetoaddqueue.slice(1),this.imagetoaddqueue.length>0&&this.processnextimagetoadd()},this.interceptavatarimagedata=function(t,e){"avatar"===e.uploadtype&&this.gotimagedata(e)},this.addfileerror=function(t){var e=object(l.a)(t);e&&this.trigger("uishowerror",{message:e}),this.trigger("uiimagepickererror",{message:t}),this.popimagetoaddqueue()},this.imageselectorclicked=function(t,e){this.supportsimageupload()?this.trigger("uiimagepickerclick",this.eventdataoverrides):(this.trigger("uiimagepickernofilereadererror"),this.trigger("uishowerror",{message:object(n.default)('you need adobe flash to upload photos. <a href="http://get.adobe.com/flashplayer">install adobe flash</a>')}),t.preventdefault(),t.stoppropagation())},this.supportsimageupload=function(){return c.a.hasfilereader()},this.canupload=function(t,e){if(t=t||{},this.attr.photolimit<=this.mediaitems.length)return e&&(1===this.attr.photolimit?this.addfileerror(r.a.too_many_photos_1):t.isgif||t.isvideo?this.addfileerror(r.a.mixed_media):this.addfileerror(r.a.too_many_photos)),!1;var i=h.a.get(this.mediaitems[0]);return!!i&&(this.singleselectiontype?(e&&(i.isgif&&t.isgif?this.addfileerror(r.a.gif_limit):i.isvideo&&t.isvideo?this.addfileerror(r.a.too_many_videos_1):this.addfileerror(r.a.mixed_media)),!1):!t.isgif&&!t.isvideo||(e&&this.addfileerror(r.a.mixed_media),!1))},this.updateaddphotolabel=function(){var t=void 0,e=this.mediaitems.length,i=1===e?h.a.get(this.mediaitems[0]):{},s=i.isgif,o=i.isvideo,a=this.attr.photolimit;t=e?s?object(n.default)("you can only add one gif"):o?object(n.default)("you can only add one video"):1===a&&1===e?object(n.default)("you can only add one photo"):4===a&&4===e?object(n.default)("you must remove a photo before adding another one"):object(n.default)("add more photos"):1===a?this.hasvideosupport()?object(n.default)("add photo or video"):object(n.default)("add photo"):this.hasvideosupport()?object(n.default)("add photos or video"):object(n.default)("add photos"),this.select("tooltipelementsselector").attr("data-original-title",t),this.select("photobuttonselector").prev("span.visuallyhidden").text(t),this.select("addphotolabelselector").text(t)},this.overridescribecontext=function(t,e){this.eventdataoverrides={scribecontext:e}},this.dragenter=function(t,e){this.isdisabled||this.showdragtarget(e)},this.showdragtarget=function(t){var e=object(n.default)("drag file here"),i=t&&a.a.hasfiles(t,c.a.gif_type_regexp),s=!i&&t&&a.a.hasfiles(t,c.a.image_type_regexp),o=t&&a.a.hasfiles(t,c.a.video_type_regexp),r=this.mediaitems.length&&(o||i||this.singleselectiontype)||this.mediaitems.length>=this.attr.photolimit,l=this.$node.closest(this.attr.tweetboxselector);r?l.removeclass("is-droppable"):(s?e=object(n.default)("drag photo here"):i?e=object(n.default)("drag gif here"):o&&(e=object(n.default)("drag video here")),l.addclass("is-droppable")),l.find(this.attr.dragmediatextselector).html(e)},this.dragleave=function(t,e){this.$node.closest(this.attr.tweetboxselector).removeclass("is-droppable")},this.after("initialize",function(){this.on("click",{photobuttonselector:this.imageselectorclicked});var t=this.$node.closest(this.attr.tweetboxselector);this.on(t,"uipreviewthumbnailremove",this.thumbremoved),this.on(t,"uipreviewthumbnailadded",this.thumbadded),this.on(t,"uipreviewthumbnailremoveall",this.removeallthumbs),this.on(t,"uigotimagedata",this.interceptgotimagedata),this.on(t,"uienableimageselection",this.enablebutton),this.on(t,"uidisableimageselection",this.disablebutton),this.on(t,"uioverrideimageselectorscribecontext",this.overridescribecontext),this.on(t,"uicomposerenableexclusiveattachments",this.enablebutton),this.on(t,"uicomposerdisableexclusiveattachments",this.disablebutton),this.attr.interceptavatarimagedata&&this.on(document,"uiimagesave",this.interceptavatarimagedata),this.on(document.body,"uidragenter",this.dragenter),this.on(document.body,"uidragleave uidrop",this.dragleave),this.mediaitems=[],this.imagetoaddqueue=[],this.updateinterface()})}var n=i("0d4m"),o=i("dbjh"),a=i("waph"),r=i("jsdv"),c=i("+dwm"),l=i("ylce"),h=i("h6fk"),d=i("40xb"),u=object(o.default)(s,d.a);e.a=u},"+lko":function(t,e,i){"use strict";var s=i("dbjh"),n=i("yzit"),o=i("uhc7"),a=i("ajan"),r="function"==typeof symbol&&"symbol"==typeof symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof symbol&&t.constructor===symbol&&t!==symbol.prototype?"symbol":typeof t};e.a=object(s.default)(o.a,a.a,function(){this.defaultattrs({resumedraftselector:".js-resumedraft",deletedraftselector:".js-deletedraft"}),this.initdraftdata=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.dbtweets=e},this.opendraftdialog=function(t,e){var i="object"===(void 0===e?"undefined":r(e))&&e.previousstatusidinthread;"object"!==r(this.dbtweets)||i||this.openonce()},this.resumedraft=function(t){this.trigger("uirestoretweetstormdialog",this.dbtweets),this.close(t),delete this.dbtweets},this.deletedraft=function(t){this.trigger("uitweetstormcleardb"),this.close(t),delete this.dbtweets},this.after("initialize",function(){this.openonce=n.default.once(this.open),this.on(document,"uitweetstormdbdata",this.initdraftdata),this.on(document,"uicomposeractive uiopentweetstormdialog",this.opendraftdialog),this.on("click",{resumedraftselector:this.resumedraft,deletedraftselector:this.deletedraft})})})},"+q5d":function(t,e,i){"use strict";function s(){this.defaultattrs({noshowerror:!0}),this.reportconversation=function(t,e){e=e||{};var i=l(c(t.target,"datadmuserupdates"),c(t.target,"dataconversationreported",{conversation_id:e.conversation_id})),s=l(c(t.target,"datadmerror"),c(t.target,"dataconversationreportfailed",{conversation_id:e.conversation_id}));this.post({url:"/i/direct_messages/report_conversation",data:{conversation_id:e.conversation_id,report_as:e.report_as,cursor:this.dmcursor},success:i,error:s})},this.after("initialize",function(){this.on("uireportconversation",this.reportconversation)})}var n=i("dbjh"),o=i("vtwx"),a=i("9uwv"),r=i("ldny"),c=r.a.triggerfn,l=r.a.chain,h=object(n.default)(s,o.a,a.a);e.a=h},"+q9n":function(t,e,i){"use strict";function s(){this.attributes({open:!1,text:"",welcomemessageid:void 0,conversation:{id:null},compose:{id:null,screenname:null,name:null,avatar:null}}),this.opendmdialog=function(t,e){this.attr.open&&((this.attr.conversation||{}).id?this.openconversation():this.opencompose())},this.openconversation=function(){var t=this.attr.conversation||{};this.trigger("uineedsdmdialog",{conversation_id:t.id,default_composer_text:this.attr.text,frominitdata:!0})},this.opencompose=function(){var t=this.attr.compose||{};this.trigger("uineedsdmdialog",{id:t.id,screen_name:t.screenname,name:t.name,profile_image_url_https:t.avatar,default_composer_text:this.attr.text,welcome_message_id:this.attr.welcomemessageid,frominitdata:!0})},this.after("initialize",function(){this.on("uiswiftloaded uipopstatenavigate",this.opendmdialog)})}var n=i("dbjh");e.a=object(n.default)(s)},"+uin":function(t,e,i){"use strict";function s(){this.composenewdmwithtweet=function(t,e){this.trigger("uiopennewdm",{has_tweet_attachment:!0}),this.trigger("uicomposewithtweet",e)},this.composenewdmwithoptions=function(t,e){e.tweetid&&this.trigger("uicomposewithtweet",{id:e.tweetid}),this.trigger("uineedsdmdialog",{id:e.recipientid,default_composer_text:e.defaultcomposertext,welcome_message_id:e.welcomemessageid,has_tweet_attachment:void 0!==e.tweetid,retain_tweet_attachment:void 0!==e.tweetid}),e.messagemecarddata&&this.trigger("uiaddmessagemecarddata",e.messagemecarddata)},this.after("initialize",function(){this.on("uicomposenewdmwithtweet",this.composenewdmwithtweet),this.on(window,"uicomposenewdmwithoptions",this.composenewdmwithoptions)})}var n=i("dbjh"),o=object(n.default)(s);e.a=o},"+y9g":function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div class="foundmediasearch-noresults">\n <p>yikes! gifs aren\'t loading right now.</p>\n <button type="button" class="btn js-found-media-reload-search-trigger">reload</button>\n</div>\n'),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},"+dwm":function(t,e,i){"use strict";function s(t){return object(a.a)().webkit?t+(-1===t.indexof("?")?"?":"&")+"_blob=1":t}function n(){return++m}var o=i("lsuw"),a=i("rw6j"),r=i("kgvp"),c=i("ymkx"),l=i("jsdv"),h=i("pnul"),d=i("sxxh"),u=i("h6fk"),p=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},f="function"==typeof symbol&&"symbol"==typeof symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof symbol&&t.constructor===symbol&&t!==symbol.prototype?"symbol":typeof t},m=0,g={max_file_size:5242880,max_upload_file_size:3145728,gif_name_regexp:/.+\.gif$/i,image_name_regexp:/.+\.(jpg|jpeg|png|gif)$/i,video_name_regexp:/.+\.(mp4|mov|m4v)$/i,gif_type_regexp:/\/+gif$/i,image_type_regexp:/\/+(jpg|jpeg|png|gif)$/i,video_type_regexp:/\/+(mp4|mov|m4v)$/i,vendorurl:window.url||window.webkiturl,canvastoblob:function(t,e){var i=this;return e=e||"image/jpeg",new promise(function(s,n){t.toblob?t.toblob(s,e):s(i.getblobfromdatauri(t.todataurl(e)))})},validatefilesize:function(t,e){var i=t&&t.size||t.filesize;return e=e||this.max_file_size,!i||i<=e},getfilename:function(t){return-1===t.indexof("/")&&-1===t.indexof("\\")?t:t.match(/(?:.*)[\/\\]([^\/\\]+(?:\.\w+)?)$/)[1]},hasfilereader:function(){return!("function"!=typeof filereader&&"object"!==("undefined"==typeof filereader?"undefined":f(filereader))||"no_file_reader"in d.a.fromquery(window.location))},getfilehandles:function(t){return t.files||!1},getfileextension:function(t){return t.split(".").pop().tolowercase()},getblobfromdatauri:function(t){var e=t.split(/data:|;base64,/);if(3!==e.length||!window.blob)return null;for(var i=atob(e[2]),s=i.length,n=array(s),o=0;o<s;o++)n[o]=i.charcodeat(o);return new blob([new uint8array(n)],{type:e[1]})},getdatauriobjectsize:function(t){var e=t.match(/^.*;base64,/)||[""],i=t.match(/=*$/)||[""];return math.floor(.75*(t.length-i[0].length-e[0].length))},hasblob:function(){return null!=window.blob},getobjecturl:function(t){return this.vendorurl&&t?this.vendorurl.createobjecturl(t):""},revokeobjecturl:function(t){this.vendorurl&&this.vendorurl.revokeobjecturl(t)},getfiletype:function(t,e){var i=this;return new promise(function(s,n){var o=e&&e.type;i.gif_name_regexp.test(t)||g.gif_type_regexp.test(o)?object(c.a)(e,function(t){return s(t?h.a.gif:h.a.image)}):i.image_name_regexp.test(t)||g.image_type_regexp.test(o)?s(h.a.image):i.video_name_regexp.test(t)||g.video_type_regexp.test(o)?s(h.a.video):n()})},getvideoinfo:function(t,e){var i=this,s=this.getobjecturl(t),n=e?"seeked":"loadeddata",o=document.createelement("video");o.src=s,e&&o.addeventlistener("canplay",function(){return o.currenttime=e});var a=this,r=function(t){return i.revokeobjecturl.bind(i,s),t};return new promise(function(t,e){o.addeventlistener(n,function(){var e=document.createelement("canvas");e.width=o.videowidth,e.height=o.videoheight,e.getcontext("2d").drawimage(o,0,0),a.canvastoblob(e).then(function(e){return t({duration:o.duration,thumbnail:{src:a.getobjecturl(e)}})})},!1),o.addeventlistener("error",function(){return e(l.a.file_unsupported)})}).then(r,r)},getfileinfo:function(t,e,i){var s=this;return g.getfiletype(t,e).then(function(a){var r=a===h.a.video,c=n(),l=p({isgif:a===h.a.gif,isimage:a===h.a.image,isvideo:r,filename:r?"video-thumbnail-"+c:t,filehandle:e,filetype:a,filesize:e.size,uploadid:c,mediatype:e.type},i);i&&i.mediacategoryprefix&&(l.mediacategory=i.mediacategoryprefix+a),r||(l.thumbnail={src:s.getobjecturl(e)});var d=u.a.add(l);return l=u.a.update(d,{fileid:d}),r?s.getvideoinfo(e).then(function(t){return t}).then(u.a.update.bind(u.a,l.fileid)).then(o.a):object(o.a)(l)})},fetchasblob:function(t){var e=this,i=/^data:/;return new promise(function(n,o){if(i.test(t)){var a=e.getblobfromdatauri(t);a?n(a):o()}else{var r=new xmlhttprequest;r.open("get",s(t),!0),r.responsetype="blob" ,r.onload=function(t){r.status<400?n(r.response):o()},r.onerror=function(){o()},r.send()}})},createmapofbloburls:function(t){var e=r.a.unique(t);return promise.all(e.map(function(t){return this.fetchasblob(t)},this)).then(function(t){return e.reduce(function(e,i,s){return e[i]=url.createobjecturl(t[s]),e},{})})},revokemapofbloburls:function(t){object.keys(t).foreach(function(e){return url.revokeobjecturl(t[e])})}};e.a=g},"/81g":function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.s(s.f("pictographs",t,e,1),t,e,0,16,132,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b('<img class="richeditor-pictographimage" src=""),i.b(i.v(i.f(" imageurl",t,e,0))),i.b('" style="top:"),i.b(i.v(i.f(" top",t,e,0))),i.b("px;left:"),i.b(i.v(i.f("left",t,e,0))),i.b('px;" draggable="false">')}),t.pop()),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},"/eqt":function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in a)e[s]||(e[s]=a[s]);return r.render(t,e,i)}var n=i("opvs").default,o={"promptbird/templates/dismiss_button":i("02ms"),"promptbird/templates/icon":i("8qxq"),"promptbird/templates/title":i("orcd"),"promptbird/templates/explanation":i("7sib")},a=n(o),r=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div class="promptbirdprompt promptbirdprompt--inlinepointer" data-prompt-id=""),s.b(s.v(s.f(" prompt_id",t,e,0))),s.b('" data-prompt-intent=""),s.b(s.v(s.f(" prompt_intent",t,e,0))),s.b('">\n <span class="promptbirdprompt-arrow"></span>\n'),s.b(s.rp("<promptbird/templates/dismiss_button0",t,e," ")),s.b(s.rp("<promptbird/templates/icon1",t,e," ")),s.b(s.rp("<promptbird/templates/title2",t,e," ")),s.b(s.rp("<promptbird/templates/explanation3",t,e," ")),s.b("</div>\n"),s.fl()},partials:{"<promptbird/templates/dismiss_button0":{name:"promptbird/templates/dismiss_button",partials:{},subs:{}},"<promptbird/templates/icon1":{name:"promptbird/templates/icon",partials:{},subs:{}},"<promptbird/templates/title2":{name:"promptbird/templates/title",partials:{},subs:{}},"<promptbird/templates/explanation3":{name:"promptbird/templates/explanation",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:a,render:s}}).call(e,i("jtwp"))},"/lrg":function(t,e,i){"use strict";(function(t){var s=i("reqr");e.a={getglobalnavheight:s.a.getglobalyoffset,iswithinbounds:function(t,e,i,s,n){return s=s||this.getcontainerrect(t),n=n||e[0].getboundingclientrect(),!this.isbelowviewport(t,e,i,s,n)&&!this.isaboveviewport(t,e,i,s,n)},getcontainerrect:function(t){return t.get(0)===window?{top:0,left:0,right:window.innerwidth,bottom:window.innerheight,width:window.innerwidth,height:window.innerheight}:t.get(0).getboundingclientrect()},iscontainedinviewport:function(t,e,i,s,n,o){return n=n||this.getcontainerrect(t),o=o||e[0].getboundingclientrect(),i=i||0,s=s||0,n.top+i<=o.top&&n.bottom+s>=o.bottom},ispartiallycontainedinviewport:function(t){if(!(t.$container&&t.$element||t.containerrect&&t.elementrect))return!1;var e=t.containerrect||this.getcontainerrect(t.$container),i=t.elementrect||t.$element[0].getboundingclientrect(),s=t.topthreshold||0,n=t.bottomthreshold||0,o=e.top+s,a=e.top+e.height+n,r=i.top,c=i.bottom;return!(a<r||o>c)&&(r-o>0?a-r:c-o)>=t.fractioninviewport*i.height},isaboveviewport:function(t,e,i,s,n){return s=s||this.getcontainerrect(t),n=n||e[0].getboundingclientrect(),s.top>=n.top+n.height/2+(i||0)},isbelowviewport:function(t,e,i,s,n){return s=s||this.getcontainerrect(t),n=n||e[0].getboundingclientrect(),s.bottom<=n.top+n.height/2-(i||0)},getelementclosesttomiddleofviewport:function(e){var i=this,s=this.getcontainerrect(e.$container),n=s.top+s.height/2,o=e.topthreshold||0,a=e.bottomthreshold||0,r=isnan(parsefloat(e.fractioninviewport))?1:e.fractioninviewport,c=1/0,l=void 0;return e.$elements.each(function(t,e){var h=e.getboundingclientrect(),d=h.top+h.height/2,u=math.abs(d-n);u<c&&i.ispartiallycontainedinviewport({topthreshold:o,bottomthreshold:a,fractioninviewport:r,containerrect:s,elementrect:h})&&(c=u,l=e)}),l?t(l):void 0},getcontaineroffsettop:function(t){return t.offset()?t.offset().top:0},getvisibleviewport:function(){return{top:this.getglobalnavheight(),bottom:window.innerheight,left:0,right:window.innerwidth,width:window.innerwidth,height:window.innerheight}}}}).call(e,i("4ksj"))},"/y1u":function(t,e,i){"use strict";function s(){this.defaultattrs({noshowerror:!0}),this.successcallback=function(t){return function(e){this.trigger("datadmconversationlistresult",r({},e,{is_pagination_response:this.ispaginationrequest(t)}))}},this.ispaginationrequest=function(t){return!!t.max_entry_id},this.inbox=function(t,e){e=e||{},this.get({url:"/messages",data:{min_entry_id:e.min_entry_id,max_entry_id:e.max_entry_id},eventdata:e,success:c(t.target,this.successcallback(e).bind(this)),error:c(t.target,"datadmerror")})},this.paginateinbox=function(t,e){e=e||{},this.get({url:"/inbox/paginate",data:{max_entry_id:e.max_entry_id,is_trusted:e.is_trusted},eventdata:e,success:c(t.target,this.successcallback(e).bind(this)),error:c(t.target,"datadmerror")})},this.after("initialize",function(){this.on("uineedsdmconversationlist",this.inbox),this.on("uineedsdmolderconversationlist",this.paginateinbox)})}var n=i("dbjh"),o=i("ldny"),a=i("vtwx"),r=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},c=o.a.triggerfn;e.a=object(n.default)(s,a.a)},"/ynh":function(t,e,i){"use strict";function s(){this.subscribe=function(t,e){var i=this.consumers[e]||[];-1===i.indexof(t)&&i.push(t),this.consumers[e]=i,this.lpclient.subscribe(e,this.ishidden)},this.unsubscribe=function(t,e){var i=this.consumers[e]||[];i=i.filter(function(e){return e!==t}),this.consumers[e]=i,i.length||(this.lpclient.unsubscribe(e),delete this.consumers[e])},this.subunsubhandler=function(t,e){var i=e.consumer_id,s=e.topic;if(i&&s){var n="datalpsubscribe"===t.type?this.subscribe:this.unsubscribe;(array.isarray(s)?s:[s]).foreach(n.bind(this,i))}},this.handlevisibilitychange=function(t){"uipagevisible"===t.type?(this.ishidden=!1,object.keys(this.consumers).length&&this.lpclient.reconnect()):(this.ishidden=!0,this.lpclient.close())},this.after("initialize",function(){n.a.issupported()&&(this.consumers={},this.ishidden=!1,this.lpclient=new n.a,this.lpclient.onmessage(this.trigger.bind(this,"datalpmessage")),this.on("datalpsubscribe datalpunsubscribe",this.subunsubhandler),this.on("uipagevisible uipagehidden",this.handlevisibilitychange))})}var n=i("fygb"),o=i("dbjh");e.a=object(o.default)(s)},"/ju1":function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("\n"+i),s.b(" "),s.s(s.f("intnumber_one",t,e,1),t,e,0,21,46,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.v(i.f("localized_number",t,e,0))),i.b(" like")}),t.pop()),s.b("\n"+i),s.b(" "),s.s(s.f("intnumber_other",t,e,1),t,e,0,87,113,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.v(i.f("localized_number",t,e,0))),i.b(" likes")}),t.pop()),s.b("\n"),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},"/zmn":function(t,e,i){"use strict";(function(t){var s=i("kgvp"),n={load:function(e,i,s){function n(t){a=!0,o.unbind("load"),s()}var o=t("<img/>"),a=!1;o.on("load",function(t){a||"error"===t.type||i(o)}),o.on("error",n),o.on("abort",n),o.attr("src",e)},loadmultiple:function(e){var i=s.a.unique(e),n=i.map(function(e){var i=t("<img>");return new promise(function(t,s){return i.on("load",function(e){return t({width:i[0].width,height:i[0].height})}).on("error",function(){return s()}).attr("src",e)})});return promise.all(n).then(function(t){var e={};return t.foreach(function(t,s){return e[i[s]]=t}),e})}};e.a=n}).call(e,i("4ksj"))},"02ih":function(t,e,i){"use strict";function s(){this.defaultattrs({photointentselector:".tweetbox-photointent",mediapickerselector:".tweetbox-mediapicker"}),this.movechildren=function(t,e){this.select(t).children().detach().appendto(this.select(e))},this.movemediapickerintophotointent=function(){this.movechildren("mediapickerselector","photointentselector"),this.trigger("uioverrideimageselectorscribecontext",{component:"stream_header"})},this.movemediapickeroutofphotointent=function(){this.movechildren("photointentselector","mediapickerselector"),this.trigger("uioverrideimageselectorscribecontext",this.attr.eventdata.scribecontext)},this.after("initialize",function(){this.select("photointentselector").length&&(this.on("uitweetboxexpanded",this.movemediapickeroutofphotointent),this.on("uitweetboxcondensed",this.movemediapickerintophotointent),this.iscondensed()&&this.movemediapickerintophotointent())})}e.a=s},"02ms":function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<button type="button" class="promptbirdprompt-dismiss js-promptdismiss" tabindex="-1" data-prompt-scribe-action="dismiss">\n <span class="icon icon--close icon--small">\n <span class="visuallyhidden">\n dismiss\n </span>\n </span>\n</button>\n'),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},"0t2c":function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div class="dmtypingindicator-overflowcount">\n <span>+'),s.b(s.v(s.f("count",t,e,0))),s.b("</span>\n</div>"),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},"0t9i":function(t,e,i){"use strict";function s(){this.defaultattrs({noshowerror:!0}),this.getusers=function(t,e){var i={retweeted_popup:"/i/activity/retweeted_popup",favorited_popup:"/i/activity/favorited_popup",media_tagged_popup:"/i/activity/media_tagged_popup",reply_users_popup:"/i/tweet/reply_users_popup",like_moment_popup:"/i/moments/user_likes_dialog",people_in_conversation_popup:"/i/tweet/people_in_conversation_popup"}[e.component];this.get({url:i,data:{id:e.contentid},eventdata:e,success:"dataactivitypopupsuccess",error:"dataactivitypopuperror"})},this.after("initialize",function(){this.on("uifetchactivitypopup",this.getusers)})}var n=i("dbjh"),o=i("vtwx");e.a=object(n.default)(s,o.a)},"0uxa":function(t,e,i){"use strict";function s(){this.defaultattrs({countdowncounterselector:".js-countdown-counter",counterprogressselector:".js-progress-circle",maxlength:280,warnlength:260,warnpercent:92.8,dangerclass:"radialcounter--danger",pulseclass:"radialcounter--pulse",safeclass:"radialcounter--safe",warnclass:"radialcounter--warn",countdownmaxreachedclass:"is-maxreached"}),this.updatecounter=function(t,e){var i=e.tweetlength,s=e.percent>100?100:e.percent,n=this._getcurrentcountstate(s);if(this.updatecountdowncounter(i),this._shouldcounterupdate(this.countstate,n)){var o=[n.classname];this._shouldcounterpulse(this.countstate,n)&&o.push(this.attr.pulseclass),this.countstate=n,this.counter.updateprogress(s).updateclasslist(o)}},this.updatecountdowncounter=function(t){var e=this.countdownactive;if(this.countdownactive=t>=this.attr.warnlength,e||this.countdownactive){var i=this.attr.maxlength-t<=0,s=this.countdownactive?this._getcountdownvalue(t):"";this.$countdowncounter.html(s).toggleclass(this.attr.countdownmaxreachedclass,i),this.countdownactive&&this.trigger("uicharcountwarningvisible",{charcount:s})}},this._getcountdownvalue=function(t){var e=r.a.getlanguageweight();return math.floor((this.attr.maxlength-t)/e)},this._getcurrentcountstate=function(t){var e=this.counterstates.safe;return t>=this.attr.warnpercent&&(e=t>=100?this.counterstates.danger:this.counterstates.warn),e},this._shouldcounterpulse=function(t,e){var i=[this.attr.safeclass,this.attr.warnclass,this.attr.dangerclass];return i.indexof(e.classname)>i.indexof(t.classname)},this._shouldcounterupdate=function(t,e){return!(t===this.counterstates.danger&&e===this.counterstates.danger)},this.after("initialize",function(){this.counterstates={safe:{classname:this.attr.safeclass},warn:{classname:this.attr.warnclass},danger:{classname:this.attr.dangerclass}},this.countstate=this.counterstates.safe,this.countdownactive=!1,this.$countdowncounter=this.select("countdowncounterselector"),this.counter=new a.a(this.select("counterprogressselector")[0]),this.on("uiupdatecounter",this.updatecounter)})}var n=i("dbjh"),o=i("uymv"),a=i.n(o),r=i("cxip");e.a=object(n.default)(s)},"11yp":function(t,e,i){"use strict";(function(t){function s(e,i,s){s=o({},{focusedinterval:3e4,blurredinterval:9e4,backofffactor:2},s);var a=n.default.setintervalevent(e,s.focusedinterval,s.eventdata);return t(document).on("uipagehidden",a.backoff.bind(a,s.blurredinterval,s.backofffactor)),t(document).on("uipagevisible",a.cancelbackoff.bind(a)),a}var n=i("r8bt"),o=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t};e.a=s}).call(e,i("4ksj"))},"1nsd":function(t,e,i){"use strict";function s(){this.defaultattrs({videoselector:".videotrim-video",playstateselector:".videotrim-playstate",audiostateselector:".videotrim-audiostate",isplayingclass:"is-playing",ismutedclass:"is-muted",playvideopollfreq:30}),this.loadvideo=function(t,e){this.videoduration=0,this.video.pause(),this.video.src=e.videosrc,this.video.load()},this.unloadvideo=function(){this.loadvideo(null,{videosrc:""})},this.playvideo=function(t){var e=this;void 0!==t&&this.setvideocurrenttime(t),this.isvideoplaying()||(clearinterval(this.playbackintervalid),this.playbackintervalid=setinterval(function(){e.video.paused?e.pausevideo():e.isvideoatend()&&e.pausevideo(e.endtime),e.updatevideostate()},1e3/this.attr.playvideopollfreq),this.video.play(),this.isprogressvisible=!0)},this.pausevideo=function(t){this.video.pause(),clearinterval(this.playbackintervalid),void 0!==t&&(this.isprogressvisible=!1,this.setvideocurrenttime(t)),this.updatevideostate()},this.isvideoplaying=function(){return!this.video.paused&&this.video.currenttime>0},this.setvideomuted=function(t){this.video.muted=t},this.isvideomuted=function(){return this.video.muted},this.isvideoatend=function(){var t=1/this.attr.playvideopollfreq;return this.getvideocurrenttime()>this.endtime-t||this.video.ended},this.getvideocurrenttime=function(){return this.video.currenttime},this.setvideocurrenttime=function(t){this.video.currenttime=t},this.updatevideostate=function(){this.$node.toggleclass(this.attr.isplayingclass,this.isvideoplaying()).toggleclass(this.attr.ismutedclass,this.isvideomuted()),this.trigger("uivideostatechanged")},this.readvideometadata=function(){this.videoduration=this.video.duration,this.starttime=0,this.endtime=this.videoduration,this.trigger("uivideoloaded"),this.updatevideostate()},this.videoerror=function(t){this.trigger("uivideoerror",{message:object(n.default)("video is not playable.")})},this.videounloaded=function(t){this.videoduration=0,this.starttime=0,this.endtime=0,this.trigger("uivideounloaded")},this.togglevideoplayback=function(){this.videoduration&&(this.isvideoplaying()?this.pausevideo():this.isvideoatend()?this.playvideo(this.starttime):this.playvideo())},this.toggleaudiostate=function(){this.setvideomuted(!this.isvideomuted()),this.updatevideostate()},this.after("initialize",function(){this.video=this.select("videoselector")[0],this.on("uiloadvideo",this.loadvideo),this.on("uiunloadvideo",this.unloadvideo),this.on(this.video,"loadedmetadata",this.readvideometadata),this.on(this.video,"error",this.videoerror),this.on(this.video,"emptied",this.videounloaded),this.on("click",{videoselector:this.togglevideoplayback,playstateselector:this.togglevideoplayback,audiostateselector:this.toggleaudiostate})}),this.before("teardown",function(){this.unloadvideo()})}var n=i("0d4m");e.a=s},"1qaw":function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div class="playablemedia livebroadcastcard-playercontainer">\n <div\n class="playablemedia-player livebroadcastcard-player"\n data-use-react-player\n '),s.s(s.f("serve_ads_in_player",t,e,1),t,e,0,181,205,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b("data-serve-ads-in-player")}),t.pop()),s.b(">\n </div>\n</div>\n"),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},"1c4y":function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({itemtype:"user",titleselector:".modal-title",contentselector:".activity-popup-dialog-content",contentshowingselector:".tweet-showing",usercontentselector:".activity-popup-dialog-users",footerselector:".activity-popup-dialog-footer",opendropdownselector:".user-dropdown.open .dropdown-menu",usersselector:".activity-popup-users",replyusersheadingselector:".reply-users-heading",activityusercheckboxselector:".activity-popup-dialog-users .js-user-checkbox",activityotherreplyuserscheckboxselector:".activity-popup-dialog-other-reply-users .js-other-reply-users-checkbox",accountselector:".account",saveselector:".save-action",maxtop:100,modalclasses:{retweeted_popup:"retweeted-popup",favorited_popup:"favorited-popup",media_tagged_popup:"media-tagged-popup",reply_users_popup:"reply-users-popup",like_moment_popup:"like-moment-popup",people_in_conversation_popup:"people-in-conversation-popup"}}),this.settitle=function(t){this.select("titleselector").html(t)},this.setcontent=function(t,e){this.$node.addclass("has-content");var i=this.select("contentselector");i.html(t),i.toggleclass(this.attr.contentshowingselector,!e)},this.setusers=function(t){this.$node.addclass("has-content"),this.select("usercontentselector").html(t)},this.setfooter=function(t){this.select("footerselector").html(t)},this.clearcontent=function(){this.$node.removeclass("has-content"),this.select("contentselector").empty(),this.select("usercontentselector").empty(),this.settitle(""),this.setfooter("")},this.requestpopup=function(t,e){this.openernode=t.target,this.excludereplyuserids=e.excludereplyuserids;var i=e.htmltitle,s=e.contentid,o=e.component;if(this.attr.eventdata=a.default.merge(this.attr.eventdata,{scribecontext:{component:o}},!0),this.defaulteventdata=this.attr.eventdata,this.attr.modalclasses[o]){this.clearcontent();var r=i||object(n.default)("loading...");this.settitle(r),object.keys(this.attr.modalclasses).foreach(function(t){var e=this.attr.modalclasses[t];this.$node.toggleclass(e,t===o)},this),this.open(),this.trigger("uifetchactivitypopup",{component:o,contentid:s})}},this.updatepopup=function(t,e){this.settitle(e.htmltitle),this.setusers(e.htmlusers),this.setcontent(e.htmlcontent),this.setfooter(e.htmlfooter),this.trigger("uiactivitypopuprendered"),this.setreplyuserscheckboxstate(this.excludereplyuserids);var i=this.select("usersselector");i.height()>=parseint(i.css("max-height"),10)&&i.addclass("dropdown-threshold")},this.showerror=function(e,i){this.clearcontent();var s=t("<p>").addclass("error").html(i.message);this.setusers(s,!0),this.settitle(object(n.default)("sorry! there was an error."))},this.notifyopenerdialogclosed=function(){this.trigger(this.openernode,"uiactivitypopupclosed")},this.setreplyuserscheckboxstate=function(e){var i=this;e&&(this.select("activityusercheckboxselector").each(function(s,n){var o=t(n),a=o.closest(i.attr.accountselector),r=a.attr("data-user-id");o.prop("checked",e.indexof(r)<0)}),this.updateexcludeallcheckboxstate())},this.updateexcludeallcheckboxstate=function(){var t=this.select("activityusercheckboxselector"),e=t.length===t.filter(":checked").length;this.select("activityotherreplyuserscheckboxselector").prop("checked",e)},this.saveexcludedreplyusers=function(){var e=this.select("activityusercheckboxselector").filter(":not(:checked)").toarray().map(function(e){return t(e).closest(this.attr.accountselector).attr("data-user-id")},this);this.trigger(this.openernode,"uiactivitypopupsave",{excludereplyuserids:e})},this.toggleallreplyusers=function(e){this.select("activityusercheckboxselector").prop("checked",t(e.target).prop("checked"))},this.after("initialize",function(){this.on(document,"uirequestactivitypopup",this.requestpopup),this.on(document,"dataactivitypopupsuccess",this.updatepopup),this.on(document,"dataactivitypopuperror",this.showerror),this.on(document,"uishowprofilepopup uiopentweetdialogwithoptions uineedsdmdialog uiopensignupdialog",this.close),this.on("change",{activityusercheckboxselector:this.updateexcludeallcheckboxstate,activityotherreplyuserscheckboxselector:this.toggleallreplyusers}),this.on("uidialogclosed",this.saveexcludedreplyusers),this.on("uidialogclosed",this.notifyopenerdialogclosed)})}var n=i("0d4m"),o=i("dbjh"),a=i("yzit"),r=i("uhc7"),c=i("xgwv"),l=i("el2s");e.a=object(o.default)(s,r.a,l.a,c.a)}).call(e,i("4ksj"))},"1f87":function(t,e,i){"use strict";function s(){this.attributes({conversationcontentselector:".dmconversation-content",notificationdisplayduration:7e3,mostrecentnotifiedmessagekey:"most_recent_notified_message_id",rollingtagprefix:"twitterdm",maxsimultaneousnotifications:2,notificationtype:"direct_message"}),this.handleuserupdates=function(t,e){e&&e.notifications&&e.notifications.length&&!this.haspushsubscription&&this.processnotifications(e.notifications)},this.handledmpush=function(t,e){this.processnotifications([e])},this.processnotifications=function(t){var e=this.$conversationcontainer.attr("data-thread-id"),i=this.ispagefocused()&&this.$conversationcontainer.is(":visible"),s=this.storage.getitem(this.attr.mostrecentnotifiedmessagekey)||0,n=t.length?t[t.length-1].id||0:0;this.storage.setitem(this.attr.mostrecentnotifiedmessagekey,o.a.max(n,s)),t.filter(function(t){var n=t.id&&o.a.compare(s,t.id)>=0,a=i&&t.conversation_id.tostring()===e;return!n&&!a}).foreach(function(t){this.trigger("uidisplaynativenotification",{title:t.title,body:t.body,icon:t.icon,tag:this.getrollingtag(),type:this.attr.notificationtype,click:{eventname:"uidmnotificationclicked",eventdata:{conversation_id:t.conversation_id}},displayduration:this.attr.notificationdisplayduration})},this)},this.dmnotificationclicked=function(t,e){window.focus(),this.trigger("uineedsdmdialog",{conversation_id:e.conversation_id})},this.ispagefocused=function(){return document.hasfocus()},this.getrollingtag=function(){return this.lasttagnumber=this.lasttagnumber||0,this.lasttagnumber=this.lasttagnumber>=this.attr.maxsimultaneousnotifications?1:this.lasttagnumber+1,this.attr.rollingtagprefix+this.lasttagnumber},this.updatepushsupport=function(t,e){this.haspushsubscription=!!e.subscribed},this.after("initialize",function(){this.$conversationcontainer=this.select("conversationcontentselector"),this.haspushsubscription=!1,this.on(document,"datapushsubscriptionstate",this.updatepushsupport),this.trigger("uiwantspushsubscriptionstate"),this.on(document,"datadmuserupdates",this.handleuserupdates),this.on(document,"uidmnotificationclicked",this.dmnotificationclicked),this.on(document,"datadmpushreceived",this.handledmpush),this.on(document,"datadmpushreceived","uidmrequestuserupdates"),this.storage=new a.a("dm_notifications")})}var n=i("dbjh"),o=i("luie"),a=i("wodx"),r=object(n.default)(s);e.a=r},"1hky":function(t,e,i){"use strict";(function(t){function i(){this.onclickoutside=function(e,i){i=i.bind(this),this.clickoutsidehandler=function(s,n){var o=!0;e.each(function(){if(t(s.target).closest(this).length)return o=!1,!1}),o&&i(s,n)},t(document).on("click",this.clickoutsidehandler)},this.offclickoutside=function(){this.clickoutsidehandler&&(t(document).off("click",this.clickoutsidehandler),this.clickoutsidehandler=null)},this.before("teardown",function(){this.offclickoutside()})}e.a=i}).call(e,i("4ksj"))},"1ihi":function(t,e,i){"use strict";(function(t){function s(e,i){i=i||{},this.attr={url:"/i/direct_messages/typeahead",dbname:i.dbname||"dm_typeahead",dbversion:i.dbversion||20160920,metadata:{name:"metadata",keypath:"key"},conversations:{name:"conversations",keypath:"id",indexes:[{name:"title",keypath:"title",unique:!1}]},users:{name:"users",keypath:"id",indexes:[{name:"name_lowercase",keypath:"name_lowercase",unique:!1},{name:"screen_name",keypath:"screen_name",unique:!0}]}},this.attr=c.default.merge(this.attr,e),this.after=t.noop,this.defaultattrs=t.noop,a.default.mixin(this,[l.a]),this.initialize=function(){this.isusingindexeddb=!0;var t=this;return this.openindexeddb(this.attr.dbname,this.attr.dbversion,[this.attr.metadata,this.attr.users,this.attr.conversations]).then(this.ensurelocaldatabelongstocurrentuser.bind(this,h.a.user.id)).then(this.checkiflocaldatahasexpired.bind(this)).then(this.fetchdataifexpired.bind(this)).then(this.ensuredataandschemaversionmatch.bind(this)).then(this.repopulatedatastore.bind(this)).then(function(){return t.database}).catch(this.oninitializationerror.bind(this))},this.getlocalsuggestions=function(t,e){var i=this;return new promise(function(s,n){var o=function(t){(e||s)(t||[])},a=r.a.tokenizetext(t.query),c=t.dmconversationsoptions||{},l=a.map(function(t){return this.search(t)},i);promise.all(l).then(u).then(function(t){return c.excludegroups?i.removegroups(t):t}).then(function(t){return c.excludeonetoones?i.removeonetoones(t):t}).then(function(t){return c.sortbysortid?i.sortbysortid(t):t}).then(o,o)})},this.repopulateifstale=function(t){var e=this;if(t=t||[],t.length){var i=o.a.keyrange.bound(t[0],t[t.length-1],!1,!1);return this.database.getall(this.attr.conversations.name,i).then(function(e){return e.length<t.length}).then(function(t){return t&&e.database.clear(e.attr.metadata.name)}).then(function(){return e.initialize()})}},this.removegroups=function(t){return(t||[]).filter(function(t){return t&&!t.is_group})},this.removeonetoones=function(t){return(t||[]).filter(function(t){return t&&t.is_group})},this.sortbysortid=function(t){return(t||[]).sort(function(t,e){return d.a.compare(e.sort_id,t.sort_id)})},this.openindexeddb=function(t,e,i){var s=this;return o.a.open(t,e,i).then(function(t){return s.database=t})},this.ensurelocaldatabelongstocurrentuser=function(t){var e=this;return this.database.get(this.attr.metadata.name,"user").then(function(e){return e&&e.id===t}).then(function(t){return t||e.database.clear()})},this.checkiflocaldatahasexpired=function(){var t=this.now();return this.database.get(this.attr.metadata.name,"ttl").then(function(e){return!e||!e.expires||e.expires<t})},this.fetchdataifexpired=function(t){return t&&this.get({url:this.attr.url})},this.ensuredataandschemaversionmatch=function(t){if(t){var e=(t.metadata||[]).reduce(function(t,e){return e.version||t},0);if(this.database.version===e)return t}},this.repopulatedatastore=function(t){return t&&this.database.clear().then(this.populatedatastore.bind(this,t))},this.populatedatastore=function(t){return t&&this.database.add(t)},this.oninitializationerror=function(t){this.database&&this.database.close()},this.hydrateparticipantsforonetoones=function(t){var e=this,i=t.map(function(t){return t.is_group?t:e.hydrateparticipants(t)});return promise.all(i)},this.hydrateparticipants=function(t){var e=t.participants.map(function(t){return this.getuserbyid(t)},this);return promise.all(e).then(function(e){return t.participants=e,t})},this.getuserbyid=function(t){return this.database.get(this.attr.users.name,t)},this.search=function(t){var e=this.searchusers(t),i=this.searchconversations(t),s=this.getconversation.bind(this);return promise.all([e,i]).then(u).then(p).then(function(t){return promise.all(t.map(function(t){return s(t)}))}).then(this.hydrateparticipantsforonetoones.bind(this))},this.searchusers=function(t){var e=this.database.getbyprefix(this.attr.users.name,"name_lowercase",t),i=this.database.getbyprefix(this.attr.users.name,"screen_name",t);return promise.all([e,i]).then(u).then(function(t){return t.map(function(t){return t.conversations})}).then(u)},this.searchconversations=function(t){return this.database.getbyprefix(this.attr.conversations.name,"title",t).then(function(t){return t.map(function(t){return t.id})})},this.getconversation=function(t){return this.database.get(this.attr.conversations.name,t)},this.now=function(){return(new date).gettime()}}var n=i("kgvp"),o=i("b6cp"),a=i("q9/c"),r=i("pfsh"),c=i("yzit"),l=i("vtwx"),h=i("iamj"),d=i("luie"),u=n.a.flatten,p=n.a.unique;e.a=s}).call(e,i("4ksj"))},"1jcw":function(t,e,i){"use strict";function s(){this.widgetsareloaded=function(){return!(!this.widgets||!this.widgets.init)},this.getwidgets=function(){window.twttr||this.asyncwidgetsloader(),this.widgets=window.twttr,window.twttr.ready(this._widgetsready.bind(this))},this._widgetsready=function(_){this.widgetsready&&this.widgetsready()},this.asyncwidgetsloader=function(){window.twttr=function(t,e,i){var s=t.getelementsbytagname(e)[0];if(!t.getelementbyid(i)){var n=t.createelement(e);n.id=i,n.src="//platform.twitter.com/widgets.js",s.parentnode.insertbefore(n,s);var o={_e:[],ready:function(t){o._e.push(t)}};return window.twttr||o}}(document,"script","twitter-wjs")}}e.a=s},"1qjr":function(t,e,i){"use strict";function s(){this.defaultattrs({currentpositionselector:".tweetboxuploadprogress-barposition"}),this.showprogressbar=function(t,e){var i=this.gettweetboxid();e.tweetboxid===i&&(n[i]=e.uploadid,this.$node.addclass("is-showingprogress"))},this.hideprogressbar=function(t,e){this.$node.removeclass("is-showingprogress is-uploading is-waiting is-processing");var i=this.gettweetboxid(),s=n[i];if(s){var o="uitweetsent"===t.type?"uimediasrucomplete":"uimediasrucancel";this.trigger(document,o,{uploadid:s}),this.select("currentpositionselector").width(0),delete n[i]}},this.updateprogressbar=function(t,e){n[this.gettweetboxid()]===e.uploadid&&(e.mode&&this.$node.addclass("is-"+e.mode),"uploading"===e.mode&&this.select("currentpositionselector").width(e.percent+"%"))},this.after("initialize",function(){this.on(document,"uimediasrufinalize",this.showprogressbar),this.on(document,"datamediasruprogress datamediasrusuccess",this.updateprogressbar),this.on(document,"datamediasruerror datatweeterror uitweetdialogclosed",this.hideprogressbar),this.on("uitweetsent uitweetcancelled",this.hideprogressbar)})}var n={};e.a=s},"1qzw":function(t,e,i){"use strict";(function(t){function s(e){this.attr={id:null,ttl_ms:1728e5,localstoragecount:1200,ie8localstoragecount:1e3,limit:6,version:4,localqueriesenabled:!1,remotequeriesenabled:!1,onlydmable:!1,onlyshowuserswithcanmediatag:!1,currentuserid:null,storageadjacencylist:"useradjacencylist",storagehash:"userhash",storageprotocol:"protocol",storageversion:"userversion",remotepath:"/i/search/typeahead.json",remotetype:"users",prefetchpath:"/i/search/typeahead.json",prefetchtype:"users",storageblacklist:"userblacklist",maxlengthblacklist:100},this.attr=l.default.merge(this.attr,e),this.after=t.noop,this.defaultattrs=t.noop,c.default.mixin(this,[a.a,h.a,r.a]),this.getprefetchcount=function(){return this.attr.localstoragecount},this.ismetadataexpired=function(){var t=this.storage.getitem(this.attr.storageversion),e=this.storage.getitem(this.attr.storageprotocol);return t!==this.attr.version||e!==this.getprotocol()},this.getstoragekeys=function(){return[this.attr.storageversion,this.attr.storagehash,this.attr.storageadjacencylist,this.attr.storageprotocol]},this.getdatafromlocalstorage=function(){this.userhash=this.storage.getitem(this.attr.storagehash)||this.userhash,this.adjacencylist=this.storage.getitem(this.attr.storageadjacencylist)||this.adjacencylist},this.processresults=function(t){if(!t||!t[this.attr.prefetchtype])return void this.usestaledata();t[this.attr.prefetchtype].foreach(function(t){this.isaccountmalformedandscribe(t,"typeahead_local")||(t.tokens=t.tokens.map(function(t){return"string"==typeof t?t:t.token}),t.prefetched=!0,this.userhash[t.id]=t,t.tokens.foreach(function(e){var i=n.a.getfirstchar(e);i.trim().length&&(void 0===this.adjacencylist[i]&&(this.adjacencylist[i]=[]),-1===this.adjacencylist[i].indexof(t.id)&&this.adjacencylist[i].push(t.id))},this))},this),this.storage.setitem(this.attr.storagehash,this.userhash,this.attr.ttl_ms),this.storage.setitem(this.attr.storageadjacencylist,this.adjacencylist,this.attr.ttl_ms),this.storage.setitem(this.attr.storageversion,this.attr.version,this.attr.ttl_ms),this.storage.setitem(this.attr.storageprotocol,this.getprotocol(),this.attr.ttl_ms)},this.getlocalsuggestions=function(t,e){if(!this.attr.localqueriesenabled)return void e([]);var i=n.a.tokenizetext(t.query.replace("@","")),s=this.getpotentiallymatchingids(i),o=this.getaccountsfromids(s),a=o.filter(this.matcher(i));a.sort(this.sorter),a=a.slice(0,this.attr.limit),e(a)},this.getpotentiallymatchingids=function(t){var e=[];return t.map(function(t){var i=this.adjacencylist[n.a.getfirstchar(t)];i&&(e=e.concat(i))},this),e=l.default.uniquearray(e)},this.getaccountsfromids=function(t){var e=[];return t.foreach(function(t){var i=this.userhash[t];i&&e.push(i)},this),e},this.matcher=function(t){var e=this;return function(i){var s=i.tokens;return!(e.attr.onlydmable&&!i.is_dm_able)&&(!!e.iseligibleformediatagsuggestion(i)&&(t.every(function(t){return s.filter(function(e){return 0===e.indexof(t)}).length})?i:void 0))}},this.sorter=function(t,e){var i=t.prefetched,s=e.prefetched;return i&&!s?-1:s&&!i?1:function(t,e){var i=t.score_boost?t.score_boost:0,s=e.score_boost?e.score_boost:0,n=t.rounded_score?t.rounded_score:0;return(e.rounded_score?e.rounded_score:0)+s-(n+i)}(t,e)},this.processremotesuggestions=function(t,e,i){var s=i[this.attr.id]||[],n={};return s.foreach(function(t){return n[t.id_str]=!0},this),this.requiresremotesuggestions(t.querydata)&&e[this.attr.remotetype]&&e[this.attr.remotetype].foreach(function(t){!n[t.id_str]&&(!this.attr.onlydmable||t.is_dm_able)&&this.iseligibleformediatagsuggestion(t)&&!this.isaccountmalformedandscribe(t,"typeahead_remote")&&s.push(t)},this),i[this.attr.id]=s.slice(0,this.attr.limit),i[this.attr.id].foreach(function(t){this.removeblacklistsocialcontext(t)},this),i},this.removeblacklistsocialcontext=function(t){t.first_connecting_user_id in this.socialcontextblacklist&&(t.first_connecting_user_name=void 0,t.first_connecting_user_id=void 0)},this.requiresremotesuggestions=function(t){return!(!t||!t.query)&&(t.accountswithoutatsignlocalonly?this.attr.remotequeriesenabled&&("@"===n.a.getfirstchar(t.query)||t.atsignremoved):this.attr.remotequeriesenabled)},this.iseligibleformediatagsuggestion=function(t){return!this.attr.onlyshowuserswithcanmediatag||t.can_media_tag||t.id===this.attr.currentuserid},this.isaccountmalformedandscribe=function(t,e){var i=n.a.isaccountmalformed(t);return i&&this.scribe({component:"local_storage",element:e,action:"empty"}),i},this.initialize=function(){var t=object(o.a)({withexpiry:!0});this.storage=new t("typeahead"),this.adjacencylist={},this.userhash={},this.attr.localqueriesenabled&&this.loaddata(this.attr.prefetchpath,this.attr.prefetchtype),this.socialcontextblacklist=this.storage.getitem(this.attr.storageblacklist)||{}},this.initialize()}var n=i("pfsh"),o=i("rwgq"),a=i("vtwx"),r=i("3odc"),c=i("q9/c"),l=i("yzit"),h=i("8xkx");e.a=s}).call(e,i("4ksj"))},"20ha":function(t,e,i){"use strict";var s={formatduration:function(t){return math.floor(t/60)+":"+("0"+math.floor(t%60)).slice(-2)}};e.a=s},"2coy":function(t,e,i){"use strict";function s(){this.scribetransport=n.a,this.scribeperftown=function(t,e,i){var s={product:"webclient",description:t,duration_ms:e,start_time_ms:this.starttime,metadata:json.stringify(i)};this.scribetransport.send(s,"perftown")},this.after("initialize",function(){this.starttime=(new date).gettime()})}var n=i("rmww");e.a=s},"2g5l":function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("<div class="dmavatar dmavatar--"),s.s(s.f("image_count",t,e,1),t,e,0,47,62,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.v(i.f("image_count",t,e,0)))}),t.pop()),s.s(s.f("image_count",t,e,1),t,e,1,0,0,"")||s.b("1"),s.b(' u-chromeoverflowfix">\n'),s.s(s.f("images",t,e,1),t,e,0,147,279,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <span class="dmavatar-container">\n <img class="dmavatar-image" src=""),i.b(i.v(i.f(" src",t,e,0))),i.b('" alt=""),i.b(i.v(i.f(" alt",t,e,0))),i.b('" title=""),i.b(i.v(i.f(" alt",t,e,0))),i.b('">\n </span>\n')}),t.pop()),s.b("</div>\n"),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},"2t4w":function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({medianotdisplayedselector:".tombstone",displaymediaselector:".js-display-this-media",mediacontainerselector:".js-media-container, .adaptivemedia, .js-old-media-container",tweetselector:".tweet",hiddenclass:"u-hidden"}),this.showmedia=function(t){t=t||this.$node,t.find(this.attr.medianotdisplayedselector).slideup(100),t.find(this.attr.mediacontainerselector).removeclass(this.attr.hiddenclass).slidedown(100)},this.showlimitedmedia=function(e){e.stopimmediatepropagation();var i=t(e.target).closest(this.attr.tweetselector);this.trigger("uishowlimitedmedia"),this.showmedia(i)},this.showallmedia=function(e,i){this.showmedia(t(e.target))},this.after("initialize",function(){this.on("click",{displaymediaselector:this.showlimitedmedia}),this.on("uishowallmedia",this.showallmedia)})}var n=i("dbjh");e.a=object(n.default)(s)}).call(e,i("4ksj"))},"38hd":function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<button type="button" class="modal-btn modal-close js-close">\n <span class="icon icon--close icon--medium">\n <span class="visuallyhidden">close</span>\n </span>\n</button>\n'),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},"3cjl":function(t,e,i){"use strict";function s(){this.createupload=function(t){return new r.a(t)},this.stats=function(t){this.trigger("datasrustats",{mediacategory:t.mediatype.replace("image/gif","gif").replace(/\/.*/,""),command:t.command.tolowercase(),appendbytesize:t.appendbytesize,status:t.status,duration:t.duration,totalduration:t.totalduration,totalbytesize:t.totalbytesize})},this.datatoextrainitparams=function(t){return c.a.getdecider("srumediacategory")&&t.mediacategory&&"&media_category="+encodeuricomponent(t.mediacategory)||null},this.init=function(t,e){var i=e.uploadid,s=this.uploads[i],n=o.a.get(e.fileid),a={extrainitparams:this.datatoextrainitparams(e),pausebeforefinalize:!0,stats:this.stats.bind(this),sourceurl:e.sourceurl,mediatype:e.mediatype};!s&&n&&(s=this.createupload(n.filehandle),this.uploads[i]=s),s.upload(a)},this.finalize=function(t,e){var i=this,s=e.uploadid,n=this.uploads[s];n?n.upload({extrainitparams:this.datatoextrainitparams(e),success:function(t){return i.trigger("datamediasrusuccess",{uploadid:s,mediaid:t,percent:100})},progress:function(t,e){return i.trigger("datamediasruprogress",{uploadid:s,percent:t,mode:e})},error:function(t){return i.trigger("datamediasruerror",{uploadid:s,error:t})},trimranges:e.trimrange,stats:this.stats.bind(this),sourceurl:e.sourceurl,mediatype:e.mediatype}):this.trigger("datamediasruerror",e)},this.cancelorcomplete=function(t,e){var i=this.uploads[e];i&&(i.cancel(),delete this.uploads[e],this.trigger(t,{uploadid:e}))},this.complete=function(t,e){this.cancelorcomplete("datamediasrucomplete",e.uploadid)},this.cancel=function(t,e){this.cancelorcomplete("datamediasrucancel",e.uploadid)},this.after("initialize",function(){this.uploads={},this.on(document,"uimediasruinit",this.init),this.on(document,"uimediasrufinalize",this.finalize),this.on(document,"uimediasrucancel",this.cancel),this.on(document,"uimediasrucomplete",this.complete)}),this.after("teardown",function(){var t=this;object.keys(this.uploads).foreach(function(e){return t.uploads[e].cancel()})})}var n=i("dbjh"),o=i("h6fk"),a=i("h3u/"),r=i.n(a),c=i("iamj");e.a=object(n.default)(s)},"3yho":function(t,e,i){"use strict";(function(t){function s(){this.attributes({checkselector:".dmreadreceipt-check",statusselector:".dmreadreceipt-statusview",readrecieptselector:".dmreadreceipt",seenclass:"is-seen",seenanimatedclass:"is-seenanimated",receiptexpandedclass:"is-expanded",userlistcontainerselector:".dmreadreceiptuserlist",userlistexpandedselector:".dmreadreceiptuserlist-expanded",userlisttruncatedselector:".dmreadreceiptuserlist-truncated",userlistexpandseenselector:".dmreadreceiptuserlist-expandseen",seenbyallclass:"is-seenbyall",userlistexpandedclass:"is-expanded",conversationcontentselector:".dmconversation-content",sentmessageselector:".directmessage--sent:not(.is-rapidfire)"}),this.resetstate=function(t){this.conversationid=t.conversation_id,this.isotoconversation=t.is_oto,this.participants=t.participants&&t.participants.filter(function(t){return t.id_str!==c.a.user.id})},this.localizeuserlist=function(t,e){var i=e?t.slice(0,10):t,s=t.length-i.length;if(s>0){var n={user_count:s};n["user_count_"+a.a.pluralrules.rule_for(s)]=!0;var o=d.a.render(n);i.push(o)}return(new a.a.listformatter).format(i)},this.getseenbydata=function(t,e){var i=t.filter(function(t){var i=t.join_conversation_event_id;return!i||1!==n.a.compare(i,e)}),s=i.filter(function(t){return t.last_read_event_id&&1!==n.a.compare(e,t.last_read_event_id)});return{seenbyall:s.length===i.length,seenbyusers:s}},this.setmessagetoseenstate=function(t){var e=this.isotoconversation?object(l.default)("seen"):object(l.default)("seen by everyone");t.find(this.attr.statusselector).text(e),t.find(this.attr.checkselector).addclass(this.attr.seenclass),t.find(this.attr.userlistcontainerselector).addclass(this.attr.seenbyallclass)},this.setmessagetocollapsedstate=function(t){t.data("has-expanded-read-receipt",!1),t.find(this.attr.readrecieptselector).removeclass(this.attr.receiptexpandedclass),t.find(this.attr.userlistcontainerselector).addclass("u-hidden")},this.setmessagetoexpandedstate=function(e){var i=this;this.select("sentmessageselector").each(function(s,n){var o=t(n),a=o.data("message-id")===e.data("message-id"),r=i.ismessageexpanded(o);!a&&r&&i.setmessagetocollapsedstate(o)}),e.data("has-expanded-read-receipt",!0),e.find(this.attr.readrecieptselector).addclass(this.attr.receiptexpandedclass),e.find(this.attr.userlistcontainerselector).removeclass("u-hidden")},this.populatedetails=function(t,e){var i=e.seenbyusers;if(e.seenbyall)this.setmessagetoseenstate(t);else if(!this.isotoconversation&&i.length>0){var s={user_count:i.length};s["user_count_"+a.a.pluralrules.rule_for(i.length)]=!0;var n=p.a.render(s);t.find(this.attr.statusselector).text(n);var o=i.map(function(t){return t.name}),r=this.localizeuserlist(o,!0),c=this.localizeuserlist(o,!1);t.find(this.attr.userlisttruncatedselector).html(r,!0),t.find(this.attr.userlistexpandedselector).html(c,!1)}},this.handleconversationupdate=function(e,i){var s=this;if(this.resetstate(i),this.participants){this.$content.find(this.attr.sentmessageselector).each(function(e,i){var n=t(i),o=n.data("message-id"),a=s.getseenbydata(s.participants,o);if(a.seenbyall){var r=n.find(s.attr.checkselector),c=n.data("is-read-receipt-set"),l=c?s.attr.seenanimatedclass:s.attr.seenclass;r.addclass(l)}s.ismessageexpanded(n)&&s.populatedetails(n,a),n.data("is-read-receipt-set",!0)})}},this.ismessageexpanded=function(t){return!0===t.data("has-expanded-read-receipt")},this.expandreadreceipt=function(t){if(this.participants){var e=t.data("message-id"),i=this.getseenbydata(this.participants,e);this.populatedetails(t,i),this.setmessagetoexpandedstate(t)}},this.handlereadreceiptclick=function(e,i){var s=t(e.target).closest(this.attr.sentmessageselector);this.ismessageexpanded(s)?this.setmessagetocollapsedstate(s):this.expandreadreceipt(s)},this.expandseenlist=function(e,i){t(e.target).closest(this.attr.sentmessageselector).find(this.attr.userlistcontainerselector).addclass(this.attr.userlistexpandedclass)},this.after("initialize",function(){this.$content=this.select("conversationcontentselector"),this.on("uidmconversationupdated",this.handleconversationupdate),this.on("click",{readrecieptselector:this.handlereadreceiptclick,userlistexpandseenselector:this.expandseenlist})})}var n=i("luie"),o=i("zvsr"),a=i.n(o),r=i("dbjh"),c=i("iamj"),l=i("0d4m"),h=i("l8cn"),d=i.n(h),u=i("r/ik"),p=i.n(u);e.a=object(r.default)(s)}).call(e,i("4ksj"))},"3egj":function(t,e,i){"use strict";function s(){this.defaultattrs({phonenumberinputmodalselector:"#sms-confirmation-begin-modal",pinverificationmodalselector:"#sms-confirmation-complete-modal",alertboxselector:"#sms-alert-box",alertmessageselector:"#sms-alert-message",alertboxcloseselector:"#sms-alert-close",authenticitytokenselector:"#authenticity_token",resendcodeselector:"#resend_code"}),this.setupdialog=function(t,e){this.reset(),this.open()},this.reset=function(){this.select("pinverificationmodalselector").hide(),this.select("phonenumberselector").val(""),this.savedphonenumber="",this.savedcountrycode=""},this.afteropen=function(){this.position(),this.select("alertboxselector").hide()},this.alertbannerhandler=function(t,e){this.showalert(e.message)},this.showalert=function(t){this.select("alertboxselector").show(),this.select("alertmessageselector").text(t)},this.hidealert=function(){this.select("alertboxselector").hide(),this.select("alertmessageselector").text("")},this.sendpincode=function(t,e){t.preventdefault(),this.callbackifvalidphonenumber(function(){var t=this.select("phonenumberselector").val(),e=this.select("countrycodeselector").val();this.savedphonenumber=t,this.savedcountrycode=e,this.trigger("uisendpinaction",{phone_number:t,country_code:e})})},this.resendpincode=function(){this.trigger("uiresendpinaction",{phone_number:this.savedphonenumber,country_code:this.savedcountrycode})},this.verifypincode=function(t,e){t.preventdefault();var i=this.strippin(this.select("pincodeselectorraw").val());if(!i)return void this.showalert(object(o.default)("incorrect code. please try again or request a new one."));this.trigger("uiverifypinaction",{numeric_pin:i,phone_number:this.savedphonenumber,country_code:this.savedcountrycode})},this.sendpinsuccess=function(t,e){this.select("phonenumberinputmodalselector").remove(),this.hidealert();var i=this.trimsavedphonenumber();this.select("pinverificationmodalselector").find("#phone_number_to_verify").html(i),this.select("pinverificationmodalselector").show(),this.trigger("uiverifypinformimpression")},this.trimsavedphonenumber=function(){var t=/\(*\)*\+*-*#* */g,e=this.savedphonenumber.replace(t,"");return this.savedcountrycode+e},this.verifypinsuccess=function(t,e){this.iscompleted=!0,this.close(),this.trigger("uishowmessage",{message:object(o.default)("your account is unlocked.")})},this.resendpinsuccess=function(t,e){this.showalert(e.message)},this.updatesmsconfirmationcountrycode=function(t,e){this.trigger("uismsconfirmationcountrychange")},this.phonenumberinput=function(t,e){this.startedphoneinput||(this.trigger("uismsconfirmationphonenumberinput"),this.startedphoneinput=!0)},this.pininput=function(t,e){this.startedpininput||(this.trigger("uismsconfirmationpincodeinput"),this.startedpininput=!0)},this.around("close",function(t){this.isopen()&&!this.iscompleted&&this.trigger("uicancelsmsconfirmationdialog"),t()}),this.after("initialize",function(){this.on(document,"uineedssmsconfirmationdialog",this.setupdialog),this.on("uidialogopened",this.afteropen),this.on(document,"datasendpinsuccess",this.sendpinsuccess),this.on(document,"dataresendpinsuccess",this.resendpinsuccess),this.on(document,"dataverifypinsuccess",this.verifypinsuccess),this.attr.show_sms_confirmation_dialog&&this.trigger("uineedssmsconfirmationdialog"),this.on("click",{submitregisterbuttonselector:this.sendpincode,submitverifybuttonselector:this.verifypincode,alertboxcloseselector:this.clearinvalidphonemessage,resendcodeselector:this.resendpincode}),this.on("uialertbanner",this.alertbannerhandler),this.on("uialertbannerclose",this.hidealert),this.on("submit",{phonenumberinputmodalselector:this.sendpincode,pinverificationmodalselector:this.verifypincode}),this.on("change",{countrynameselector:this.updatesmsconfirmationcountrycode}),this.on("input",{phonenumberselector:this.phonenumberinput,pincodeselectorraw:this.pininput}),this.startedphoneinput=!1,this.startedpininput=!1,this.iscompleted=!1})}var n=i("dbjh"),o=i("0d4m"),a=i("uhc7"),r=i("zibt"),c=object(n.default)(a.a,r.a,s);e.a=c},"3i53":function(t,e,i){"use strict";(function(t){function s(){var t=array.prototype.slice.call(arguments);if(!(this instanceof s)){var e=t[0],i=e.dbname,a=e.dbversion;return n(o.a.open(i,a).then(function(t){return new s(t)}),e)}this.database=t[0]}function n(e,i){return i=i||{},e.then(i.onsuccess||t.noop,i.onfailure||t.noop)}var o=i("b6cp");e.a=s,s.prototype.closeconnection=function(){this.database.close()},s.prototype.getitembykey=function(t){return n(this.database.get(t.objectstorename,t.key),t)},s.prototype.getitemsbyprefix=function(t){return n(this.database.getbyprefix(t.objectstorename,t.index,t.prefix),t)},s.prototype.additems=function(t){var e={};return e[t.objectstorename]=t.items,n(this.database.add(e),t)},s.prototype.upsertitems=function(t){var e={};return e[t.objectstorename]=t.items,n(this.database.put(e),t)},s.prototype.createobjectstore=function(t){var e=this,i=this.database.name,s=this.database.version;this.database.close();var a={name:t.objectstorename,keypath:t.keypathname,indexes:t.indexes||[]};return n(o.a.open(i,s+1,[a],!0).then(function(t){return e.database=t}),t)},s.prototype.deleteitem=function(t){return n(this.database.destroy(t.objectstorename,t.key),t)},s.prototype.clearobjectstore=function(t){return n(this.database.clear(t.objectstorename),t)},s.prototype.clearallobjectstores=function(t){return n(this.database.clear(),t)},s.prototype.checkifobjectstoreexists=function(t){return this.database.stores.indexof(t)>-1}}).call(e,i("4ksj"))},"40xb":function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({buttonselector:".btn",fileinputstring:"media[]",emptyfileinputstring:"media_empty",fileselector:"input.file-input",uploadtype:"",shouldintercepttab:!0}),n.default.mixin(this,[l.a,h.a]),this.gotmedia=function(t){t.isvideo?this.gotvideo(t):this.gotimagedata(t)},this.gotfilehandle=function(t,e){var i={mediacategoryprefix:this.attr.mediacategoryprefix};a.a.getfileinfo(t,e,i).then(this.gotmedia.bind(this))},this.reset=function(){this.resetinput("fileselector",this.attr.emptyfileinputstring),this.trigger("uipreviewthumbnailhide")},this.notifymediasruinit=function(t){var e={fileid:t.fileid,url:t.url,uploadid:t.uploadid,mediacategory:t.mediacategory,sourceurl:t.sourceurl,mediatype:t.mediatype};this.trigger("uimediasruinit",e)},this.beginsru=function(t){var e=c.a.get(t);e&&this.notifymediasruinit(e)},this.resetinput=function(t,e){var i=this.select(t);i.val("");var s=i.clone().attr("name",e);i.replacewith(s)},this.validate=function(t,e){var i=this;return a.a.getfiletype(t,e).then(function(s){var n=!1;if(s===r.a.gif?n=i.validategif(e):s===r.a.image?n=i.validateimage(e):s===r.a.video&&(n=i.validatevideo(e)),n)return{filename:t,filehandle:e};throw new error("invalid file")},function(){var t=i.hasvideosupport()?o.a.file_unsupported:o.a.not_image;throw i.addfileerror(t),t})},this.setup=function(){this.select("fileselector").attr("name",this.attr.fileinputstring)},this.fileselected=function(t){var e=this.select("fileselector").get(0),i=a.a.getfilename(e.value);if(!i)return promise.resolve();for(var s=a.a.getfilehandles(e),n=[],o=0;o<s.length;o++){var r=s[o];n.push(this.validate(i,r))}this.resetinput("fileselector",this.attr.emptyfileinputstring);var c=this;return promise.all(n).then(function(t){return t.filter(boolean).foreach(function(t){return c.gotfilehandle(t.filename,t.filehandle)})})},this.maybetabtonextfocusable=function(e){if(9===e.which){e.preventdefault();var i=e.shiftkey?-1:1,s=t("button,input,textarea,object,a[href],[tabindex],[contenteditable=true],[contenteditable=plaintext-only]").filter(":visible:not(:disabled):not([tabindex=-1])");s.eq(s.index(e.target)+i).focus()}},this.updateacceptedformats=function(){var t=this.mediaitems&&this.mediaitems.length||0,e=this.videoformats(t),i=this.imageformats(t),s=i+","+e;this.select("photobuttonselector").prop("accept",s)},this.notifyfileselected=function(t){var e={type:"uifileselected",defaultbehavior:this.beginsru.bind(this,t.fileid)};this.trigger(e,t)},this.after("initialize",function(){this.setup(),this.on("change",this.fileselected),this.attr.shouldintercepttab&&this.on("keydown",this.maybetabtonextfocusable),this.on("click",{fileselector:"uifileinputclicked"})})}var n=i("q9/c"),o=i("jsdv"),a=i("+dwm"),r=i("pnul"),c=i("h6fk"),l=i("jtih"),h=i("wrje");e.a=s}).call(e,i("4ksj"))},"478n":function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("<button type="button" class="btn-link js-create-custom-timeline-button" data-element-term="create_custom_timeline_button">create new collection</button>\n'),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},"4lvv":function(t,e,i){"use strict";function s(){this.defaultattrs({reporteruseridselector:"#current-user-id",newreportflowformselector:".new-report-flow-form",newreportflowiframeselector:"#new-report-flow-frame",newreportflownextselector:".new-report-flow-next-button",newreportflownexttextselector:".next-text",newreportflowaddtextselector:".add-text",newreportflowbackselector:".new-report-flow-back-button",newreportflowcloseselector:".new-report-flow-close-button",newreportflowdoneselector:".new-report-flow-done-button"}),this.setupdialog=function(t,e){this.reset(),this.clientevent=e.clientevent||o.a,this.eventdata=e,this.settriggeredtarget(),this.setnewreportflowcontext(),this.shownewreportflow(),this.open()},this.reset=function(){this.iscomplete=!1},this.settriggeredtarget=function(){this.$node.removeclass("report-moment report-user report-tweet report-dm report-rtbad"),"user"===this.eventdata.target?this.$node.addclass("report-user"):"moment"===this.eventdata.target?this.$node.addclass("report-moment"):"dm-conversation"===this.eventdata.target?this.$node.addclass("report-dm"):"rtb-ad"===this.eventdata.target?this.$node.addclass("report-rtbad"):this.$node.addclass("report-tweet")},this.buildreportclientcontextparams=function(t){var e=this.clientevent.scribecontext.page,i=this.clientevent.scribecontext.section||"",s=this.eventdata.scribecontext?this.eventdata.scribecontext.component||"":"",n=e+":"+i+":"+s;if(t.client_location=n,this.clientevent.scribedata)switch(this.clientevent.scribedata.internal_referer&&(t.client_referer=this.clientevent.scribedata.internal_referer),e){case"profile":t.profile_id=this.clientevent.scribedata.profile_id||"";break;case"search":this.clientevent.scribedata.search_details&&(t.search_query=this.clientevent.scribedata.search_details.query||"",t.search_source=this.clientevent.scribedata.search_details.query_source||"",t.search_result_filter=this.clientevent.scribedata.search_details.result_filter||"")}return t},this.buildreportsourceparams=function(t){return this.$node.hasclass("report-user")?t.source="reportprofile":this.$node.hasclass("report-moment")?(t.source="reportmoment",t.is_media="true",t.reported_moment_id=this.eventdata.momentid,t.reported_tweet_id=this.eventdata.tweetid):this.$node.hasclass("report-dm")?(t.source="reportdmconversation",t.reported_direct_message_conversation_id=this.eventdata.reporteddirectmessageconversationid,t.reported_direct_message_id=this.eventdata.reporteddirectmessageid,t.reported_user_id=this.eventdata.userid,t.reported_user_id||(t.reported_user_id=0)):this.$node.hasclass("report-rtbad")?(t.source="reportadcreative",t.reported_ad_creative_id=this.eventdata.creativeid,t.reported_user_id=this.eventdata.userid,t.report_type="report_ads"):(t.source="reporttweet",t.reported_moment_id=this.eventdata.momentid,t.reported_tweet_id=this.eventdata.tweetid,this.eventdata.conversationsection&&(t.conversation_section=this.eventdata.conversationsection)),t},this.setnewreportflowcontext=function(){var t=this.select("reporteruseridselector").val(),e=(!!this.eventdata.mediatype).tostring(),i=("promoted"===this.eventdata.disclosuretype).tostring(),s={next_view:"report_story_start",reporter_user_id:t,reported_user_id:this.eventdata.userid,is_media:e,is_promoted:i,lang:document.documentelement.lang||"en"},n=this.buildreportsourceparams(s),o="/i/safety/report_story?"+r.a.encode(this.buildreportclientcontextparams(n));this.select("newreportflowiframeselector").attr("src",o)},this.shownewreportflow=function(){this.$node.addclass("new-report-flow-dialog"),this.$node.attr("aria-hidden",!1),this.select("newreportflowbackselector").hide(),this.select("newreportflowdoneselector").hide(),this.select("newreportflownextselector").show(),this.select("newreportflownexttextselector").show(),this.select("newreportflowaddtextselector").hide()},this.cancelreport=function(){this.trigger("uididcancelreport",this.eventdata)},this.completereport=function(){this.iscomplete=!0,this.close()},this.around("close",function(t){this.isopen()&&!this.iscomplete&&this.cancelreport(),this.select("newreportflowiframeselector").attr("src",""),t()}),this.newreportflowframenext=function(){this.select("newreportflowiframeselector").contents().find("#report_webview_form").submit()},this.newreportflowframeback=function(){this.select("newreportflownexttextselector").show(),this.select("newreportflowaddtextselector").hide(),this.select("newreportflowiframeselector").get(0).contentwindow.history.back()},this.getiframelocation=function(){return this.select("newreportflowiframeselector").contents().get(0).location},this.checknewreportflowcontentandupdate=function(){var t=this.getiframelocation(),e=t.href.indexof("report_story_start")>=0,i=t.href.indexof("/i/safety/report_story_complete")>=0;if(e)this.select("newreportflowbackselector").hide(),this.select("newreportflowdoneselector").hide(),this.select("newreportflowcloseselector").hide(),this.select("newreportflownexttextselector").show(),this.select("newreportflowaddtextselector").hide();else if(i){this.select("newreportflowbackselector").hide(),this.select("newreportflownextselector").hide(),this.select("newreportflowaddtextselector").hide(),this.select("newreportflownexttextselector").hide(),this.select("newreportflowdoneselector").show();var s=t.search.match(/\baction=([^&]+)/),n=void 0;if(this.eventdata.userid)n=this.eventdata.userid;else{var o=t.search.match(/\breported_user_id=([^&]+)/);n=o[1]}if(null!=s){var a={userid:n,impressionid:this.eventdata.impressionid,disclosuretype:this.eventdata.disclosuretype,skipscribe:!0},r=s[1].tolowercase();if("error"===r)this.select("newreportflowcloseselector").show(),this.select("newreportflowbackselector").hide(),this.select("newreportflowdoneselector").hide();else{var c=void 0;"mute"===r?c="uididmuteuser":"block"===r?c="uiblockaction":"unfollow"===r&&(c="uiunfollowaction"),void 0!==c&&this.trigger(c,a),this.completereport()}}}else this.select("newreportflowbackselector").show(),this.select("newreportflowdoneselector").hide(),this.select("newreportflowcloseselector").hide()},this.after("initialize",function(){this.iscomplete=!1,this.on(document,"uineedsreportdialog",this.setupdialog);var t=this;this.select("newreportflowiframeselector").on("load",function(){return t.checknewreportflowcontentandupdate()}),this.on("click",{newreportflownextselector:this.newreportflowframenext,newreportflowbackselector:this.newreportflowframeback,newreportflowdoneselector:this.close,newreportflowcloseselector:this.close})})}var n=i("dbjh"),o=i("nnes"),a=i("uhc7"),r=i("tx0g"),c=object(n.default)(a.a,s);e.a=c},"4oxf":function(t,e,i){"use strict";function s(){this.after("initialize",function(){var t=this.attr.typeaheaddata;t&&(this.attachchild(o.a,this.$node,{inputselector:"div.rich-editor, textarea.tweet-box",completeallentities:t.hashtags&&t.hashtags.enabled,includetweetcontext:!0,tweetcontextenabled:t.tweetcontextenabled,allowaccountswithoutatsign:t.fullnamematchingincompose,inputistweetbox:!0}),this.attachchild(n.a,this.$node,{inputselector:"div.rich-editor, textarea.tweet-box",blocklinkactions:!0,includesearchglass:!1,parsehashflags:!0,typeaheadsrc:"compose",renderlimit:this.attr.renderlimit,datasourcerenders:[["accounts",["accounts"]],["topics",["hashtags"]]],datasourceoptions:{accountswithoutatsignlocalonly:!0,topicsmuststartwithhashtag:!0},accountsshortcutshow:this.attr.accountsshortcutshow,deciders:t}))})}var n=i("ccv7"),o=i("args");e.a=s},"4pj3":function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({containerselector:".stream-container",itemsselector:"#stream-items-id",genericitemselector:".js-stream-item",timelineendselector:".timeline-end",backtotopselector:".back-to-top",lastitemselector:".stream-item:last",streamitemcontentsselector:".js-actionable-tweet, .js-actionable-user, .js-activity, .js-story-item",truncationlimit:200,highlightedselector:".stream-container .stream li.js-stream-item.js-activity",tweetcontainerselector:"li",reloadtimelineselector:".js-reload-timeline",usededuping:!1}),this.findfirstitemcontent=function(e){var i=e.find(this.attr.streamitemcontentsselector);return i=i.not(".conversation-tweet"),t(i[0])},this.injectitems=function(e,i,s,n){var o=t("<div/>").html(i),a=this.getitemstoinject(o),r=o.find(this.attr.genericitemselector);if(a.length>0&&this.select("timelineendselector").addclass("has-items"),"prepend"===e&&a.length>this.attr.truncationlimit&&(a.length=this.attr.truncationlimit,r.length=this.attr.truncationlimit),this.injecttodom(e,a),this.reportinjecteditems(r,s,n),"prepend"===e){var c=this.select("itemsselector");c.find(">:gt("+(this.attr.truncationlimit-1)+")").remove();for(var l=c.children().last(),h=void 0;l.find(".promoted-tweet").length;)h=l.prev(),l.remove(),l=h}return a},this.getitemstoinject=function(t){return t.children()},this.injecttodom=function(t,e){this.select("itemsselector")[t](e)},this.removeduplicates=function(t){var e=[];return t.filter(function(t){return!t.tweetid||-1===e.indexof(t.tweetid)&&(e.push(t.tweetid),!0)})},this.extracttimestamp=function(t){return t.find("[data-time-ms]").attr("data-time-ms")},this.reportinjecteditems=function(e,i,s){function n(t){return"uihasinjectednewtimeline"===i||"uihasinjectedoldtimelineitems"===i||"uihasinjectedrangetimelineitems"===i}var o=this,a=[],c=0;e.each(function(e,s){n(i)&&(a=a.concat(o.extrainteractiondata(t(s))),a.push(o.interactiondata(o.findfirstitemcontent(t(s)))),c=math.max(c,o.extracttimestamp(t(s)))),o.trigger(s,"uihasinjectedtimelineitem")}),a=this.removeduplicates(a);var l={};n(i)&&(l={scribecontext:{component:"stream"},scribedata:{},items:a},s&&s.autoplay&&(l.scribedata.event_initiator=r.a.clientsideapp),s&&s.starttimems&&(l.scribedata.duration_ms=window.performance.now()-s.starttimems)),this.trigger("uiwantstorefreshtimestamps"),this.trigger(i,l)},this.inspectitemsfromserver=function(t,e){this.isinitialitem(e)?this.notifynewitems(e):this.isolditem(e)?this.injectolditems(e):this.isnewitem(e)?this.notifynewitems(e):this.wasrangerequest(e)&&this.injectrangeitems(e)},this.investigatedataerror=function(t,e){var i=e.sourceeventdata;i&&(this.wasrangerequest(i)?this.notifyrangeitemserror(e):this.wasnewitemsrequest(i)||this.wasolditemsrequest(i)&&this.notifyolditemserror(e))},this.possiblyshowbacktotop=function(){var e=this.select("lastitemselector").position();e&&e.top>=t(window).height()&&this.select("backtotopselector").show()},this.scrolltotop=function(){object(l.a)(0,"fast")},this.gettimelineposition=function(t){return t.closest(this.attr.genericitemselector).index()},this.updatehighlighting=function(e,i){var s=this;this.select("highlightedselector").each(function(e,n){var o=t(n),a=s.extracttimestamp(o);o.toggleclass("highlighted",a>i),a<=i&&o.removeclass("highlighted")})},this.handletweetremoved=function(){this.select("genericitemselector").length||this.select("timelineendselector").removeclass("has-items")},this.handletweetdelete=function(e,i){this.$node.find('[data-tweet-id="'+i.sourceeventdata.id+'"]').toarray().foreach(function(e,s){var n=t(e);this.trigger(n,"uibeforetweetremoved",i),n.closest(this.attr.tweetcontainerselector).remove(),this.trigger("uitweetremoved",i)},this)},this.reloadtimeline=function(t,e){t.preventdefault(),this.trigger("uinearthebottom")},this.injectdeferreditems=function(){var t=this.$node.find("script[type="text/twitter-deferred-timeline-stream-items"]");t.length&&(this.injectitems("append",t.html(),"uihasinjectedoldtimelineitems"),t.remove())},this.after("initialize",function(){this.on("datagotmoretimelineitems",this.inspectitemsfromserver),this.on("datagotmoretimelineitemserror",this.investigatedataerror),this.on(document,"uiupdateactivityhighlighting",this.updatehighlighting),this.on("uitweetremoved",this.handletweetremoved),this.on("uireplytotweet","uiopenreplydialog"),this.on(document,"datadiddeletetweet",this.handletweetdelete),this.on("click",{backtotopselector:this.scrolltotop,reloadtimelineselector:this.reloadtimeline}),this.possiblyshowbacktotop(),window.requestidlecallback(this.injectdeferreditems.bind(this))})}var n=i("dbjh"),o=i("jdpb"),a=i("alsu"),r=i("unvb"),c=i("lrgq"),l=i("lv5l"),h=i("ao66"),d=i("uchl");e.a=object(n.default)(s,o.a,a.a,c.a,h.a,d.a)}).call(e,i("4ksj"))},"4th6":function(t,e,i){"use strict";function s(){this.defaultattrs({challengeselector:"#recaptcha_challenge_field",responseselector:"#recaptcha_response_field",submitselector:"#recaptcha_submit",captchaname:"captcha",bodytextselector:".modal-text",captchaformselector:"#captcha-challenge-form",recaptchapublickey:"6lfbtaaaaaaaae0hk8vnfd1thhnn9ljuow6fgulo"}),this.refreshcaptchadialog=function(t,e){this.reloadcaptcha(),this.open()},this.reloadcaptcha=function(){window.recaptcha&&window.recaptcha.reload()},this.submitcaptcha=function(){var t=this.select("challengeselector").val(),e=this.select("responseselector").val();this.trigger("uisubmitspamchallenge",{challenge:t,response:e,challengename:this.attr.captchaname})},this.getrecaptcha=function(t,e){this.isrecaptchadefined()&&window.recaptcha.create(this.attr.recaptchapublickey,"captcha-challenge-form",{theme:"clean",callback:function(){window.recaptcha.focus_response_field(),t&&e.select("bodytextselector").text(t),e.open()}})},this.isrecaptchadefined=function(){return void 0!==window.recaptcha},this.opencaptchadialog=function(t,e){this.getrecaptcha(e.message,this)},this.after("initialize",function(){this.on("click",{submitselector:this.submitcaptcha}),this.on(document,"uiopenspamcaptchachallenge",this.opencaptchadialog),this.on(document,"uiclosespamcaptchachallenge",this.blurandcloseimmediately),this.on(document,"uirefreshspamcaptchachallenge",this.refreshcaptchadialog)})}var n=i("dbjh"),o=i("uhc7");e.a=object(n.default)(s,o.a)},"4iwu":function(t,e,i){"use strict";var s=i("tx0g"),n=i("dbjh");e.a=object(n.default)(function(){this.triggercommand=function(){var t=this.attr.href,e=s.a.querymap(t);switch(e.action){case"compose":this.trigger("uiopentweetdialog",this._trimparams(["action","mode"],e)),this._removequerystringfromurl();break;case"overlay":e.screen_name&&e.tweet_id&&(this.trigger("uioverlaynavigate",{href:e.screen_name+"/status/"+e.tweet_id}),this._removequerystringfromurl())}},this._removequerystringfromurl=function(){if(window.history&&history.replacestate){var t=window.location.href.replace(/\?[^#]*/,"");history.replacestate({title:document.title},document.title,t)}},this._trimparams=function(t,e){var i={};return object.getownpropertynames(e).foreach(function(s){t.indexof(s)>=0&&(i[s]=e[s])}),i},this.after("initialize",function(){"string"==typeof this.attr.href&&this.on("uiswiftloaded",this.triggercommand)})})},"4oun":function(t,e,i){"use strict";e.a=function(t,e,i){return function(){if(e.apply(i||this,arguments))return t.apply(i||this,arguments)}}},"5e2z":function(t,e,i){"use strict";function s(){this.attributes({avatarselector:".dmupdateavatar-avatar",popoverselector:".dmpopover",popovercontentselector:".dmpopover-content",viewavatarselector:".dmupdateavatar-view",removeavatarselector:".dmupdateavatar-remove",changeavatarselector:".dmupdateavatar-change",spinnerclass:"dmspinner",filedataselector:"input.file-data",filedatastring:"media_data[]",emptyfiledatastring:"media_data_empty",fileinputstring:"media[]",emptyfileinputstring:"media_empty",filenameselector:"input.file-name",filenamestring:"media_file_name",fileselector:"input.file-input",gifsupport:!1,videosupport:!1,shouldintercepttab:!1}),this.resetavatar=function(t,e){this.avatarhtml=void 0,this.fullsizeurl=void 0,this.conversationid=e.conversation_id,this.customavatar=!1,this.istrusted=!1,this.editallowed=!1,this.isloading=!1},this.updateavatar=function(t,e){if(!e||!e.html||this.avatarhtml!==e.html){this.avatarhtml=e.html,this.fullsizeurl=e.full_size_url,this.conversationid=e.conversation_id,this.customavatar=e.is_custom,this.istrusted=e.is_trusted;var i=e.is_oto||!this.customavatar&&!this.istrusted;this.editallowed=!i,this.isloading=!1}},this.showavatar=function(){this.fullsizeurl&&this.trigger("uidmdialogmediapreview",{imgurl:this.fullsizeurl})},this.removeavatar=function(){this.trigger("uidmremoveconversationavatar",{conversation_id:this.conversationid})},this.changeavatar=function(){this.select("fileselector").click()},this.handlefileselected=function(t,e){t.preventdefault(),this.reset();var i=e.fileid;this.beginsru(i),this.trigger("uidmupdateconversationavatar",{conversation_id:this.conversationid,fileid:i})},this.updatefailed=function(){this.isloading=!1},this.addfileerror=function(t){var e=object(o.a)(t);e&&this.trigger("uishowerror",{message:e}),this.updatefailed()},this.togglespinner=function(t){this.$avatar.toggleclass(this.attr.spinnerclass,t)},this.disablepopover=function(){this.select("popoverselector").trigger("uidisabledmpopover")},this.enablepopover=function(){this.select("popoverselector").trigger("uienabledmpopover")},this.render=function(){this.isloading?(this.$avatar.empty(),this.togglespinner(!0),this.disablepopover()):(this.avatarhtml?this.$avatar.html(this.avatarhtml):this.$avatar.empty(),this.togglespinner(!1),this.editallowed?this.enablepopover():this.disablepopover(),this.$node.toggleclass("has-defaultavatar",!this.customavatar),this.$node.toggleclass("has-restrictedactions",!this.istrusted))},this.avatarloading=function(){this.isloading=!0},this.after("updateavatar",this.render),this.after("updatefailed",this.render),this.after("resetavatar",this.render),this.after("avatarloading",this.render),this.after("initialize",function(){this.$avatar=this.select("avatarselector"),this.on("uidmresetconversationavatar",this.resetavatar),this.on("uidmsetconversationavatar",this.updateavatar),this.on("uifileselected",this.handlefileselected),this.on(document,"datadmupdateconversationavatarfailed datadmremoveconversationavatarfailed",this.updatefailed),this.on(document,"uidmremoveconversationavatar uidmupdateconversationavatar",this.avatarloading),this.on("click",{viewavatarselector:this.showavatar,changeavatarselector:this.changeavatar,removeavatarselector:this.removeavatar,popovercontentselector:"uiclosedropdowns"}),this.on("uidmrequestviewconversationavatar",this.showavatar),this.on("uidmrequestuploadconversationavatar",this.changeavatar),this.on("uidmrequestremoveconversationavatar",this.removeavatar)})}var n=i("dbjh"),o=i("ylce"),a=i("40xb");e.a=object(n.default)(s,a.a)},"5hsp":function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<span class="username u-dir u-texttruncate" dir="ltr" '),s.sub("wrapper_attr",t,e,i),s.b(">@<b>"),s.b(s.v(s.f("screen_name",t,e,0))),s.b("</b></span>"),s.fl()},partials:{},subs:{wrapper_attr:function(t,e,i,s){}}})}).call(e,i("jtwp"))},"5wkh":function(t,e,i){"use strict";function s(){this.dismiss=function(t,e){this.post({url:["/i/feedback/dismiss/",e.feedbackid,".json"].join(""),success:"datab2cfeedbackdismissed",error:"datab2cfeedbackdismissedfailed"}),this.trigger("uidmhideerror")},this.after("initialize",function(){this.on(document,"uib2cfeedbackdismiss",this.dismiss)})}var n=i("dbjh"),o=i("vtwx"),a=object(n.default)(s,o.a);e.a=a},"5dpv":function(t,e,i){"use strict";function s(){this.publishtyping=function(t,e){e&&e.conversation_id&&(this.trigger("datadmtypingpublished"),this.post({url:"/i/direct_messages/publish_typing",data:{conversation_id:e.conversation_id}}))},this.after("initialize",function(){this.on("uidmusertyping",this.publishtyping)})}var n=i("dbjh"),o=i("vtwx");e.a=object(n.default)(s,o.a)},"5k28":function(t,e,i){"use strict";function s(){this.defaultattrs({authwebviewdialogiframeselector:".auth-webview-card-iframe",authwebviewdialogtitleselector:".modal-title",authwebviewactionselector:".authwebviewcard-authwebviewaction",authwebviewcardctaclass:"authwebviewcard-button",authwebviewcardimageclass:"authwebviewcard-productimagewrapper",authwebviewtweetselector:".tweet",commercecardselector:".authwebviewcard",top:47}),this.openauthwebviewdialog=function(t,e){if(this.attr.loggedin){var i=e.webviewurl;e.tweetid&&(i=this.appendqueryparam(i,"referringtweetid",e.tweetid)),e.impressionid&&(i=this.appendqueryparam(i,"impressionid",e.impressionid)),this.select("authwebviewdialogiframeselector").attr("src",i),this.select("authwebviewdialogtitleselector").html(e.webviewtitle),this.open()}else this.trigger(document,"uiopensignupdialog")},this.appendqueryparam=function(t,e,i){var s=document.createelement("a");s.href=t;var n=encodeuricomponent(e)+"="+encodeuricomponent(i);""===s.search?s.search=n:s.search+="&"+n;var o=s.href;return s=null,o},this.closedialog=function(t,e){this.select("authwebviewdialogiframeselector").attr("src","about:blank"),this.off(window,"message",this.adjustiframeheight),this.off(window,"message",this.proxyiframeevents)},this.adjustiframeheight=function(t){this.fitiframeheight(t,{iframeselector:this.attr.authwebviewdialogiframeselector,isqualified:function(t){return t.name&&"auth_webview"===t.name&&t.height}})},this.setactiveviewselector=function(t,e){this.activeviewselector=e.selector||""},this.setupmessagelistener=function(){this.on(window,"message",this.adjustiframeheight),this.on(window,"message",this.proxyiframeevents)},this.after("initialize",function(){this.activeviewselector="",this.on("uidialogopened",this.setupmessagelistener),this.on("uidialogclosed",this.closedialog),this.on(window,"uiopenauthwebviewdialog",this.openauthwebviewdialog),this.on(document,"uicommercesetactiveviewselector",this.setactiveviewselector)})}var n=i("dbjh"),o=i("uhc7"),a=i("zvxx"),r=i("ipyt"),c=i("tbnr"),l=i("vuuo"),h=object(n.default)(s,o.a,a.a,r.a,c.a,l.a);e.a=h},"5kfr":function(t,e,i){"use strict";function s(){this.rewriteeventname=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var s="string"==typeof e[0]||e[0].defaultbehavior?0:1,o=e[s],a=o.type||o;e[s]=object(n.default)(a,this.attr.eventparams,!0),o.type&&(o.type=e[s],e[s]=o),t.apply(this,e)},this.around("on",this.rewriteeventname),this.around("off",this.rewriteeventname),this.around("trigger",this.rewriteeventname)}var n=i("8jb6");e.a=s},"5lan":function(t,e,i){"use strict";function s(){this.defaultattrs({topbarspacerselector:".topbar-spacer"}),this.adjustheight=function(t,e){this.select("topbarspacerselector").css("padding-top","-="+e.height)},this.after("initialize",function(){this.on("uibannerdismissed",this.adjustheight)})}var n=i("dbjh");e.a=object(n.default)(s)},"6+u0":function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({top:90,contentselector:".list-membership-content",createlistselector:".create-a-list",membershipselector:".list-membership-container li"}),this.openlistmembershipdialog=function(t,e){this.userid=e.userid,this.userid&&this.trigger("uineedslistmembershipcontent",{userid:this.userid}),this.$content.empty(),this.$node.removeclass("has-content"),this.open()},this.addlistmembershipcontent=function(t,e){this.$node.addclass("has-content"),this.$content.html(e.html)},this.handlenolistmembershipcontent=function(t,e){this.close(),this.trigger("uishowerror",e)},this.togglelistmembership=function(e,i){var s=t(e.target),n={userid:s.closest("[data-user-id]").attr("data-user-id"),listid:s.closest("[data-list-id]").attr("data-list-id")},o=t("#list_"+n.listid);o.is(":visible")&&(o.closest(this.attr.membershipselector).addclass("pending"),o.data("is-checked")?this.trigger("uiremoveuserfromlist",n):this.trigger("uiaddusertolist",n))},this.updatemembershipstate=function(e){var i=this;return function(s,n){var o=t("#list_"+n.sourceeventdata.listid);o.closest(i.attr.membershipselector).removeclass("pending"),o.prop("checked",e),o.data("is-checked",e),o.attr("data-is-checked",e)}},this.openlistcreatedialog=function(){this.close(),this.trigger("uiopencreatelistdialog",{userid:this.userid})},this.after("initialize",function(){this.$content=this.select("contentselector"),this.on("click",{createlistselector:this.openlistcreatedialog,membershipselector:this.togglelistmembership}),this.on(document,"uilistaction uiopenlistmembershipdialog",this.openlistmembershipdialog),this.on(document,"datagotlistmembershipcontent",this.addlistmembershipcontent),this.on(document,"datafailedtogetlistmembershipcontent",this.handlenolistmembershipcontent),this.on(document,"datadidaddusertolist datafailedtoremoveuserfromlist",this.updatemembershipstate(!0)),this.on(document,"datadidremoveuserfromlist datafailedtoaddusertolist",this.updatemembershipstate(!1))})}var n=i("dbjh"),o=i("uhc7"),a=object(n.default)(s,o.a);e.a=a}).call(e,i("4ksj"))},"6ej1":function(t,e,i){"use strict";function s(){this.scribeopen=function(t,e){this.scribeembedaction("open",e)},this.scribeoembederror=function(t,e){this.scribeembedaction("request_failed",e)},this.scribeembedcopy=function(t,e){this.scribeembedaction("copy",e)},this.scribeembederror=function(t,e){this.scribeembedaction("embed_request_failed")},this.scribeembedaction=function(t,e){this.scribeinteraction(t,r({},e,{scribecontext:{component:"embed_tweet_dialog"}}))},this.after("initialize",function(){this.on("uiembedrequestfailed",this.scribeembederror),this.on("uineedsembedtweetdialog uineedsembedvideodialog",this.scribeopen),this.on("uioembederror",this.scribeoembederror),this.on("uiusercopiedembedcode",this.scribeembedcopy)})}var n=i("dbjh"),o=i("3odc"),a=i("gcfh"),r=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t};e.a=object(n.default)(s,o.a,a.a)},"6l6i":function(t,e,i){"use strict";function s(){this.defaultattrs({createorupdateeventname:"uicreatecustomtimeline",orderselector:"[name=create-timeline-order]:checked"}),this.around("params",function(t){var e=t();return e.tweetid=this.tweetid,e.impressionid=this.impressionid,e}),this.opendialog=function(t,e){this.tweetid=e.tweetid,this.impressionid=e.impressionid;var i={is_create_dialog:!0,id_prefix:"create",curation_reverse_chron:!0},s=l.a.render(i);this.$node.html(s),this.$dialog=this.$dialogcontainer.find(this.attr.modalselector),this.open()},this.after("open",function(){o.a.attachto(".custom-timeline-name-field",{maxlength:25,superwarnlength:20,warnlength:15,textselector:"#custom-timeline-name",counterselector:".custom-timeline-name-count"}),o.a.attachto(".custom-timeline-description-field",{maxlength:160,superwarnlength:150,warnlength:140,textselector:"#custom-timeline-description",counterselector:".custom-timeline-description-count"})}),this.after("initialize",function(){this.on(document,"uiopencreatecustomtimelinedialog",this.opendialog)})}var n=i("dbjh"),o=i("7xpg"),a=i("uhc7"),r=i("sjmd"),c=i("jmwl"),l=i.n(c);e.a=object(n.default)(a.a,r.a,s)},"6mbd":function(t,e,i){"use strict";e.a={path:"/flash/1/"}},"6n1l":function(t,e,i){"use strict";function s(){this.allowteardown=function(t,e){this.attr.noteardown=!1},this.after("initialize",function(){this.on("uiallowteardown",this.allowteardown)})}e.a=s},"6prl":function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({dialogselector:"#embed-tweet-dialog",dialogcontentselector:"#embed-tweet-dialog .modal-content",previewcontainerselector:".embed-preview",embedcodedestinationselector:".embed-destination",triggerselector:".js-embed-tweet",overlayselector:".embed-overlay",spinneroverlayselector:".embed-overlay-spinner",erroroverlayselector:".embed-overlay-error",tryagainselector:".embed-overlay-error .retry-embed",includeparenttweetcontainerselector:".embed-include-parent-tweet",includeparenttweetselector:".include-parent-tweet",includecardcontainerselector:".embed-include-card",includecardselector:".include-card",embedtweettitleselector:".embed-tweet-title",embedvideotitleselector:".embed-video-title",embedtweetinstructionsselector:".embed-tweet-instructions",embedvideoinstructionsselector:".embed-video-instructions",embedwidth:"469px",top:"90px"}),this.didreceiveembedcode=function(t,e){this.select("overlayselector").hide(),this.$embedcodedestination.val(e.data.html),this.trigger(this.$dialog,"uidialogcontentchanged"),this.selectembedcode()},this.retryembedcode=function(t,e){this.select("overlayselector").hide(),this.select("spinneroverlayselector").show(),this.trigger("uioembederror",this.tweetdata)},this.failedtoreceiveembedcode=function(t,e){this.select("overlayselector").hide(),this.select("embedcodedestinationselector").hide(),this.select("erroroverlayselector").show(),this.clearoembed(),this.trigger(this.$dialog,"uidialogcontentchanged")},this.updateembedcode=function(){this.select("embedcodedestinationselector").show(),this.select("overlayselector").hide(),this.trigger("uineedsoembed",this.getoptions()),this.trigger(this.$dialog,"uidialogcontentchanged")},this.requesttweetembed=function(){if(this.widgetsareloaded()){var t=this.getoptions();"tweet"===this.widgettype?this.widgets.widgets.createtweet(this.tweetid(),this.$previewcontainer[0],this.receivedtweetembed.bind(this),{width:this.attr.embedwidth,conversation:t.data.hide_thread?"none":"all",cards:t.data.hide_media?"hidden":"shown",lang:t.data.lang}):"video"===this.widgettype&&this.widgets.widgets.createvideo(this.tweetid(),this.$previewcontainer[0],this.receivedtweetembed.bind(this),{width:this.attr.embedwidth,status:"shown"})}},this.cleartweetembed=function(){this.$previewcontainer.empty()},this.clearoembed=function(){this.$embedcodedestination.val("")},this.teardown=function(){this.cleartweetembed(),this.clearoembed()},this.embedcodecopied=function(){this.trigger("uiusercopiedembedcode")},this.receivedtweetembed=function(t){t||this.trigger("uiembedrequestfailed")},this.includeparenttweet=function(){return this.$includeparenttweet.prop("checked")},this.showcard=function(){return this.$includecard.prop("checked")},this.getoptions=function(){var t={lang:this.lang};return"tweet"===this.widgettype?(t.hide_thread=!this.includeparenttweet(),t.hide_media=!this.showcard()):"video"===this.widgettype&&(t.widget_type="video"),{data:t,retry:!0,tweetid:this.tweetid(),screenname:this.screenname()}},this.selectembedcode=function(){this.$embedcode.select()},this.setupdialog=function(t,e){this.position(),this.eventdata=t,this.tweetdata=e,this.toggleincludeparent(),this.toggleshowcard(),this.toggletitle(),this.toggleinstructions(),this.resetincludeparent(),this.resetshowcard(),this.updateembedcode(),this.requesttweetembed(),this.open(),this.fixposition(),this.widgetsareloaded()||this.getwidgets()},this.setupdialogfortweet=function(){this.widgettype="tweet",this.setupdialog.apply(this,arguments)},this.setupdialogforvideo=function(){this.widgettype="video",this.setupdialog.apply(this,arguments)},this.fixposition=function(){this.$dialog.css({position:"relative",top:this.attr.top})},this.resetincludeparent=function(){this.$includeparenttweet.prop("checked",!0)},this.resetshowcard=function(){this.$includecard.prop("checked",!0)},this.toggleincludeparent=function(){this.$includeparentcheckboxcontainer.toggle("tweet"===this.widgettype&&!!this.tweethasparent())},this.toggleshowcard=function(){this.$includecardcheckboxcontainer.toggle("tweet"===this.widgettype&&!!this.hascard())},this.toggletitle=function(){this.$embedtweettitle.toggle("tweet"===this.widgettype),this.$embedvideotitle.toggle("video"===this.widgettype)},this.toggleinstructions=function(){this.$embedtweetinstructions.toggle("tweet"===this.widgettype),this.$embedvideoinstructions.toggle("video"===this.widgettype)},this.tweetid=function(){return this.tweetdata.tweetid},this.tweethasparent=function(){return this.tweetdata.hasparenttweet},this.hascard=function(){return this.getcarddatafromcontainer(t(this.eventdata.target)).hascard},this.screenname=function(){return this.tweetdata.screenname},this.widgetsready=function(){this.$dialogcontainer&&this.isopen()&&this.requesttweetembed()},this.onoptionchange=function(){this.trigger("uineedsoembed",this.getoptions()),this.requesttweetembed()},this.restorefocustotweet=function(e){t(e.target).is(this.$dialog)&&this.activeel&&this.trigger(t(this.activeel).closest(".tweet"),"uishouldaddfocusstyle")},this.after("initialize",function(){this.$previewcontainer=this.select("previewcontainerselector"),this.$includeparenttweet=this.select("includeparenttweetselector"),this.$embedcodedestination=this.select("embedcodedestinationselector"),this.$includeparentcheckboxcontainer=this.select("includeparenttweetcontainerselector"),this.$includecard=this.select("includecardselector"),this.$includecardcheckboxcontainer=this.select("includecardcontainerselector"),this.$embedcode=this.select("embedcodedestinationselector"),this.$embedtweettitle=this.select("embedtweettitleselector"),this.$embedvideotitle=this.select("embedvideotitleselector"),this.$embedtweetinstructions=this.select("embedtweetinstructionsselector"),this.$embedvideoinstructions=this.select("embedvideoinstructionsselector"),this.on(document,"uineedsembedtweetdialog",this.setupdialogfortweet),this.on(document,"uineedsembedvideodialog",this.setupdialogforvideo),this.on("uidialogcloserequested",this.teardown),this.on(document,"uibeforepagechanged",this.teardown),this.on(document,"uidialogrestorepreviousfocus",this.restorefocustotweet),this.on(document,"dataoembedsuccess",this.didreceiveembedcode),this.on(document,"dataoembederror",this.failedtoreceiveembedcode),this.on(document,"dataoembedretry",this.retryembedcode),this.on(this.$embedcodedestination,"copy cut",this.embedcodecopied),this.on(this.$embedcode,"click",this.selectembedcode),this.on("click",{tryagainselector:this.updateembedcode}),this.on("change",{includeparenttweetselector:this.onoptionchange,includecardselector:this.onoptionchange}),this.widgettype="tweet" ,this.lang=document.documentelement.getattribute("lang")})}var n=i("dbjh"),o=i("uhc7"),a=i("vuuo"),r=i("1jcw"),c=object(n.default)(s,o.a,a.a,r.a);e.a=c}).call(e,i("4ksj"))},"6ob2":function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("<strong title=""),s.b(s.v(s.f(" localized_number",t,e,0))),s.b('" class="js-mini-profile-stat">'),s.b(s.v(s.f("localized_compact_number",t,e,0))),s.b("</strong>"),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},"6ycc":function(t,e,i){"use strict";function s(){this.defaultattrs({currentuserpath:""}),this.navigatetoprofilepath=function(){this.trigger("uinavigate",{href:this.attr.currentuserpath})},this.after("initialize",function(){this.on("uinavigatetoprofile",this.navigatetoprofilepath)})}var n=i("dbjh"),o=object(n.default)(s);e.a=o},"78rh":function(t,e,i){"use strict";function s(){this.markdmseen=function(t,e){e=e||{};var i=e.trusted_last_seen_event_id,s=e.untrusted_last_seen_event_id;if(!(!i&&!s)){var n={last_seen_event_id:e.last_seen_event_id,trusted_last_seen_event_id:e.trusted_last_seen_event_id,untrusted_last_seen_event_id:e.untrusted_last_seen_event_id};this.post({url:"https://api.twitter.com/1.1/dm/update_last_seen_event_id.json",data:n,success:"datadmseensuccess",error:function(){return promise.resolve()},useoauthsessionauth:!0})}},this.after("initialize",function(){this.on("uidminboxtabopened",this.markdmseen)})}var n=i("dbjh"),o=i("vtwx");e.a=object(n.default)(s,o.a)},"7ks6":function(t,e,i){"use strict";function s(){this.defaultattrs({noshowerror:!0}),this.togglenotifications=function(t,e){e=e||{};var i=c(r(t.target,"datadmconversationresult"),r(t.target,e.enable_notifications?"datanotificationsenabled":"datanotificationsdisabled")),s=r(t.target,e.enable_notifications?"datanotificationsenablefailed":"datanotificationsdisablefailed");this.post({url:"/i/direct_messages/notifications",data:{id:e.conversation_id,enable_notifications:e.enable_notifications,mute_duration:e.mute_duration},eventdata:e,success:i,error:s})},this.togglementions=function(t,e){e=e||{};var i=c(r(t.target,"datadmconversationresult"),r(t.target,e.disable_mentions?"datamentionsdisabled":"datamentionsenabled")),s=r(t.target,e.disable_mentions?"datamentionsdisablefailed":"datamentionsenablefailed"),n="https://api.twitter.com/1.1/dm/conversation/"+e.conversation_id+"/update_mention_notifications_setting.json";this.post({url:n,data:{mention_notifications_disabled:e.disable_mentions},eventdata:e,success:i,error:s,useoauthsessionauth:!0})},this.after("initialize",function(){this.on("uitogglenotifications",this.togglenotifications),this.on("uitogglementions",this.togglementions)})}var n=i("dbjh"),o=i("vtwx"),a=i("ldny"),r=a.a.triggerfn,c=a.a.chain,l=object(n.default)(s,o.a);e.a=l},"7sib":function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<p class="promptbirdprompt-explanation">'),s.b(s.t(s.f("explanation",t,e,0))),s.b("</p>\n"),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},"7tgm":function(t,e,i){"use strict";function s(){this.scribeactivitypopupopen=function(t,e){var i=e.sourceeventdata;this.scribe("open",e,{items:[{id:i.contentid,item_type:o.a.tweet}],item_count:1})},this.after("initialize",function(){this.on(document,"dataactivitypopupsuccess",this.scribeactivitypopupopen)})}var n=i("dbjh"),o=i("rbkv"),a=i("3odc");e.a=object(n.default)(s,a.a)},"7vcw":function(t,e,i){"use strict";(function(t){function s(){this.attributes({textselector:"textarea.tokenizedmultiselect-input",selectedclass:"is-selected",suggestionclass:"dmtypeaheadsuggestions-item",suggestionselector:".dmtypeaheadsuggestions-item",highlightedclass:"is-highlighted",highlightedselector:".is-highlighted",suggestionscontainerselector:".dmtypeaheadsuggestions",tokeniddelimiter:"::",topaccountslength:5,accountsdatasource:"dmaccounts",conversationsdatasource:"dmconversations",typeaheadsrc:"compose_message",preselecteditems:[],maxitems:50}),this.buildaccounttemplatedata=function(t){var e=t.id_str,i=this.generatetokenid(this.attr.accountsdatasource,e),s=this.isitemselected(i),n=this.ispreselected(e),o=n?"":this.attr.suggestionclass,r=this.hasbusinesscontext(t),c={emojified_text_as_html:a.a.emojifytext(t.name)};return{data_token_id:i,data_token_text:t.name,suggestion_class:o,title:{text:t.name,rich_text:c,screen_name:t.screen_name,verified:t.verified,protected:!(!t.is_protected&&!t.protected)},avatar:{images:{src:t.profile_image_url_https,alt:t.name}},selected:s,preselected:n,is_group:!1,has_business_context:r}},this.buildgrouptemplatedata=function(t){return{data_token_id:this.generatetokenid(this.attr.conversationsdatasource,t.id),data_token_text:t.emojified_title,suggestion_class:this.attr.suggestionclass,html:t.html,is_group:!0}},this.buildtemplatedatafromdmconversation=function(t){return t.is_group?this.buildgrouptemplatedata(t):1===t.participants.length?this.buildaccounttemplatedata(t.participants[0]):void 0},this.processemptyquerysuggestions=function(t){var e=t.suggestions.dmconversations||[],i=e.map(this.buildtemplatedatafromdmconversation.bind(this)),s=h.a.render({suggestions:i,has_suggestions:boolean(i.length)});this.trigger("uitokenizedmultiselectsuggestions",{html:s,preserve_previous_hightlight:!1})},this.processnonemptyquerysuggestions=function(t){var e=(t.suggestions.dmaccounts||[]).map(this.buildaccounttemplatedata.bind(this)),i=(t.suggestions.dmconversations||[]).map(this.buildgrouptemplatedata.bind(this)),s=i.length?e.slice(0,this.attr.topaccountslength):e,n=u.a.render({accounts:s,groups:i,has_accounts:s.length,has_groups:i.length});this.trigger("uitokenizedmultiselectsuggestions",{html:n,preserve_previous_hightlight:!0})},this.processsuggestions=function(t,e){var i=e.querydata&&e.querydata.query;e.suggestions&&this.currentquery===i&&(""===i?this.processemptyquerysuggestions(e):this.processnonemptyquerysuggestions(e))},this.requestemptyquerysuggestions=function(){var t=this.attr.preselecteditems||[],e={id:this.typeaheadid,querydata:{query:"",dmconversationsoptions:{excludegroups:this.selecteditems.length||t.length,sortbysortid:!0,excludeonetoones:!1}},datasources:[this.attr.conversationsdatasource]};this.trigger("uineedstypeaheadsuggestions",e)},this.requestsuggestions=function(t,e){if(this.currentquery=e.text,""===this.currentquery)return void this.requestemptyquerysuggestions();var i=this.attr.preselecteditems||[],s=this.selecteditems.length||i.length,n=s?[this.attr.accountsdatasource]:[this.attr.accountsdatasource,this.attr.conversationsdatasource],o={id:this.typeaheadid,querydata:{query:e.text,typeaheadsrc:this.attr.typeaheadsrc,dmconversationsoptions:{excludegroups:s,sortbysortid:!1,excludeonetoones:!s}},datasources:n};this.trigger("uineedstypeaheadsuggestions",o)},this.splittokenid=function(t){var e=t.split(this.attr.tokeniddelimiter);return{datasource:e[0],id:e[1]}},this.handleitemselected=function(t,e){this.selecteditems=e.selected_items||[];var i=this.selecteditems.map(function(t){var e=this.splittokenid(t.id);return{datasource:e.datasource,id:e.id,text:t.text}},this),s=i.filter(function(t){return t.datasource===this.attr.accountsdatasource},this).map(function(t){return{id:t.id,name:t.text}}),n=i.filter(function(t){return t.datasource===this.attr.conversationsdatasource},this).map(function(t){return{id:t.id,name:t.text}});this.trigger("uidmtypeaheadselecteditemschanged",{accounts:s,groups:n})},this.generatetokenid=function(t,e){return t+this.attr.tokeniddelimiter+e},this.isitemselected=function(e){var i=this.selecteditems.map(function(t){return t.id});return t.inarray(e+"",i||[])>=0},this.ispreselected=function(e){return t.inarray(e+"",this.attr.preselecteditems||[])>=0},this.hasbusinesscontext=function(t){return"enabled"===t.customer_service_state},this.resetandinitialize=function(t,e){this.select("suggestionscontainerselector").empty(),this.trigger("uiresettokenizedmultiselect"),this.attr.preselecteditems=e&&e.preselecteditems&&e.preselecteditems.length?e.preselecteditems:[],e&&e.maxitems&&(this.attr.maxitems=e.maxitems,this.trigger("uitokenizedmultiselectmaxitems",{maxitems:e.maxitems})),this.selecteditems=[],this.requestemptyquerysuggestions(),this.currentquery=""},this.after("handleitemselected",this.requestemptyquerysuggestions),this.handletokenchangeaccessibility=function(t,e){if(this.splittokenid(e.id).datasource===this.attr.accountsdatasource){var i="uitokenizedmultiselecttokenadded"===t.type?object(n.default)("added {{user}}",{user:e.text}):object(n.default)("removed {{user}}",{user:e.text});this.trigger("uishouldspeakmessage",{message:i})}},this.after("initialize",function(){this.typeaheadid="dm_typeahead"+math.floor(1e6*math.random()),this.attachchild(r.a,this.$node,this.attr),this.on("uitokenizedmultiselecttokenadded uitokenizedmultiselecttokenremoved",this.handletokenchangeaccessibility),this.on("uitokenizedmultiselecttextchanged",this.requestsuggestions),this.on(document,"datatypeaheadsuggestionsresults",this.processsuggestions),this.on("uitokenizedmultiselectitemselectionchanged",this.handleitemselected),this.on("uiinitializedmtypeahead",this.resetandinitialize),this.selecteditems=[],this.requestemptyquerysuggestions()})}var n=i("0d4m"),o=i("dbjh"),a=i("tlys"),r=i("hzqj"),c=i("ajan"),l=i("xh9u"),h=i.n(l),d=i("htfi"),u=i.n(d),p=object(o.default)(s,c.a);e.a=p}).call(e,i("4ksj"))},"7xpg":function(t,e,i){"use strict";function s(){this.after("initialize",function(){this.inittextnode()})}var n=i("dbjh"),o=i("pul/"),a=i("fbsa"),r=object(n.default)(s,o.a,a.a);e.a=r},"7j8l":function(t,e,i){var s;!function(n,o){void 0!==(s=function(){return n.twittervideoplayer=o()}.call(e,i,e,t))&&(t.exports=s)}(this,function(){function t(t){if(t&&t.data&&t.data.params&&t.data.params[0]){var e=t.data.params[0],i=t.data.id;if(e&&e.context&&"twittervideoplayer"===e.context){var s=e.playerid;delete e.playerid,delete e.context;var n=r[s];n&&n.processmessage(t.data.method,e,i)}}}function e(t,e,i){var s=object.keys(i).filter(function(t){return null!=i[t]}).map(function(t){var e=i[t];return encodeuricomponent(t)+"="+encodeuricomponent(e)}).join("&");return s&&(s="?"+s),t+e+s}function i(i,n,o,c,l){i.ownerdocument.defaultview.addeventlistener("message",t),this.playerid=a++;var h={embed_source:"clientlib",player_id:this.playerid,rpc_init:1};if(this.scribeparams={},this.scribeparams.suppressscribing=c&&c.suppressscribing,!this.scribeparams.suppressscribing){if(!c.scribecontext)throw"video_player: missing scribe context";if(!c.scribecontext.client)throw"video_player: scribe context missing client property";this.scribeparams.client=c.scribecontext.client,this.scribeparams.page=c.scribecontext.page,this.scribeparams.section=c.scribecontext.section,this.scribeparams.component=c.scribecontext.component}this.scribeparams.debugscribe=c&&c.scribecontext&&c.scribecontext.debugscribing,this.scribeparams.scribeurl=c&&c.scribecontext&&c.scribecontext.scribeurl,this.promotedlogparams=c.promotedcontext,this.adrequestcallback=c.adrequestcallback,c.languagecode&&(h.language_code=c.languagecode);var d=e(s,n,h);return this.videoiframe=document.createelement("iframe"),this.videoiframe.setattribute("src",d),this.videoiframe.setattribute("allowfullscreen",""),this.videoiframe.setattribute("id",o),this.videoiframe.setattribute("style","width: 100%; height: 100%; position: absolute; top: 0; left: 0;"),this.domelement=i,this.domelement.appendchild(this.videoiframe),r[this.playerid]=this,this.eventcallbacks={},this.emitevent=function(t,e){var i=this.eventcallbacks[t];void 0!==i&&i.foreach(function(t){t.apply(this.playerinterface,[e])}.bind(this))},this.jsonrpc=function(t){var e=this.videoiframe.contentwindow;t.jsonrpc="2.0",e&&e.postmessage&&e.postmessage(json.stringify(t),"*")},this.jsonrpccall=function(t,e){this.jsonrpc({method:t,params:e})},this.jsonrpcresult=function(t,e){this.jsonrpc({result:t,id:e})},this.processmessage=function(t,e,i){switch(t){case"requestplayerconfig":this.jsonrpcresult({scribeparams:this.scribeparams,promotedlogparams:this.promotedlogparams,squarecorners:c.squarecorners,borderradius:c.borderradius,hidecontrols:c.hidecontrols,embedded:c.addtwitterbranding,ignorefinegraingeoblocking:c.ignorefinegraingeoblocking},i);break;case"videoplayeradstart":this.emitevent("adstart",e);break;case"videoplayeradend":this.emitevent("adend",e);break;case"videoplayerplay":this.emitevent("play",e);break;case"videoplayerpause":this.emitevent("pause",e);break;case"videoplayermute":this.emitevent("mute",e);break;case"videoplayerunmute":this.emitevent("unmute",e);break;case"videoplayerplaybackcomplete":this.emitevent("playbackcomplete",e);break;case"videoplayerready":this.emitevent("ready",e);break;case"videoview":this.emitevent("view",e);break;case"debugloggingevent":this.emitevent("logged",e);break;case"requestdynamicad":"function"==typeof this.adrequestcallback?this.jsonrpcresult(this.adrequestcallback(),i):this.jsonrpcresult({},i);break;case"videoplayererror":e&&"no_cookies_error"===e.error_category?this.emitevent("nocookieserror",e):e&&"geoblock_error"===e.error_category&&this.emitevent("geoblockerror",e)}},this.playerinterface={on:function(t,e){return void 0===this.eventcallbacks[t]&&(this.eventcallbacks[t]=[]),this.eventcallbacks[t].push(e),this.playerinterface}.bind(this),off:function(t,e){if(void 0===e)delete this.eventcallbacks[t];else{var i=this.eventcallbacks[t];if(void 0!==i){var s=i.indexof(e);s>-1&&i.splice(s,1)}}return this.playerinterface}.bind(this),play:function(){return this.jsonrpccall("play"),this.playerinterface}.bind(this),pause:function(){return this.jsonrpccall("pause"),this.playerinterface}.bind(this),mute:function(){return this.jsonrpccall("mute"),this.playerinterface}.bind(this),unmute:function(){return this.jsonrpccall("unmute"),this.playerinterface}.bind(this),playpreview:function(){return this.jsonrpccall("autoplaypreview"),this.playerinterface}.bind(this),pausepreview:function(){return this.jsonrpccall("autoplaypreviewstop"),this.playerinterface}.bind(this),updateposition:function(t){return this.jsonrpccall("updateposition",[t]),this.playerinterface}.bind(this),updatelayoutbreakpoint:function(t){return this.jsonrpccall("updatelayoutbreakpoint",[t]),this.playerinterface}.bind(this),enterfullscreen:function(){return this.jsonrpccall("enterfullscreen"),this.playerinterface}.bind(this),exitfullscreen:function(){return this.jsonrpccall("exitfullscreen"),this.playerinterface}.bind(this),teardown:function(){this.eventcallbacks={},i.removechild(this.videoiframe),this.videoiframe=void 0,delete r[this.playerid]}.bind(this)},this.playerinterface}var s="https://twitter.com",n=/^https?:\/\/([a-za-z0-9]+\.)*twitter.com(:\d+)?$/,o={suppressscribing:!1,squarecorners:!1,hidecontrols:!1,addtwitterbranding:!1},a=0,r={};return{setbaseurl:function(t){n.test(t)?s=t:window.console.error("newbaseurl "+t+" not allowed")},createplayerfortweet:function(t,e,s){return new i(t,"/i/videos/tweet/"+e,"player_tweet_"+e,s||o)},createplayerfordm:function(t,e,s){return new i(t,"/i/videos/dm/"+e,"player_dm_"+e,s||o)},createplayerforlivevideo:function(t,e,s){return new i(t,"/i/videos/live_video/"+e,"player_live_video_"+e,s||o)},findplayerforelement:function(t){for(var e in r)if(r.hasownproperty(e)){var i=r[e];if(i&&i.domelement===t)return i.playerinterface}return null}}})},"7tcb":function(t,e,i){"use strict";function s(){this.defaultattrs({dropdownthresholdselector:".dropdown-threshold"}),this.scrollintoview=function(){var t=this.$node.closest(this.attr.dropdownthresholdselector),e=void 0,i=void 0;t.length&&(e=this.$node.find(this.attr.dropdownselector),(i=e.offset().top+e.outerheight()-(t.offset().top+t.height()))>0&&t.animate({scrolltop:t.scrolltop()+i}))},this.after("initialize",function(){this.on("uidropdownopened",this.scrollintoview),this.on(document,"uihasinjectednewtimeline uihasinjectedoldtimelineitems uihasinjectedrangetimelineitems",this.applyariaattrs)})}var n=i("dbjh"),o=i("mgri"),a=object(n.default)(o.a,s);e.a=a},"8/gf":function(t,e,i){"use strict";var s=i("0d4m"),n=i("9tdk"),o=i("iamj"),a=i("9eqs"),r=i.n(a);e.a=function(t){var e=r.a.render({article_number:"20172128"});switch(t){case n.a.invalid_media:return object(s.default)("your video file could not be processed. please see tips for uploading video files. {{learnmorelink}}",{learnmorelink:e});case n.a.file_too_large:return object(s.default)("your video file is too large. videos should be less than {{maxsize}} mb. {{learnmorelink}}.",{maxsize:o.a.getdecidervalue("upload_video_size"),learnmorelink:e});case n.a.unsupported_media:return object(s.default)("your video file is not compatible. please see tips for uploading video files. {{learnmorelink}}",{learnmorelink:e})}}},"84/5":function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({richeditortextselector:"div.rich-editor",linksselector:"a",hashtagselector:".twitter-hashtag",pictographsselector:".richeditor-pictographs",pictographtextselector:".richeditor-pictographtext",pictographimageselector:".richeditor-pictographimage",richeditorselector:".richeditor",pictographtextclass:"richeditor-pictographtext",temptextareaclass:"richeditor-temptextarea",fakefocusclass:"is-fakefocus",singlelineclass:"is-singleline",plaintextclass:"is-plaintext",hashflagsenabled:!1,twittertextoptions:g.a.version1}),this.linkify=function(t){var e=this,i={urltarget:null,textwithsymboltag:k?"b":"",linkattributeblock:function(t,i){var s=t.screenname||t.url;s&&(e.urlandmentionscharcount+=s.length+2),delete i.title,delete i["data-screen-name"],i.dir=t.hashtag&&e.shouldbertl(t.hashtag,0)?"rtl":"ltr",i.role="presentation"}};return this.urlandmentionscharcount=0,p.a.linkify(t,i)},this.setselection=function(t){t&&this.setselectioniffocused(t)},this.getselection=function(){return this.previousselection||this.htmlrich.getselectionoffsets()},this.around("setcursorposition",function(t,e){void 0===e&&(e=this.cursorposition),void 0===e&&(e=o),this.setselectioniffocused([e]),this.detectupdatedcursorposition(e)}),this.isinputmethodeditorincomposition=function(){return this.$text.attr("data-in-composition")},this.isemoji=function(t){return c.a.regex.lastindex=0,c.a.regex.test(t)},this.around("detectupdatedtext",function(t,e,i){var s=this.htmlrich.gethtml(),n=this.htmlrich.getselectionoffsets()||this.previousselection||[o],o=void 0!==i;if(s!==this.prevhtml||e||o){var a=o?i:this.htmlrich.gettext(),r=a.replace(i,"");if(2===n.length&&this.isinputmethodeditorincomposition()){var c=a.substr(n[0],n[1]-n[0]),l=a.substr(n[1]);if(r.test(l)){this.caughtimebug=!0;for(var h=r.exec(l)[1],d=c+h,u=c,p=1;p<c.length;p++){var f=c.substr(0,p)+h.substr(0,c.length-p);if(this.isemoji(f)){u=f;break}}r=a.replace(d,u),this.htmlrich.sethtml(s.replace(d,u)),this.setselectioniffocused(n)}}this.caughtimebug&&1===n.length&&(this.$text.removeattr("data-in-composition"),this.caughtimebug=!1),this.issingleline&&(r=r.replace(p," ")),o||(s||this.hasfocus())&&!this.isinputmethodeditorincomposition()?this.reformathtml(r,s,n,o):this.prevhtml=void 0,this.generatepictographs(),(e||this.cleanedtext!==r)&&this.updatecleanedtextandposition(r,n[0])}this.detectupdatedcursorposition(n[0])}),this.emojifyplaintextspans=function(t){return t.replace(x,function(t,e,i){return e+r.a.emojifypreescapedtext(i,r.a.emojify_for_composer,a)})},this.reformathtml=function(e,i,s,n){this.$normalizer||(this.$normalizer=t("<div>",{css:{position:"absolute",visibility:"hidden"}}).appendto(this.$node),this.htmlnormalizer=object(d.a)(this.$normalizer[0],this.useragent()));var o=this.linkify(e),a=this.isplaintext||this.isnomarkup?m.a.htmlescape(e):o,r=this.isnomarkup||this.isplaintext?a:this.emojifyplaintextspans(a);this.htmlnormalizer.settextwithmarkup(r),this.interceptdataimageincontent();var c=this.shouldbertl(e,this.urlandmentionscharcount||0);this.$text.attr("dir",c?"rtl":"ltr"),this.$normalizer.find(c?"[dir=rtl]":"[dir=ltr]").removeattr("dir");var l=this.$normalizer.find(".twitter-timeline-link");if(l.length>0){var h=l.map(function(t,e){return e.href}).get();this.trigger("uigoturlintext",{urls:h})}k&&this.$normalizer.find(".twitter-timeline-link").wrapinner("<b>").addclass("pretty-link"),this.hashflagsenabled&&this.addhashflags(this.$normalizer);var u=this.getmaxlengthoffset(e);u>=0&&(this.htmlnormalizer.emphasizetext([u,o]),this.$normalizer.find("em").each(function(){this.innerhtml=this.innerhtml.replace(m,"")}));var p=this.htmlnormalizer.gethtml();if(p!==i){var f=n&&!this.isfocusing&&this.hasfocus()&&!this.hasfakefocus();f&&(this.togglefakefocus(!0),this.$text.blur()),this.htmlrich.sethtml(p),f&&(this.$text.focus(),this.togglefakefocus(!1)),this.setselectioniffocused(s)}this.prevhtml=p},this.generatepictographs=function(){var t=this.$text.find(this.attr.pictographtextselector).map(function(t,e){return{left:e.offsetleft,top:e.offsettop,imageurl:e.getattribute("data-pictograph-image")}}).get(),e=c.a.render({pictographs:t});e!==this.previouspictographshtml&&(this.previouspictographshtml=e,this.$pictographs.html(e))},this.generatepictographsdeferred=function(){settimeout(this.generatepictographs.bind(this),0)},this.addhashflags=function(e){e.find(this.attr.hashtagselector).each(function(e,i){var s=t(i),o=s.text().slice(1),a=h.a.getimageurl(o);a&&s.append(t.a.render({imageurl:a,description:object(n.default)("twitter emoji")}))})},this.interceptdataimageincontent=function(){var t=this;if(this.triggergotimagedata){var e=this.$text.find("img").filter(function(t,e){return e.src.match(/^data:/)})[0];if(e){var i=l.a.getblobfromdatauri(e.src);return l.a.getfileinfo("pasted.png",i).then(function(e){return t.triggergotimagedata([e])})}}},this.getmaxlengthoffset=function(t){var e=m.a.parsetweet(t,d({},this.attr.twittertextoptions,{maxweightedtweetlength:this.attr.maxlength})),i=e.validrangeend;return e.weightedlength<=this.attr.maxlength?-1:i+1},this.setselectioniffocused=function(t){this.hasfocus()&&!this.hasfakefocus()?(this.previousselection=null,this.htmlrich.setselectionoffsets(t)):this.previousselection=t},this.augmentshiftenter=function(t){t.which!==u.a.enter||t.metakey||!t.shiftkey||t.altkey||t.ctrlkey||this.temporarilyfocusplaintext()},this.maybeblockcommandarrow=function(t){!this.isfirefoxlessthan29||!t.metakey||t.shiftkey||t.ctrlkey||t.altkey||t.which!==u.a.left&&t.which!==u.a.right||this.stopevent(t)},this.stopevent=function(t){t.preventdefault(),t.stoppropagation()},this.handlekeydown=function(t){this.augmentshiftenter(t),this.maybeblockcommandarrow(t)},this.temporarilyfocusplaintext=function(){var e=this;if(this.hasfocus()&&!this.isinputmethodeditorincomposition()){this.$temptextarea||(this.$temptextarea=t("<textarea>",{class:this.attr.temptextareaclass,tabindex:-1}).appendto(document.body));var i=this.getvisibletext(),s=this.getselection()||[i.length],n=this.$temptextarea[0];this.togglefakefocus(!0),this.$temptextarea.focus().val(i),n.setselectionrange(s[0],s[s.length-1]),settimeout(function(){var t=e.$temptextarea.val(),s=i.length-t.length,o=n.selectionstart,a=n.selectionend;s>0&&t===i.slice(0,o)+i.slice(o+s)&&e.htmlrich.deletetext([o,o+s]),e.setvisibletext(t),e.$text.focus(),e.togglefakefocus(!1),e.setselectioniffocused([o,a])},0)}},this.temporarilyremovemarkup=function(){var t=this;this.isnomarkup=!0,this.detectupdatedtext(!0),settimeout(function(){t.isnomarkup=!1,t.detectupdatedtext(!0)},0)},this.itemisimage=function(t){return"file"===t.kind&&"image/png"===t.type},this.interceptpastedimage=function(t){var e=this,i=t.originalevent||{},s=i.clipboarddata;if(this.triggergotimagedata&&s){for(var n=s.items||[],o=null,a=0;a<n.length;a++)this.itemisimage(n[a])&&(o=n[a]);if(o){var r=o.getasfile();this.pendingpastedfileinfo=l.a.getfileinfo("pasted.png",r).then(function(t){return e.triggergotimagedata([t]),delete e.pendingpastedfileinfo,t}),t.preventdefault()}}},this.clearselectiononblur=function(t){if(window.getselection){var e=this.htmlrich.getselectionoffsets();e&&(this.previousselection=e,getselection().removeallranges())}},this.restoreselectiononfocus=function(){var t=this;this.previousselection&&settimeout(function(){t.htmlrich.setselectionoffsets(t.previousselection),t.previousselection=null},0)},this.setfocusingstate=function(){var t=this;this.isfocusing=!0,settimeout(function(){return t.isfocusing=!1},0)},this.inserttext=function(t,e){var i=this.getvisibletext(),s=this.getselection()||[i.length],n=s[0],o=s[s.length-1],a=!this.hasfocus();a&&this.togglefakefocus(!0),this.setvisibletext(i.slice(0,n)+e.text+i.slice(o)),this.setselection([n+e.text.length]),a&&this.togglefakefocus(!1),e.nofocus||this.focus()},this.filterkey=function(t){this.issingleline&&t.which===u.a.enter&&t.preventdefault()},this.setcontenteditableplaintextonly=function(){this.isplaintextonlysupported&&"true"===this.$text.attr(e)&&this.$text.attr(e,j)},this.around("seteditability",function(t,e){this.$text.prop(e,e),this.setcontenteditableplaintextonly()}),this.updatescrollcontainerfocus=function(t){this.select("richeditorselector").toggleclass(this.attr.fakefocusclass,this.hasfocus())},this.useragent=function(){return navigator.useragent},this.temporarilyfocusplaintextonemojitextinput=function(t){var e=t&&t.originalevent&&t.originalevent.data;c.a.regex.lastindex=0,e&&c.a.regex.test(e)&&this.temporarilyfocusplaintext()},this.around("inittextnode",function(e){var i=this.useragent().tolowercase();this.isielessthan12=!/opera/.test(i)&&/msie|trident/.test(i),this.isielessthan11=this.isielessthan12&&!/trident\/7/.test(i),this.isfirefox=!/webkit|chrome|trident|msie|compatible/.test(i)&&/mozilla/.test(i),this.isfirefoxlessthan29=this.isfirefox&&parsefloat(i.replace(/^.* rv:([\w.]+).*$/,"$1"))<29,this.ischrome=!/edge/.test(i)&&/chrome\/\d+/.test(i),this.ismacchromelessthan55=this.ischrome&&/macintosh;/.test(i)&&i.replace(/^.*chrome\/(\d+).*$/,"$1")<55,this.isplaintextonlysupported=v.a.getdecidervalue("contenteditableplaintextonly")&&t("<div>").attr(e,j)[0].contenteditable===j,this.$text=this.select("richeditortextselector"),this.$pictographs=this.select("pictographsselector"),this.previouspictographshtml="",this.hashflagsenabled=this.attr.hashflagsenabled&&h.a.isenabled(),this.htmlrich=object(d.a)(this.$text[0],this.useragent());var s=navigator.platform;this.ismac=-1!==s.indexof("mac"),this.iswin=-1!==s.indexof("win"),this.issingleline=this.$text.hasclass(this.attr.singlelineclass),this.isplaintext=this.$text.hasclass(this.attr.plaintextclass),this.on(this.$text,"click",{linksselector:this.stopevent}),this.on(this.$text,"focusin",this.setfocusingstate),this.on(this.$text,"keydown",this.handlekeydown),this.on(this.$text,"focusout",this.clearselectiononblur),this.on(this.$text,"focusin",this.restoreselectiononfocus),this.on(this.$text,"cut copy paste",this.isfirefox||this.isielessthan11?this.temporarilyremovemarkup:this.temporarilyfocusplaintext),this.on(this.$text,"paste",this.interceptpastedimage),this.on(this.$text,"keypress",this.filterkey),this.ismacchromelessthan55&&this.on(this.$text,"textinput",this.temporarilyfocusplaintextonemojitextinput),this.on(this.$text,"focusin focusout",this.ignoreduringfakefocus(this.updatescrollcontainerfocus)),this.updatescrollcontainerfocus(),this.on("uiinserttext",this.inserttext),this.on("uicomposerhadfocus",this.temporarilyfocusplaintext),this.on("focusin uicomposerhadfocus",this.setcontenteditableplaintextonly),this.isielessthan12?this.on(this.$text,"domsubtreemodified",this.generatepictographsdeferred):this.on(this.$text,"input",this.generatepictographs),this.on("uitweetboxexpanded uitweetboxcondensed",this.generatepictographs),this.on(this.$node,"mousedown",{pictographimageselector:this.stopevent}),this.detectupdatedtext()}),this.after("teardown",function(){this.$normalizer&&this.$normalizer.remove(),this.$temptextarea&&this.$temptextarea.remove()}),a.default.mixin(this,[b.a,w.a])}var n=i("0d4m"),o=i("rw6j"),a=i("q9/c"),r=i("tlys"),c=i("fuxd"),l=i("+dwm"),h=i("y3hv"),d=i("dzub"),u=i("i3qs"),p=i("ih6c"),f=i("cztd"),m=i.n(f),g=i("cxip"),v=i("iamj"),b=i("btbl"),w=i("cl8q"),s=i("/81g"),c=i.n(s),y=i("mfjv"),t=i.n(y),d=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t};e.a=s;var i=/[\ufffe\ufeff\uffff\u200e\u200f\u202a-\u202e\x00-\x09\x0b\x0c\x0e-\x1f]/g,x=/(<[^>]*>|^)([^<]+)/g,k=object(o.a)().mozilla&&parseint(object(o.a)().version,10)<2,m=/ $/,p=/\r\n|\n\r|\n/g,a=1e3,o=number.max_value,e="contenteditable",j="plaintext-only",r=/^([\udc00-\udfff]+)/}).call(e,i("4ksj"))},"859q":function(t,e,i){"use strict";function s(){this.drop=function(t){t.preventdefault(),t.stopimmediatepropagation();var e=o.a.getfilehandles(t.originalevent.datatransfer);this.trigger("uidrop",{files:e}),e.length>1&&this.trigger("uidropmany"),this.trigger("uidragend")},this.after("initialize",function(){this.on("drop",n.a.onlyhandleeventswithfiles(this.drop))})}var n=i("waph"),o=i("+dwm");e.a=s},"8n88":function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({geopickerselector:".geo-picker",inlinegeopickerselector:".inline-geo-picker",buttonselector:"button.geo-picker-btn",placeidselector:"input[name=place_id]",statusselector:"span.geo-status",dropdowncontainerselector:"span.dropdown-container",dropdowndisabledselector:"#geo-disabled-dropdown",enablebuttonselector:"button.geo-turn-on",notnowbuttonselector:"button.geo-not-now",dropdownenabledselector:"#geo-enabled-dropdown",geosearchselector:".geo-query-location .icon",dropdownstatusselector:".geo-dropdown-status",searchresultsselector:".geosearch-result--search",placeresultsselector:".geosearch-result--place",turnoffbuttonselector:".geo-turn-off-item",hasinlinegeopickerclass:"has-inline-geo-picker",disabledclass:"disabled",incomposer:!0}),this.selectgeoaction=function(t){if(this.dropdownisopen)return void this.closedropdown();switch(this.geostate.state){case"disabled":this.disable(),this.trigger("uigeopickeroffer");break;case"enableisunavailable":this.trigger("uigeopickeroffer");break;case"locateisunavailable":case"enabledturnedon":this.requestgeostate();break;case"enabledturnedoff":this.turnon();break;case"changing":case"locating":case"located":case"locationunknown":this.trigger("uigeopickeropen")}},this.prepare=function(e,i){var s=void 0,n=void 0;"uigeopickeropen"===e.type?(s=this.attr.dropdownenabledselector,n=1,this.geodetails&&!this.geodetails.interacted_poi_list&&(this.geodetails.interacted_poi_list=!0)):(s=this.attr.dropdowndisabledselector,n=0),n!==this.dropdownstate&&(this.select("dropdowncontainerselector").html(t(s).html()),this.dropdownstate=n),this.showgeostate(),this.applyariaattrstoresultsandannouncenumresults(),this.lastquery="",this.geoqueryfieldchanged=!1},this.after("opendropdown",function(){var t=this.select("enablebuttonselector");t.length||(t=this.select("queryselector").filter(":visible")),t.focus(),this.applyariaattrstodropdown(),this.applyariaattrstoresultsandannouncenumresults()}),this.after("closedropdown",function(){this.select("queryselector").val("")}),this.enable=function(){this.closedropdown(),this.trigger("uigeopickerenable")},this.turnon=function(){this.trigger("uigeopickerturnon")},this.turnoff=function(t){this.closedropdown(),this.trigger("uigeopickerturnoff")},this.changelocation=function(t,e){var i=this.select("queryselector").filter(":visible").val(),s=e.placeid,n=e.placename,o="search"===e.resulttype,a=e.placeoffset;if(this.closedropdown(),s&&s!==this.lastplaceid){this.lastgeoplace&&(this.discardlastgeoplace(),this.lastgeoplace={place_name:n,place_id:s,offset:a,is_autotag:!1,query:""!==i?i:null,source:o?"search":"default",last_interaction_time:(new date).gettime()});var r={placeid:s,scribedata:{items:[{name:s}]}};this.lastplaceid&&r.scribedata.items.push({name:this.lastplaceid}),o&&this.lastquerydata&&(r.scribedata.query=this.lastquerydata.query),this.trigger("uigeopickerchange",r)}},this.updatestate=function(t,e){this.geostate=e,this.showgeostate()},this.showgeostate=function(){var t=object(n.default)("add location"),e="",i=!1,s=!1,o="",a=this.geostate;switch("enabling"===a.state&&this.select("buttonselector").removeclass(this.attr.disabledclass),a.state){case"enabling":case"locating":t=object(n.default)("getting location..."),i=!0;break;case"enableisunavailable":case"locateisunavailable":t=object(n.default)("location service unavailable");break;case"changing":t=object(n.default)("changing location..."),i=!0;break;case"locationunknown":t=object(n.default)("unknown location");break;case"located":t=a.place_name,e=a.place_id,o=a.places_html;var c=object(r.a)();o+=p.a.render({id:c}),i=!0,s=!0,this.initializegeoscribedata(a);break;case"enabledturnedoff":this.discardlastgeoplace();break;case"disabled":s=!0,this.disable(),t=object(n.default)("location disabled")}this.select("geopickerselector").toggleclass("active",i),this.select("inlinegeopickerselector").length>0&&(this.select("inlinegeopickerselector").toggle(i),this.$node.toggleclass(this.attr.hasinlinegeopickerclass,i)),this.select("buttonselector").toggleclass("enabled",i).toggleclass("js-dropdown-toggle",s).attr("aria-haspopup",s),this.select("statusselector").text(t),this.select("buttonselector").attr("data-original-title",t),this.select("placeresultsselector").add(this.select("searchresultsselector")).remove(),this.select("dropdownstatusselector").text(t).toggle(!i),this.select("dropdownselector").html(o),this.select("placeidselector").val(e),this.lastplaceid=e,this.applyariaattrstoresultsandannouncenumresults()},this.initializegeoscribedata=function(t){this.geodetails||this.resetgeodetails(),this.lastgeoplace&&this.lastgeoplace.place_id||!t.place_id||(this.lastgeoplace={place_name:t.place_name,place_id:t.place_id,source:"default",is_autotag:!0,last_interaction_time:(new date).gettime()})},this.resetgeodetails=function(){this.geodetails={interacted_poi_list:!1,interacted_server_search:!1,geo_place_details:[]}},this.discardlastgeoplace=function(){this.lastgeoplace&&this.lastgeoplace.place_id&&(this.lastgeoplace.state="discarded",this.geodetails.geo_place_details.push(this.lastgeoplace),this.lastgeoplace={})},this.sendtweetscribedata=function(t){if(this.geodetails){this.lastgeoplace&&this.lastgeoplace.place_id&&(this.lastgeoplace.state="geotag",this.geodetails.geo_place_details.push(this.lastgeoplace));var e={scribedata:{items:[{item_type:a.a.geodetails,geo_details:this.geodetails}]}};this.trigger("uigeopickersendtweet",e),this.resetgeodetails(),this.lastgeoplace={}}},this.requestgeostate=function(){this.trigger("uirequestgeostate")},this.searchifquerychanged=function(t){var e=this.select("queryselector").filter(":visible").val()||"";t&&this.lastquery===e||(this.geodetails.interacted_server_search||(this.geodetails.interacted_server_search=!0),this.lastisprefix=t,this.lastquery=e,this.select("dropdownstatusselector").text(object(n.default)("searching places...")).show(),this.geoqueryfieldchanged||(this.geoqueryfieldchanged=!0,this.trigger("uigeopickerinteraction")),this.trigger("uigeopickersearch",{placeid:this.lastplaceid,query:e,isprefix:t}))},this.searchexactmatch=function(){this.searchifquerychanged(!1)},this.searchautocomplete=function(){var t=this;settimeout(function(){return t.searchifquerychanged(!0)},0)},this.searchresults=function(t,e){var i=e.sourceeventdata;!i||i.placeid!==this.lastplaceid||i.query!==this.select("queryselector").filter(":visible").val()||i.isprefix&&!this.lastisprefix||(this.lastquerydata=i,this.select("searchresultsselector").remove(),this.select("dropdownstatusselector").hide(),this.select("dropdownselector").prepend(e.html),this.applyariaattrstoresultsandannouncenumresults())},this.searchunavailable=function(t,e){this.select("dropdownstatusselector").text(object(n.default)("location service unavailable")).show()},this.disable=function(){this.select("buttonselector").addclass(this.attr.disabledclass).addclass("js-dropdown-toggle").attr("aria-haspopup",!0).attr("data-original-title",object(n.default)("location disabled")),this.select("statusselector").text(object(n.default)("location disabled"))},this.after("initialize",function(){this.geostate={},this.skipfocusmanager=!0,this.on("uipreparegeopicker",this.requestgeostate),this.attr.incomposer&&(this.on("uicomposeractive",this.requestgeostate),this.on("uitweetsent",this.sendtweetscribedata)),this.on("datageostate",this.updatestate),this.on(document,"datageosearchresults",this.searchresults),this.on(document,"datageosearchresultsunavailable",this.searchunavailable),this.on("uidropdownopenrequested",{geopickerselector:this.selectgeoaction}),this.on("click",{buttonselector:this.selectgeoaction,enablebuttonselector:this.enable,notnowbuttonselector:this.closedropdown,turnoffbuttonselector:this.turnoff,geosearchselector:this.searchexactmatch}),this.on("mousedown",{buttonselector:this.preventfocusloss}),this.on("uigeosearchselect",{turnoffbuttonselector:this.turnoff}),this.on("uigeopickeropen uigeopickeroffer",this.prepare),this.on("uigeosearchenter",this.searchexactmatch),this.on("uigeosearchchangelocation",this.changelocation),this.on("uigeosearchautocomplete",this.searchautocomplete);var t="already_did_reset";!0===c.a.getdecidervalue("geo_picker_incident_reset")&&(this.resetgeostore=new d.a("reset_geo_picker_incident"),this.resetgeostore.getitem(t)||(this.turnoff(),this.resetgeostore.setitem(t,!0),this.scribe({component:"tweet_box",element:"geo_picker",action:"incident_reset"})))})}var n=i("0d4m"),o=i("dbjh"),a=i("rbkv"),r=i("dsew"),c=i("iamj"),l=i("q+ee"),h=i("3odc"),d=i("wodx"),u=i("vfpm"),p=i.n(u);e.a=object(o.default)(l.a,h.a,s)}).call(e,i("4ksj"))},"8qxq":function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.s(s.f("icon_class",t,e,1),t,e,0,15,99,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <span class="promptbirdprompt-icon icon icon--extralarge '),i.b(i.v(i.f("icon_class",t,e,0))),i.b('"></span>\n')}),t.pop()),s.s(s.f("icon_class",t,e,1),t,e,1,0,0,"")||s.b(' <span class="promptbirdprompt-icon promptbirdprompt-icon--default icon icon--extralarge icon--bird"></span>\n'),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},"8s9k":function(t,e,i){"use strict";var s=i("dbjh"),n=i("uhc7"),o=i("tx0g");e.a=object(s.default)(n.a,function(){this.defaultattrs({whythisadiframeselector:"#why-this-ad-frame",spinnerselector:".why-this-ad-spinner"}),this.setupdialog=function(t,e){this.$spinner.show(),this.$iframe.hide(),this.eventdata=e,this.setwhythisadframe(),this.open()},this.setwhythisadframe=function(){var t="/about-ads?"+o.a.encode({aid:this.eventdata.impressionid});this.$iframe.attr("src",t)},this.around("close",function(t){this.$iframe.attr("src",""),t()}),this.after("initialize",function(){var t=this;this.$iframe=this.select("whythisadiframeselector"),this.$spinner=this.select("spinnerselector"),this.on(document,"uineedswhythisaddialog",this.setupdialog),this.$iframe.on("load",function(){t.$iframe.show(),t.$spinner.hide()})})})},"8t/i":function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.s(s.f("second_call_to_action_text",t,e,1),t,e,0,247,794,"{{ }}")&&(s.rs(t,e,function(t,e,s){s.b(' <div class="promptbirdprompt-action">\n'),s.s(s.f("second_call_to_action_url",t,e,1),t,e,0,322,754,"{{ }}")&&(s.rs(t,e,function(t,e,s){s.b(' <a href=""),s.b(s.v(s.f(" second_call_to_action_url",t,e,0))),s.b('" '),s.s(s.f("second_call_to_action_is_external",t,e,1),t,e,0,407,423,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b('target="_blank" ')}),t.pop()),s.b('class="btn-link js-promptaction '),s.b(s.v(s.f("custom_js_class",t,e,0))),s.b('" data-prompt-action-type=""),s.b(s.v(s.f(" second_call_to_action_type",t,e,0))),s.b('" data-scribe-component=""),s.b(s.v(s.f(" scribe_component",t,e,0))),s.b('" data-scribe-element=""),s.b(s.v(s.f(" scribe_element",t,e,0))),s.b('" data-prompt-scribe-action="secondary_cta">\n '),s.b(s.v(s.f("second_call_to_action_text",t,e,0))),s.b("\n"+i),s.b(" </a>\n")}),t.pop()),s.b(" </div>\n")}),t.pop()),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},"8xkx":function(t,e,i){"use strict";function s(){this.prefetch=function(t,e,i,s){var n=this,o={prefetch:!0,result_type:e,count:this.getprefetchcount(),media_tagging_in_prefetch:this.shouldincludecanmediatag()};return this.storage&&(o[e+"_cache_age"]=this.storage.getcacheage(this.attr.storagehash,this.attr.ttl_ms)),new promise(function(e,a){n.get({url:t,data:o,eventdata:{},success:i,error:s}).then(e).fail(a)})},this.usestaledata=function(){this.storage&&(this.extendttl(),this.getdatafromlocalstorage())},this.extendttl=function(){for(var t=this.getstoragekeys(),e=0;e<t.length;e++)this.storage.updatettl(t[e],this.attr.ttl_ms)},this.loaddata=function(t,e){this.getstoragekeys().some(function(t){return this.storage.isexpired(t)},this)||this.ismetadataexpired()?this.prefetch(t,e,this.processresults.bind(this),this.usestaledata.bind(this)):this.getdatafromlocalstorage()},this.getprotocol=function(){return window.location.protocol},this.shouldincludecanmediatag=function(){return n.a.getdecider("enable_media_tag_prefetch")}}var n=i("iamj");e.a=s},"8xx6":function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({mediaitemselector:".momentmediaitem",mediaentityselector:".momentmediaitem-entity",datashowableselector:'[data-showable="true" ]',datashowableattr:"data-showable",datacropaspectratio:"data-crop-aspect-ratio",cropsquare:"square",cropportrait3x4:"portrait-three-by-four"}),this.loadallmedia=function(){this.select("mediaitemselector").not(this.attr.datashowableselector).each(this.loadmedia.bind(this))},this.loadmedia=function(e,i){var s=t(i),n=s.find(this.attr.mediaentityselector);n.length&&s.length&&n.css(this.getcssforloading(s,n)),s.attr(this.attr.datashowableattr,!0)},this.getcssforloading=function(t,e){var i=this.getmediadimensions(e),s=this.gettargetdimensions(t),n=t.attr(this.attr.datacropaspectratio),a=n===this.attr.cropsquare,r=n===this.attr.cropportrait3x4;if(a||r){var c=this.getcropdata(e,n)||o.a.getdefaultcroprect(i,s);return o.a.calculatecrop(i,s,c)}return this.calculatescalingcss(s,i)},this.getcropdata=function(t,e){var i={x:parseint(t.data(e+"-crop-x"),10),y:parseint(t.data(e+"-crop-y"),10),width:parseint(t.data(e+"-crop-width"),10),height:parseint(t.data(e+"-crop-height"),10)};if(this.validatecropdata(i))return i},this.validatecropdata=function(t){return object.keys(t).every(function(e){return!isnan(t[e])})},this.getmediadimensions=function(t){return"img"===t.get(0).nodename.tolowercase()?this.getimagedimensions(t):this.getiframedimensions(t)},this.getimagedimensions=function(t){var e=t.get(0);return{width:t.data("width")||e.naturalwidth,height:t.data("height")||e.naturalheight}},this.getiframedimensions=function(t){return{width:t.data("width"),height:t.data("height")}},this.gettargetdimensions=function(t){return{width:t.width(),height:t.height()}},this.calculatescalingcss=function(t,e){return{width:"100%",height:t.width/e.width*e.height+"px"}},this.after("initialize",function(){this.loadallmedia(),this.on("uimomentshasinjectednewitems uiactivitypopuprendered uimomentanalyticsrendered",this.loadallmedia)})}var n=i("dbjh"),o=i("emog");e.a=object(n.default)(s)}).call(e,i("4ksj"))},"8jxu":function(t,e,i){"use strict";var s=i("0d4m"),n=i("9tdk"),o=i("9eqs"),a=i.n(o);e.a=function(t){var e=a.a.render({article_number:"20156423"});switch(t){case n.a.invalid_media:return object(s.default)("your gif file could not be processed. please see tips for uploading gifs. {{learnmorelink}}",{learnmorelink:e});case n.a.file_too_large:return object(s.default)("your gif file is too large. gifs should be less than 3 mb. {{learnmorelink}}.",{learnmorelink:e});case n.a.unsupported_media:return object(s.default)("your gif file is not compatible. please see tips for uploading gifs. {{learnmorelink}}",{learnmorelink:e})}}},"8tpw":function(t,e,i){"use strict";var s={};e.a={get:function(t){return s[t]},set:function(t){s=t||{}},clear:function(){this.set({})}}},"8z7v":function(t,e,i){"use strict";function s(){this.defaultattrs({delay:3e3,submitselector:".gdpr-soft-bounce-submit"}),this.softbouncecheck=function(){var t=this;this.trigger(document,"dataexpectsoftbounce"),settimeout(function(){return t.get({url:"https://api.twitter.com/1.1/account/verify_credentials.json",useoauthsessionauth:!0})},this.attr.delay)},this.showdialog=function(t,e){this.bouncelocation=e.bouncelocation,this.open(),this.scribeimpression()},this.scribeimpression=function(){this.scribe({component:"gdpr_bounce_dialog",action:"impression"})},this.bouncerredirect=function(){this.close(),window.location=this.bouncelocation},this.after("initialize",function(){this.bouncelocation=null,this.on(document,"uiwantsgdprsoftbouncecheck",this.softbouncecheck),this.on(document,"datasoftbounce",this.showdialog),this.on("click",{submitselector:this.bouncerredirect})})}var n=i("dbjh"),o=i("vtwx"),a=i("uhc7"),r=i("3odc"),c=object(n.default)(s,o.a,a.a,r.a);e.a=c},"97d5":function(t,e,i){"use strict";function s(){this.defaultattrs({baseprefetchendpointurl:"/i/cards/preview/v1",cardprefetchinterval:1e4,prefetchonleadingedge:!0}),this.filtercacheduri=function(t){return!this.prefetcheduri[t]},this.prefetchcardwithuri=function(t){this.prefetcheduri[t]=!0,this.get({url:this.attr.baseprefetchendpointurl,data:{card_uri:t},datatype:this.data_types.text})},this.setcarduriparam=function(t,e){var i=e&&e.urls;array.isarray(i)&&(1===i.length?this.trigger("uisetdmcreatecarduriparam",{carduri:i[0]}):this.trigger("uiresetdmcreatecarduriparam"))},this.prefetchcard=function(t,e){var i=e&&e.urls;array.isarray(i)&&1===i.length&&i.filter(this.filtercacheduri,this).foreach(this.prefetchcardwithuri,this)},this.after("initialize",function(){this.prefetcheduri={},this.on("uigoturlintext",this.setcarduriparam),this.on("uigoturlintext",object(a.a)(this.prefetchcard,this.attr.cardprefetchinterval,this.attr.cardprefetchinterval,this.attr.prefetchonleadingedge))})}var n=i("dbjh"),o=i("vtwx"),a=i("zytg"),r=object(n.default)(s,o.a);e.a=r},"9f29":function(t,e,i){"use strict";function s(t){if(!t)return null;var e=t.replace(r,"$1$1$2$2$3$3");return e.match(c)?e.match(l).map(function(t){return parseint(t,16)}):null}function n(t,e){var i=s(t),n=a(i,3);return"rgba("+n[0]+", "+n[1]+", "+n[2]+", "+e+")"}function o(t,e,i){var n=s(t),o=s(i),a=1-e;return n&&o&&n.map(function(t,i){return(math.floor(t*e+o[i]*a)+256).tostring(16).slice(1)}).join("")}i.d(e,"b",function(){return s}),i.d(e,"c",function(){return n}),i.d(e,"a",function(){return o});var a=function(){function t(t,e){var i=[],s=!0,n=!1,o=void 0;try{for(var a,r=t[symbol.iterator]();!(s=(a=r.next()).done)&&(i.push(a.value),!e||i.length!==e);s=!0);}catch(t){n=!0,o=t}finally{try{!s&&r.return&&r.return()}finally{if(n)throw o}}return i}return function(e,i){if(array.isarray(e))return e;if(symbol.iterator in object(e))return t(e,i);throw new typeerror("invalid attempt to destructure non-iterable instance")}}(),r=/^(.)(.)(.)$/,c=/^[0-9a-f]{6}$/i,l=/.{2}/g},"9ooz":function(t,e,i){"use strict";function s(){this.defaultattrs({noshowerror:!0,dmdialogselector:"#dm_dialog",throttleinterval:3e3,foregroundpollinterval:3e3,burstpollinterval:3e3,burstpollduration:3e5,maxpollinterval:6e4}),this.dispatch=function(t){t&&(c.a.updatenotificationstate(t.note),this.trigger("datanotificationsreceived",t.note))},this.maketoastrequest=function(t,e,i){this.get({url:"/i/toast_poll",data:i,eventdata:e,success:this.dispatch.bind(this),headers:{"x-twitter-polling":!0},returnnotificationdata:!0})},this.requestuserupdates=function(){this.get({url:"/i/direct_messages/user_updates",data:{cursor:this.dmcursor,active_conversation:this.activeconversationvisible?this.activeconversation:void 0},success:"datadmuserupdates"})},this.requestconversationlist=function(t,e){var i={};c.a.adddmdata(i),this.maketoastrequest(t,e,i)},this.attachbackgroundpoller=l.default.once(function(){this.attachchild(n.a,document,{burstpollinterval:this.attr.burstpollinterval,burstduration:this.attr.burstpollduration,maxpollinterval:this.attr.maxpollinterval})}),this.updateactiveconversation=function(t,e){this.activeconversation=e.conversation_id},this.updateactiveconversationvisibility=function(t,e){"uidmactivityopened"===t.type?this.activeconversationvisible="conversation"===e.activity||"convosettings"===e.activity||"addparticipants"===e.activity:this.activeconversationvisible=!1},this.after("initialize",function(){this.attachchild(a.a,document,{dmdialogselector:this.attr.dmdialogselector,pollinginterval:this.attr.foregroundpollinterval}),o.a.get("notifications")&&"notification"in window&&"granted"===notification.permission&&this.attachbackgroundpoller(),this.on("uinativenotificationpermissiongranted",this.attachbackgroundpoller),this.on("uidmpoll",this.requestconversationlist),this.on("uidmrequestuserupdates",l.default.throttle(this.requestuserupdates,this.attr.throttleinterval)),this.on("datadmupdate",this.requestuserupdates),this.on("uidmconversationupdated",this.updateactiveconversation),this.on(document,"uidmdialogclosed uidmactivityopened",this.updateactiveconversationvisibility)})}var n=i("gvv3"),o=i("8tpw"),a=i("hilq"),r=i("dbjh"),c=i("5vls"),l=i("yzit"),h=i("9np9"),d=i("vtwx"),u=i("9uwv"),p=i("ajan"),f=object(r.default)(s,d.a,h.a,u.a,p.a);e.a=f},"9qtu":function(t,e,i){"use strict";function s(){this.createstylesheet=function(t){var e=document.createelement("style");return e.type="text/css" ,t&&(e.id=t),document.getelementsbytagname("head")[0].appendchild(e),e.sheet||new n},this.rules=function(t){return t.cssrules?t.cssrules:t.rules},this.insertcssrule=function(t,e){return t.insertrule(e,this.rules(t).length)},this.removecssrule=function(t,e){t.deleterule(e)}}e.a=s;var n=function(){function t(){this.cssrules=[]}return t.prototype.insertrule=function(t,e){return this.cssrules[e]={csstext:t},e},t.prototype.deleterule=function(t){delete this.cssrules[t],this.cssrules=this.cssrules.filter(function(t){return null!=t})},t}()},"9rxz":function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({unellipsifiedtextclass:"js-ellipsis",unellipsifiedtextselector:".js-ellipsis",maxcharsremoveensureendonwordbreak:5}),this.after("initialize",function(){void 0!==document.createrange&&this.on(document,"uiswiftloaded uipagechanged uihasinjectednewtimeline uihasinjectedoldtimelineitems uihasinjectedrangetimelineitems uioverlayupdate uitrendsdisplayed uishowmoretrends uitriggerellipsis",this.addellipses)}),this.addellipses=function(){var t=this.select("unellipsifiedtextselector").filter(":visible");t.removeclass(this.attr.unellipsifiedtextclass),t.each(this.addellipsis.bind(this))},this.addellipsis=function(e,i){var s=t(i),n=this.createrange(s);if(n.hasoverflow()){s.data("full-text",s.text()),n.shortentovisiblecontent(),n.ensurelastlineavailablewidth(this.maxellipsiswidth(s)),n.shortentonearestwordbreak({maxcharstoremove:this.attr.maxcharsremoveensureendonwordbreak});var o=n.todocumentfragment();o.appendchild(document.createtextnode("")),s.html(o),this.trigger(s,"uiellipsisadded")}},this.maxellipsiswidth=function(t){return 2*parseint(t.css("font-size"))},this.createrange=function(t){return new o.a(t)}}var n=i("dbjh"),o=i("dt6b");e.a=object(n.default)(s)}).call(e,i("4ksj"))},"9tdk":function(t,e,i){"use strict";e.a={file_too_large:2,internal_error:131,invalid_media:1,rate_limit:88,timeout:67,unsupported_media:3,zero_file_length:4}},"9udm":function(t,e,i){"use strict";var s=i("dbjh"),n=i("rbkv"),o=i("jfpi"),a=i("fuxd"),r=i("iamj"),c=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t};e.a=object(s.default)(function(){this.tweetsentsuccessscribe=function(t,e){var i=e.senttweet,s=e.response,l={};i.mediatype===o.h.video&&r.a.getdecidervalue("web_upload_video_advanced")?l={metadata:i.additional_media_info}:i.mediatype===o.h.gif&&i.gifinfo&&(l={photo_count:1,found_media_provider:i.gifinfo.provider});var h={scribecontext:{component:"tweet_box"},scribedata:{items:[{id:s.id_str,item_type:n.a.tweet,media_details:l}]}},d=i&&i.tweetdata&&i.tweetdata.status;if(this.trigger("uitweetboxtweetsuccess",c({},h,{text:d})),i.mediatype===o.h.photo)this.trigger("uitweetboxphototweetsuccess",h),i.hasalttext?this.trigger("uitweetboxphototweetwithalttextsuccess",h):this.trigger("uitweetboxphototweetwithoutalttextsuccess",h);else if(i.mediatype===o.h.gif){var u=i.gifinfo?"uitweetboxremotegiftweetsuccess":"uitweetboxlocalgiftweetsuccess";this.trigger(u,h)}else i.mediatype===o.h.video?(this.trigger("uitweetboxvideotweetsuccess",h),r.a.getdecidervalue("web_upload_video_advanced")&&this.trigger("uitweetboxprovideotweetsuccess",h)):i.haspoll&&this.trigger("uitweetboxpolltweetsuccess",h);i.tweetdata.place_id&&this.trigger("uitweetboxgeotaggedtweetsuccess",h),i.tweetdata.status.match(a.a.regex)&&this.trigger("uitweetboxemojitweetsuccess")},this.tweetstormuploadsuccessscribe=function(t,e){this.trigger("scribe",{scribecontext:"tweet_box",scribeevent:{action:"thread_send_success"},scribedata:{items:[{item_type:n.a.selfthread,self_thread_details:e}]}})},this.tweetstormuploaderrorscribe=function(t,e){this.trigger("scribe",{scribecontext:"tweet_box",scribeevent:{action:"thread_send_failure"},scribedata:{items:[{item_type:n.a.selfthread,self_thread_details:e}]}})},this.after("initialize",function(){this.on("datatweetstormtweetsentsuccessscribe",this.tweetsentsuccessscribe),this.on(o.b.tweet.send_error,"uitweetboxtweeterror"),this.on("datatweetstormuploadsuccessscribe",this.tweetstormuploadsuccessscribe),this.on("datatweetstormuploaderrorscribe",this.tweetstormuploaderrorscribe)})})},"9uwv":function(t,e,i){"use strict";function s(){this.storedmcursor=function(t,e){e&&e.cursor&&(this.dmcursor=e.cursor,this.trigger("datadmcursorupdated",{cursor:this.dmcursor}))},this.storedmcursorfromupdates=function(t,e){e&&e.inbox_updates&&e.inbox_updates.cursor&&(this.dmcursor=e.inbox_updates.cursor,this.trigger("datadmcursorupdated",{cursor:this.dmcursor}))},this.after("initialize",function(){this.on(document,"datadmcursor",this.storedmcursor),this.on(document,"datadmuserupdates",this.storedmcursorfromupdates)})}e.a=s},"9eqs":function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("<a href="https://support.twitter.com/articles/"),s.b(s.v(s.f(" article_number",t,e,0))),s.b('#import-web" target="_blank" rel="noopener">learn more</a>\n'),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},"9htr":function(t,e,i){"use strict";var s={options_type:"options",text_input_type:"text_input",location_type:"location"};e.a=s},"9nax":function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({autosubscribe:!1,allowregistration:!0,serviceworkerpath:"/push_service_worker.js",pushcheckinttl:864e5}),this.subscriptionchangerequested=function(t,e){var i=this,s=promise.resolve();if(!this.serviceworkerregistration||!this.attr.allowregistration)return s;var n=!this.subscription&&e.subscribe,o=this.subscription&&!e.subscribe,a=void 0;if(n)a=this.subscribe(this.serviceworkerregistration);else if(o){var r=function(){i.subscription=null,i.storeunregister(),i.trigger("uibrowserpushunsubscribe"),i.sendcurrentstatus()};a=this.subscription.unsubscribe().then(r,r)}return a||s},this.showinitialnotification=function(){this.trigger("uidisplaynativenotification",{title:object(l.default)("customize your notifications"),body:object(l.default)("click to visit your settings and choose which web notifications you receive"),displayduration:15e3,click:{eventname:"uipushsettingsnotificationclicked"}})},this.subscribe=function(t){if(!t||!this.attr.allowregistration)return promise.resolve();var e="granted"===this.getnotificationpermission();e?this.trigger("uibrowsersilentsubscribeattempt"):this.trigger("uibrowserpushpromptimpression");var i=r.a.getdecider("allowwebpushvapidupgrade"),s={uservisibleonly:!0};return i&&(s.applicationserverkey=d),t.pushmanager.subscribe(s).then(this.subscribesuccess.bind(this,e),this.subscribefailure.bind(this,e))},this.subscribesuccess=function(t,e){t?this.trigger("uibrowsersilentsubscribesuccess"):this.trigger("uibrowserpushpromptallow"),this.subscription=e,this.storesubscription(this.subscription,!0),this.sendcurrentstatus(),this.showinitialnotification()},this.subscribefailure=function(t){"denied"===this.getnotificationpermission()?this.trigger("uibrowserpushpromptdeny"):"default"===this.getnotificationpermission()?this.trigger("uibrowserpushpromptdismiss"):t?this.trigger("uibrowsersilentsubscribeerror"):this.trigger("uibrowserpushprompterror")},this.isserviceworkersupported=function(){return"serviceworker"in navigator},this.ispushsupported=function(){var t="pushmanager"in window,e=this.isserviceworkersupported();return e&&"shownotification"in serviceworkerregistration.prototype&&t&&e},this.isremembermeon=function(){return"1"===object(n.a)("remember_checked_on")},this.supportsvapid=function(){return"pushsubscriptionoptions"in window&&window.pushsubscriptionoptions.prototype.hasownproperty("applicationserverkey")},this.serviceworkerready=function(t){var e=this;if(this.pushsupported)return this.serviceworkerregistration=t,this.serviceworkerregistration.pushmanager.getsubscription().then(function(i){if(!(i||e.isremembermeon()&&e.supportsvapid()))return e.pushsupported=!1,e.sendcurrentstatus();e.subscription=i;var s=r.a.getdecider("allowwebpushvapidupgrade");if("granted"===e.getnotificationpermission()&&!i&&e.attr.autosubscribe&&e.supportsvapid())e.subscribe(t);else{if(i&&!e.isvapidsubscription(i)&&e.supportsvapid()&&s)return e.subscription.unsubscribe().then(function(){return e.subscribe(t)});e.sendcurrentstatus()}e.storesubscription(e.subscription)})},this.getnotificationpermission=function(){return"notification"in window&&notification.permission},this.isvapidsubscription=function(t){if(!t||!t.options||!t.options.applicationserverkey)return!1;var e=new uint8array(t.options.applicationserverkey);return 65===e.bytelength&&4===e[0]},this.storesubscription=function(e,i){var s=this;if(e&&(!this.storage.getitem("issaved")||i)){var n=h({subscribe:!0,token:e.endpoint,usewebclientid:this.isvapidsubscription(e)},e.tojson());e.subscriptionid&&-1===e.endpoint.indexof(e.subscriptionid)&&(n.token=e.endpoint+"/"+e.subscriptionid),this.post({url:"/i/push_destinations",data:n,success:function(){return s.storage.setitem("issaved",!0,s.attr.pushcheckinttl)},error:t.noop})}},this.storeunregister=function(){this.storage.clear(),this.post({url:"/i/push_destinations/destroy",success:t.noop,error:t.noop})},this.sendcurrentstatus=function(){this.trigger("datapushsubscriptionstate",{permissiondenied:"denied"===this.getnotificationpermission(),supported:this.attr.allowregistration&&this.pushsupported,subscribed:!!this.subscription})},this.navigatetosettings=function(t,e){this.trigger("uinavigate",{href:"/settings/web_notifications"})},this.after("initialize",function(){var t=this;if(this.serviceworkerregistration=null,this.subscription=null,this.on("uipushsettingsnotificationclicked",this.navigatetosettings),this.on("uiwantspushsubscriptionstate",this.sendcurrentstatus),this.pushsupported=this.ispushsupported(),this.serviceworkersupported=this.isserviceworkersupported(),this.pushsupported){var e=object(o.a)({withexpiry:!0});this.storage=new e("push_notifications"),this.on("uipushsubscriptionchangerequested",this.subscriptionchangerequested)}else"denied"===this.getnotificationpermission()&&this.trigger("uibrowserpushpermissiondenied"),this.sendcurrentstatus();if(this.serviceworkersupported){var i=navigator.serviceworker;i.register(this.attr.serviceworkerpath).then(function(){return i.ready}).then(this.serviceworkerready.bind(this)).catch(function(){t.serviceworkersupported=!1,t.pushsupported&&(t.pushsupported=!1,t.sendcurrentstatus())})}})}var n=i("dsp6"),o=i("rwgq"),a=i("dbjh"),r=i("iamj"),c=i("vtwx"),l=i("0d4m"),h=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},d=new uint8array([4,94,104,18,141,49,13,74,96,202,82,131,78,91,29,242,150,102,197,0,53,149,230,8,54,38,62,173,43,28,89,130,191,222,213,128,147,62,21,49,187,95,212,194,196,253,140,157,234,34,8,234,143,158,221,15,83,8,222,111,100,204,213,48,75]);e.a=object(a.default)(s,c.a)}).call(e,i("4ksj"))},a1lw:function(t,e,i){"use strict";function s(){this.defaultattrs({rweboptincookiename:"",rweboptincookienewvalue:"on",testmode:!1}),this.logoptin=function(t,e){this.scribe({component:e&&e.component,element:"delight_opt_in",action:"click"}),this.scribe({component:e&&e.component,element:"delight_opt_in_"+this.attr.rweboptincookienewvalue,action:"click"}),this.post({url:"/i/delight_opt_in",success:"datalogdelightoptinsuccess",error:"datalogdelightoptinsuccess"})},this.setcookieandreload=function(t,e){var i=this.attr.testmode?null:".twitter.com";object(n.a)(this.attr.rweboptincookiename,this.attr.rweboptincookienewvalue,{path:"/",domain:i,expires:365}),this.reload()},this.reload=function(){this.attr.testmode||(window.location.href="/")},this.scribeoptinmoduleimpression=function(t,e){this.scribe({component:"delight_opt_in_module",action:"impression"})},this.scribedismissoptinmodule=function(t,e){this.scribe({component:"delight_opt_in_module",element:"dismiss",action:"click"})},this.after("initialize",function(){this.on("uidelightoptinclick",this.logoptin),this.on("uidismissdelightoptinmodule",this.scribedismissoptinmodule),this.on("uidelightoptinmoduleimpression",this.scribeoptinmoduleimpression),this.on("datalogdelightoptinsuccess",this.setcookieandreload)})}var n=i("dsp6"),o=i("dbjh"),a=i("vtwx"),r=i("3odc");e.a=object(o.default)(s,a.a,r.a)},a1ox:function(t,e,i){"use strict";(function(t){function s(){this.viewporthelpers=a.a,this.staticcardstypes=c.a,this.defaultattrs({containerselector:"body",cardcontainerselector:".tweet, .js-stream-tweet",scrollthrottle:100,viewportthreshold:800,fullscreenresetheight:100,iframecontainerselector:".js-macaw-cards-iframe-container",unloadedcardsselector:'.js-macaw-cards-iframe-container[data-watched!="true" ]',unloadedcardsfilter:".cards-forward .js-macaw-cards-iframe-container"}),this.shouldunloadcard=function(t){return-1===this.staticcardstypes.indexof(t.data("card-name"))},this.watchunloadedcards=function(){var t=this.$container.find(this.attr.unloadedcardsfilter).filter(function(){return 0===this.children.length});t.attr("data-watched",!0),this.watchedcards=this.watchedcards.concat(t.toarray()),this.throttledprocesswatchedcards()},this.processwatchedcards=function(){if(!this.isinfullscreen()){for(var e=void 0,i=0;i<this.watchedcards.length;)e=this.watchedcards[i],a.a.iswithinbounds(this.$viewport,t(e),this.attr.viewportthreshold)?(this.loadcard(e),this.loadedcards.push(e),this.watchedcards.splice(i,1)):i+=1;for(i=0;i<this.loadedcards.length;)if(e=this.loadedcards[i],a.a.iswithinbounds(this.$viewport,t(e),this.attr.viewportthreshold))i+=1;else{var s=t(e),n=s.find("iframe").attr("height");n&&s.css("min-height",n+"px"),this.shouldunloadcard(s)&&(this.unloadcard(e),this.watchedcards.push(e)),this.loadedcards.splice(i,1)}}},this._getcardcontainer=function(e){return t(e).closest(this.attr.cardcontainerselector)},this.loadcard=function(t){this.createcard(this._getcardcontainer(t)),this.trigger("uidynamiccardloaded")},this.unloadcard=function(t){this.destroycard(this._getcardcontainer(t)),this.trigger("uidynamiccardunloaded")},this.handleunloadcards=function(t){t.stoppropagation(),this.destroyallcards(),this.watchedcards=[],this.loadedcards=[],this.$container.find(this.attr.iframecontainerselector).removeattr("data-watched")},this.resetwatchedcards=function(){this.watchedcards=[],this.$container.find(this.attr.iframecontainerselector).removeattr("data-watched"),this.watchunloadedcards()},this.isinfullscreen=function(){return document.webkitfullscreenelement||document.msfullscreenelement||document.fullscreenelement||document.mozfullscreenelement},this.fullscreenchange=function(e){var i=this;this.isinfullscreen()?(this.bindingtimeout&&(cleartimeout(this.bindingtimeout),this.bindingtimeout=void 0),this.$fullscreentweet=t(e.target).closest(this.attr.cardcontainerselector),this.off("scroll",this.throttledprocesswatchedcards),this.off(this.$viewport,"resize",this.throttledprocesswatchedcards)):(this.$fullscreentweet&&1===this.$fullscreentweet.length&&(window.scrollto(0,this.$fullscreentweet.offset().top-this.attr.fullscreenresetheight),this.$fullscreentweet=void 0),this.bindingtimeout=settimeout(function(){i.on("scroll",i.throttledprocesswatchedcards),i.on(i.$viewport,"resize",i.throttledprocesswatchedcards)},1e3))},this.reloadallcards=function(t,e){this.handleunloadcards(t,e),this.watchunloadedcards()},this.cleanup=function(){this.watchedcards.foreach(this.unloadcard.bind(this)),this.loadedcards.foreach(this.unloadcard.bind(this)),this.$container=null,this.off(document,"uipagechanged"),this.off("scroll"),this.off(this.$viewport,"resize")},this.before("teardown",function(){this.cleanup()}),this.after("initialize",function(){this.$container=this.node===window?t(this.attr.containerselector):this.select("containerselector"),this.$container.length||(this.$container=this.$node),this.watchedcards=[],this.loadedcards=[],this.on(document,"uipagechanged",this.resetwatchedcards),this.on(document,"uireloadallcards",this.reloadallcards),this.on(this.$container,"uiunloadallcards",this.handleunloadcards),this.throttledprocesswatchedcards=r.default.throttle(this.processwatchedcards.bind(this),this.attr.scrollthrottle),this.on("scroll",this.throttledprocesswatchedcards),this.$viewport=this.node===document?t(window):this.$node,this.on(this.$viewport,"resize",this.throttledprocesswatchedcards),this.on(document,"uiwatchunloadedcards",this.watchunloadedcards),this.on(document,"webkitfullscreenchange mozfullscreenchange fullscreenchange msfullscreenchange",this.fullscreenchange),this.watchunloadedcards()})}var n=i("dbjh"),o=i("dumm"),a=i("/lrg"),r=i("yzit"),c=i("zdao");e.a=object(n.default)(o.a,s)}).call(e,i("4ksj"))},ahbl:function(t,e,i){"use strict";(function(t){function s(){this.showtooltip=function(e){this.getstore().setitem("seen_add_tweet_tooltip","1"),t(e.target).tooltip("show"),this.off("uimaybeshowaddanothertweettooltip")},this.getstore=function(){return this.tweetstormstore||(this.tweetstormstore=new o.a("tweetstorm_"+a.a.user.id)),this.tweetstormstore},this.after("initialize",function(){this.getstore().getitem("seen_add_tweet_tooltip")||this.on("uishowaddanothertweettooltip",this.showtooltip)})}var n=i("dbjh"),o=i("wodx"),a=i("iamj");e.a=object(n.default)(s)}).call(e,i("4ksj"))},ac9p:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({pastedcontentselector:".feedback-json-output",debugkeyselectorselector:"select[name=debug-key]",debugdatatext:"",dialogtoggleselector:".feedback-dialog .feedback-data-toggle"}),this.toggledebugenabled=function(e,i){this.trigger("uitoggledebugfeedback",{enabled:t(i.el).is(".off")})},this.preparedialog=function(t,e){this.trigger("uineedsfeedbackdata")},this.opendialog=function(t,e){this.debugdata=e,this.refreshavailabledatakeys(),this.open()},this.refreshavailabledatakeys=function(){var e=this.select("debugkeyselectorselector");e.empty(),object.keys(this.debugdata).foreach(function(i){var s=t("<option>"+i+"</option>");e.append(s)}),this.refreshdebugjson()},this.refreshdebugjson=function(t){var e=this.select("debugkeyselectorselector").val();if(e&&this.debugdata[e]){var i=this.debugdata[e].map(function(t){return t.data});this.select("pastedcontentselector").html(json.stringify(i,void 0,2))}},this.after("initialize",function(){this.on(document,"datafeedback",this.opendialog),this.on(document,"uipreparefeedbackdialog",this.preparedialog),this.on("change",{debugkeyselectorselector:this.refreshdebugjson}),this.on("click",{dialogtoggleselector:this.toggledebugenabled})})}var n=i("dbjh"),o=i("uhc7");e.a=object(n.default)(s,o.a)}).call(e,i("4ksj"))},b55n:function(t,e,i){"use strict";function s(t,e){if(t=t||{enabled:!1,title:null},t.enabled){var i=n(t.title,"resolved","info"),s=n(t.title,"rejected","warn");return e.then(i,function(t){throw s(t)})}return e}function n(t,e,i){return function(i){("["+e+"] "+(t||"")).trim();return i}}e.a=s},bdsg:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div id="kb-shortcuts-msg" class="visuallyhidden">\n <h2>keyboard shortcuts</h2>\n <p>\n keyboard shortcuts are available for common actions and site navigation.\n'),s.b(' <button id="show-shortcuts-btn" type="button" tabindex="-1">view keyboard shortcuts</button>\n <button id="dismiss-shortcuts-btn" type="button" tabindex="-1">dismiss this message</button>\n </p>\n</div>'),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},bcvv:function(t,e,i){"use strict";function s(){this.defaultattrs({defaultajaxdata:{include_entities:1,include_available_features:1},noshowerror:!0,startpollinginterval:7500,maxpollinginterval:6e4}),this.requestitems=function(t,e){t&&t.stoppropagation();var i=function(i){this.hastorndown||(e.isnewitemrequest?this.hasactivenewitemsrequest=!1:this.hasactiveolditemsrequest=!1,this.trigger(t.target,"datagotmoretimelineitems",i),this.trigger("uihidegloballoadingindicator"))},s=this.requestinterval,n=function(i){this.hastorndown||(i&&i.xhr&&"timeout"===i.xhr.statustext&&s===this.requestinterval&&(this.requestinterval=math.min(2*this.requestinterval,this.attr.maxpollinginterval)),e.isnewitemrequest?this.hasactivenewitemsrequest=!1:this.hasactiveolditemsrequest=!1,this.trigger(t.target,"datagotmoretimelineitemserror",i),this.trigger("uihidegloballoadingindicator"))},o=e&&e.headers||{};e&&e.frompolling&&(o["x-twitter-polling"]=!0);var r={contextual_tweet_id:e.contextual_tweet_id,cursor:e.cursor,cursor_index:e.cursor_index,cursor_offset:e.cursor_offset,min_position:e.min_position,max_position:e.max_position,is_forward:e.is_forward,latent_count:e.latent_count,composed_count:e.composed_count,composed_ids:e.composed_ids,include_new_items_bar:e.include_new_items_bar,interval:e.interval,count:e.count,timeline_empty:e.timeline_empty,reset_error_state:e.reset_error_state};e.query&&(r.q=e.query),e.curated_timeline_since_id&&(r.curated_timeline_since_id=e.curated_timeline_since_id),e.scroll_cursor&&(r.scroll_cursor=e.scroll_cursor),e.refresh_cursor&&(r.refresh_cursor=e.refresh_cursor),e.excluded&&(r.excluded=e.excluded),e.isnewitemrequest&&this.hasactivenewitemsrequest||!e.isnewitemrequest&&this.hasactiveolditemsrequest||(this.hasactivenewitemsrequest=!(!this.hasactivenewitemsrequest&&!e.isnewitemrequest),this.hasactiveolditemsrequest=!(!this.hasactiveolditemsrequest&&e.isnewitemrequest),this.get({url:this.attr.endpoint,headers:o,timeout:this.requestinterval,data:a({},this.attr.defaultajaxdata,r),eventdata:e,success:i.bind(this),error:n.bind(this)}))},this.before("teardown",function(){this.hastorndown=!0}),this.after("initialize",function(){this.hasactivenewitemsrequest=!1,this.hasactiveolditemsrequest=!1,this.requestinterval=this.attr.startpollinginterval,this.on("uiwantsmoretimelineitems",this.requestitems)})}var n=i("dbjh"),o=i("vtwx"),a=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t};e.a=object(n.default)(s,o.a)},bsga:function(t,e,i){"use strict";function s(){var t=0;this.triggerunreadcount=function(e,i){i=i||{},t=i.msgcount,t>0?this.trigger(e.target,"datauserhasunreaddmswithcount",{msgcount:t}):this.trigger(e.target,"datauserhasnounreaddmswithcount")},this.dispatchunreadnotification=function(t,e){var i=e&&e.d||{};"ok"===i.status&&null!=i.response&&this.triggerunreadcount(t,{msgcount:i.response})},this.checkforenvelope=function(e,i){i&&"profile"===i.section&&this.triggerunreadcount(e,{msgcount:t})},this.after("initialize",function(){this.on("uireadstatechanged",this.triggerunreadcount),this.on("datanotificationsreceived",this.dispatchunreadnotification),this.on("uipagechanged",this.checkforenvelope)})}var n=i("dbjh");e.a=object(n.default)(s)},btbl:function(t,e,i){"use strict";function s(){n.default.mixin(this,[r.a]),this.defaultattrs({emojipickerselector:".emojipicker"}),this.insertemoji=function(t,e){this.trigger("uiinserttext",{text:e.unicode,nofocus:!0})},this.after("reset",function(){this.select("emojipickerselector").each(function(t,e){e.style.display="none",e.offsetheight,e.style.display=""})}),this.after("initialize",function(){var t=a.default.merge(this.attr.eventdata,{scribecontext:{element:"emoji_picker"}},!0);this.attachchild(o.a,this.select("emojipickerselector"),{eventdata:t,preferredgravity:this.attr.preferredgravity,preferredweight:this.attr.preferredweight,preventdropdownsopeningup:this.attr.preventdropdownsopeningup,restorefocusonclose:!0,additionaltopbarpositionselector:this.attr.additionaltopbarpositionselector}),this.on("uiemojipicked",this.insertemoji);var e=this.select("emojipickerselector");e.length&&this.on(e,"uidropdownclosed",this.focus)})}var n=i("q9/c"),o=i("iunq"),a=i("yzit"),r=i("ajan");e.a=s},bugu:function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in a)e[s]||(e[s]=a[s]);return r.render(t,e,i)}var n=i("opvs").default,o={"dialogs/close_button":i("38hd")},a=n(o),r=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div id="confirm_dialog" class="modal-container">\n <div class="modal draggable">\n <div class="modal-content">\n'),s.b(s.rp("<dialogs/close_button0",t,e," ")),s.b(' <div class="modal-header">\n <h3 class="modal-title">'),s.b(s.v(s.f("title_text",t,e,0))),s.b("</h3>\n </div>\n"),s.s(s.f("body_text",t,e,1),t,e,0,264,374,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <div class="modal-body">\n <p class="modal-body-text">'),i.b(i.v(i.f("body_text",t,e,0))),i.b("</p>\n </div>\n")}),t.pop()),s.b(' <div class="modal-footer">\n <button class="edgebutton edgebutton--tertiary js-close" id="confirm_dialog_cancel_button">'),s.b(s.v(s.f("cancel_text",t,e,0))),s.b('</button>\n <button id="confirm_dialog_submit_button" class="edgebutton "),s.s(s.f("danger",t,e,1),t,e,0,625,643,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b("edgebutton--danger")}),t.pop()),s.b(" "),s.s(s.f("danger",t,e,1),t,e,1,0,0,"")||s.b("edgebutton--primary"),s.b(' modal-submit">'),s.b(s.v(s.f("submit_text",t,e,0))),s.b("</button>\n </div>\n </div>\n </div>\n</div>\n"),s.fl()},partials:{"<dialogs/close_button0":{name:"dialogs/close_button",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:a,render:s}}).call(e,i("jtwp"))},bz2s:function(t,e,i){"use strict";function s(t){this.attr={id:null,items:[],limit:0,searchpathwithquery:"/search?src=savs&q=",querysource:"saved_search_click"},this.attr=n.default.merge(this.attr,t),this.getremotesuggestions=function(t,e,i){return i},this.requiresremotesuggestions=function(t){return!1},this.getlocalsuggestions=function(t,e){if(t&&t.query){e(this.attr.items.filter(function(e){return 0===e.name.indexof(t.query)}).slice(0,this.attr.limit))}else e(this.attr.items)},this.addsavedsearch=function(t){t&&t.query&&this.attr.items.push({id:t.id,id_str:t.id_str,name:t.name,query:t.query,saved_search_path:this.attr.searchpathwithquery+encodeuricomponent(t.query),search_query_source:this.attr.querysource})},this.removesavedsearch=function(t){if(t&&t.query)for(var e=this.attr.items,i=0;i<e.length;i++)if(e[i].query===t.query||e[i].name===t.query)return void e.splice(i,1)}}var n=i("yzit");e.a=s},ca0f:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({timestampselector:".tweet-timestamp",relativetimestampselector:".js-relative-timestamp",relativetimestampclass:"js-relative-timestamp"}),this.currenttimesecs=function(){return new date/1e3},this.updateaccessibleshorttimestamp=function(e,i){var s=this.currenttimesecs();if(!(math.floor(s-i)<3)){var n=r.format(i-s),o=e.closest(this.attr.timestampselector),a=o.find(".u-hiddenvisually");a.length||(o.find(this.attr.relativetimestampselector).removeattr("data-aria-label-part").attr("aria-hidden","true"),a=t(l),o.append(a)),a.text(n)}},this.updatetimestamps=function(){var e=this;this.select("relativetimestampselector").each(function(i,s){var n=t(s),o=n.data("time"),a=e.formattimestamp(o);a.relative||n.removeclass(e.attr.relativetimestampclass),n.text(a.text),e.updateaccessibleshorttimestamp(n,o)})},this.formattimestamp=function(t){var e=this,i=this.currenttimesecs(),s=math.floor(i-t),n=void 0;return s<3?n=c:(n=r.format(s,{direction:"none",type:this.timespantype}),this.localizeddigits&&(n=n.replace(/\d/g,function(t){return e.localizeddigits.charat(t.charcodeat(0)-"0".charcodeat(0))}))),{text:n,relative:!0}},this.after("initialize",function(){var e=t("html").attr("lang");this.timespantype="en"===e||"en-gb"===e?"abbreviated":"short",this.localizeddigits={ar:"",fa:""}[e],this.on(document,"uiwantstorefreshtimestamps uipagechanged",this.updatetimestamps)})}var n=i("0d4m"),o=i("zvsr"),a=i.n(o),r=new a.a.timespanformatter,c=object(n.default)("now"),l="<span class="u-hiddenvisually" data-aria-label-part="last"></span>';e.a=s}).call(e,i("4ksj"))},cdle:function(t,e,i){"use strict";function s(){this.attributes({nextbuttonselector:".dm-initiate-conversation",dmtypeaheadselector:".dmdialogtypeahead",maxparticipants:50,currentuserid:null}),this.enable=function(){this.select("nextbuttonselector").removeclass("disabled").prop("disabled",!1)},this.disable=function(){this.select("nextbuttonselector").addclass("disabled").prop("disabled",!0)},this.isgroupselected=function(t,e){return e&&e.groups&&e.groups.length},this.initiateconversationfromselectedgroup=function(t,e){var i=e.groups[0];this.initiateconversation("uirenderconversationview",{conversation_id:i.id,name:i.name})},this.isnextbuttonselected=function(t,e){return"click"===t.type||"keydown"===t.type&&t.which===r.a.enter},this.initiateconversationfromselectedaccounts=function(){var t=void 0,e=void 0;switch(this.selectedaccounts.length){case 0:t="uirendernewconversationview",e={name:"@"+this.manualscreenname,screen_names:this.manualscreenname?[this.manualscreenname]:[]};break;case 1:var i=this.selectedaccounts[0];t="uirenderconversationview",e={conversation_id:o.a.generateconversationid(this.attr.currentuserid,i.id),name:i.name,is_oto:!0};break;default:var s=this.selectedaccounts.map(function(t){return t.id});t="uirendernewconversationview",e={name:o.a.generateconversationname(this.selectedaccounts),recipient_ids:s}}this.initiateconversation(t,e)},this.reset=function(t,e){this.trigger("uiinitializedmtypeahead"),this.defaultcomposertext=e&&e.default_composer_text||"",this.hastweetattachment=e&&e.has_tweet_attachment||!1},this.storeselectedaccounts=function(t,e){this.selectedaccounts=e.accounts||[]},this.handletextchange=function(t,e){var i=(e.text||"").replace(/^@/,"");this.manualscreenname=l.a.isvalidusername("@"+i)?i:""},this.initiateconversation=function(t,e){this.trigger(t,u({},e,{default_composer_text:this.defaultcomposertext,has_tweet_attachment:this.hastweetattachment,retain_tweet_attachment:!0})),this.reset()},this.updatestate=function(t,e){var i=this.manualscreenname,s=this.selectedaccounts.length;i||s?this.enable():this.disable()},this.after("handletextchange",this.updatestate),this.after("storeselectedaccounts",this.updatestate),this.after("reset",this.updatestate),this.after("initialize",function(){this.attachchild(h.a,this.$node,{maxitems:this.attr.maxparticipants-1}),this.selectedaccounts=[],this.on("uidmtypeaheadselecteditemschanged",this.storeselectedaccounts),this.on("uidmtypeaheadselecteditemschanged",object(a.a)(this.initiateconversationfromselectedgroup,this.isgroupselected)),this.on("uitextchanged",this.handletextchange),this.on("click keydown",{nextbuttonselector:object(a.a)(this.initiateconversationfromselectedaccounts,this.isnextbuttonselected)}),this.on(document,"uiopennewdm",this.reset)})}var n=i("dbjh"),o=i("wrdm"),a=i("4oun"),r=i("i3qs"),c=i("cztd"),l=i.n(c),h=i("7vcw"),d=i("ajan"),u=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},p=object(n.default)(s,d.a);e.a=p},cgr6:function(t,e,i){"use strict";(function(t){function s(){n.default.mixin(this,[c.a]),this.defaultattrs({pollcreatorselector:".pollcreator",pollingcardcomposeviewselector:".pollingcardcomposer",pollcomposeviewoptionsselector:".pollingcardcomposer-option",pollcomposeviewoptionsinputselector:".pollingcardcomposer-optioninput",pollcomposeviewremoveselector:".pollingcardcomposer-remove",pollcomposeviewaddoptionselector:".pollingcardcomposer-addoption",pollcomposeviewdefaultdurationselector:".pollingcardcomposer-defaultduration",pollcomposeviewcustomdurationdaysselector:".pollingcardcomposer-customduration--days",pollcomposeviewcustomdurationhoursselector:".pollingcardcomposer-customduration--hours",pollcomposeviewcustomdurationminutesselector:".pollingcardcomposer-customduration--minutes",hiddenclass:"u-hidden",pollcomposeviewactiveclass:"is-cardcomposeron is-pollingcardcomposeron",composerrowsattr:"data-poll-composer-rows",polloption3flagattr:"data-poll-option-3",polloption4flagattr:"data-poll-option-4",customdurationattr:"data-custom-duration",minimaldurationattr:"data-poll-min-duration",maximaldurationattr:"data-poll-max-duration",durationtargetattr:"data-duration-target"});this.haspoll=!1,this.currentpoll={},this.polldurationmin=0,this.polldurationmax=0,this.durationdays=0,this.durationhours=0,this.durationminutes=0,this.togglepollcomposer=function(){this.haspoll?(this.trigger("uiresetpollcomposer"),this.focus()):this.trigger("uiactivatepollcomposer")},this.activatepoll=function(t,e){var i="object"===(void 0===e?"undefined":l(e))&&e.polldataoverride;"object"===(void 0===i?"undefined":l(i))&&r.a.putpoll(this.gettweetboxid(),i),this.haspoll=!0,this.currentpoll=r.a.getpoll(this.gettweetboxid()),this._setoptions(),this.togglecomposeview(),this.focusoninput(),"number"==typeof this.currentpoll.customduration&&this.rendercustomdurationfromdata(),this.trigger("uipollactivated")},this.resetpoll=function(){this.haspoll=!1,r.a.deletepoll(this.gettweetboxid()),this.currentpoll={},this.$composeoptions.trigger("uipolloptionreset"),this.togglecomposeview(),this.turnoffcustomduration()},this.overridepolldata=function(t,e){r.a.putpoll(this.gettweetboxid(),e)},this.togglecomposeview=function(){this.$composeview.toggleclass(this.attr.hiddenclass),this.$node.toggleclass(this.attr.pollcomposeviewactiveclass),this.detectupdatedtext(!0)},this.focusoninput=function(t){var e=t||0;this.trigger(this.$composeoptions.eq(e),"uipolloptionfocus")},this.addpolloption=function(){this.currentpoll.addpolloption(),this._setoptions(),this.trigger("uipolloptionadd"),this.focusoninput(this.currentpoll.length),this.select("pollcomposeviewaddoptionselector").blur()},this.removepolloption=function(t,e){this.currentpoll.deletepolloption(e.index),this._setoptions(),this.focusoninput(this.currentpoll.length-1)},this.updateoption=function(t,e){e.index<this.currentpoll.length&&this.currentpoll.updatepolloption(e.index,e.text)},this.getpolldata=function(){return this.currentpoll.createdata},this._setoptions=function(){var t=this;switch(this.currentpoll.length){case 2:this.$node.attr(this.attr.composerrowsattr,3),this.$composeview.attr(this.attr.polloption3flagattr,!1),this.$composeview.attr(this.attr.polloption4flagattr,!1);break;case 3:case 4:this.$node.attr(this.attr.composerrowsattr,4),this.$composeview.attr(this.attr.polloption3flagattr,!0),this.$composeview.attr(this.attr.polloption4flagattr,4===this.currentpoll.length)}this.currentpoll.polloptions.foreach(function(e,i){t.$composeoptions.eq(i).trigger("uipolloptionupdate",{option:e})})},this.rendercustomdurationfromdata=function(){this.$composeview.attr(this.attr.customdurationattr,!0),this._calculatesettingsfromcustomduration(),this._updatecustomdurationelementsfromsettings()},this.turnoncustomduration=function(){this.currentpoll.customduration||(this.currentpoll.customduration=1440,this.rendercustomdurationfromdata(),this.select("pollcomposeviewcustomdurationdaysselector").focus(),this.trigger("uiturnoncustompollduration"))},this.turnoffcustomduration=function(){this.currentpoll.customduration=null,this.$composeview.attr(this.attr.customdurationattr,!1)},this._updatecustomduration=function(e){var i=e&&e.target?t(e.target).attr(this.attr.durationtargetattr):"";if(this._updatecustomdurationsettingsfromelements(),this._calculatecustomdurationfromsettings(),this.currentpoll.customduration<this.polldurationmin){var s=this.polldurationmin-this.currentpoll.customduration;"days"===i&&(0===this.durationminutes||s>=60)?(this.durationhours=math.max(1,math.floor(this.polldurationmin/60)),this.durationminutes=math.max(0,this.polldurationmin-60*this.durationhours)):(this.durationhours=math.floor(this.polldurationmin/60),this.durationminutes=math.max(1,this.polldurationmin-60*this.durationhours)),this._calculatecustomdurationfromsettings(),this._updatecustomdurationelementsfromsettings()}else this.currentpoll.customduration>this.polldurationmax&&(this.currentpoll.customduration=this.polldurationmax,this._calculatesettingsfromcustomduration(),this._updatecustomdurationelementsfromsettings());this._disableunavailabledurationoptions()},this._disableunavailabledurationoptions=function(){var t=math.max(0,this.polldurationmin-1440*this.durationdays),e=this.polldurationmax-1440*this.durationdays,i=math.floor(t/60),s=math.floor(e/60);this.select("pollcomposeviewcustomdurationhoursselector").children().toarray().foreach(function(t,e){return t.disabled=t.value<i||t.value>s}),t-=60*this.durationhours,e-=60*this.durationhours,this.select("pollcomposeviewcustomdurationminutesselector").children().toarray().foreach(function(i,s){return i.disabled=i.value<t||i.value>e})},this._updatecustomdurationelementsfromsettings=function(){this.select("pollcomposeviewcustomdurationdaysselector").val(this.durationdays),this.select("pollcomposeviewcustomdurationhoursselector").val(this.durationhours),this.select("pollcomposeviewcustomdurationminutesselector").val(this.durationminutes)},this._updatecustomdurationsettingsfromelements=function(){this.durationdays=number(this.select("pollcomposeviewcustomdurationdaysselector").val()||0),this.durationhours=number(this.select("pollcomposeviewcustomdurationhoursselector").val()||0),this.durationminutes=number(this.select("pollcomposeviewcustomdurationminutesselector").val()||0)},this._calculatecustomdurationfromsettings=function(){this.currentpoll.customduration=1440*this.durationdays+60*this.durationhours+this.durationminutes},this._calculatesettingsfromcustomduration=function(){this.durationdays=math.floor(this.currentpoll.customduration/1440),this.durationhours=math.floor(this.currentpoll.customduration%1440/60),this.durationminutes=this.currentpoll.customduration%60},this.around("isempty",function(t){return t()&&!this.haspoll}),this.around("hasvalidcontent",function(t){return this.haspoll?""!==this.getvisibletext().trim()&&this.currentpoll.isvalid&&!this.dmmode&&t():t()}),this.after("reset",function(){this.haspoll&&this.trigger("uiresetpollcomposer")}),this.after("initialize",function(){this.$composeview=this.select("pollingcardcomposeviewselector"),this.$composeoptions=this.select("pollcomposeviewoptionsselector"),this.polldurationmin=number(this.$composeview.attr(this.attr.minimaldurationattr)),this.polldurationmax=number(this.$composeview.attr(this.attr.maximaldurationattr)),this.on("uiactivatepollcomposer",this.activatepoll),this.on("uiresetpollcomposer",this.resetpoll),this.on("uitogglepollcomposer",this.togglepollcomposer),this.on("uipolloptiontextchange",this.updateoption),this.on("uipolloptionremove",this.removepolloption),this.on("click",{pollcomposeviewremoveselector:"uiresetpollcomposer",pollcomposeviewaddoptionselector:this.addpolloption,pollcomposeviewdefaultdurationselector:this.turnoncustomduration}),this.on("change",{pollcomposeviewcustomdurationdaysselector:this._updatecustomduration,pollcomposeviewcustomdurationhoursselector:this._updatecustomduration,pollcomposeviewcustomdurationminutesselector:this._updatecustomduration}),this.attachchild(a.a,this.select("pollcreatorselector"),{eventdata:{scribecontext:{element:"poll_composer"}}}),this.attachchild(o.a,this.$composeoptions,{maxlength:r.a.max_option_length,richeditortextselector:this.attr.pollcomposeviewoptionsinputselector})})}var n=i("q9/c"),o=i("vx1t"),a=i("xpsf"),r=i("lywl"),c=i("ajan"),l="function"==typeof symbol&&"symbol"==typeof symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof symbol&&t.constructor===symbol&&t!==symbol.prototype?"symbol":typeof t};e.a=s}).call(e,i("4ksj"))},cnhr:function(t,e,i){"use strict";(function(t){function i(){this.defaultattrs({adaptivephotocontainer:".js-adaptive-photo",adaptivemediacontainer:".adaptivemedia"}),this.getpermalinkpath=function(t){return t.closest(this.attr.streamitemselector).find(this.attr.permalinkselector).attr("href")},this.openadaptivemediagallery=function(e,i){e.preventdefault(),e.stoppropagation();var s=t(e.target).closest(this.attr.adaptivephotocontainer);this.trigger(e.target,"uiopengallery",{timelineselector:this.attr.adaptivemediacontainer,inoverlay:this.attr.inoverlay});var n=s.closest("[data-impression-id]");n.length&&(n.attr("data-embedded-media-logged",!0),this.trigger("uiembeddedmedia",{impressionid:n.data("impression-id"),disclosuretype:n.data("disclosure-type")})),i&&i.skipclickscribe||this.trigger("uimediathumbnailclick",{url:s.attr("data-image-url"),mediatype:"photo"})},this.openselectedtweetadaptivemediagallery=function(e){this.trigger(t(e.target).find(this.attr.adaptivephotocontainer),"uikeyboardopenadaptivegallery",{skipclickscribe:!0})},this.after("initialize",function(){this.on(document,"uiopenselectedphoto",this.openselectedtweetadaptivemediagallery),this.on("click uikeyboardopenadaptivegallery",{adaptivephotocontainer:this.openadaptivemediagallery})})}e.a=i}).call(e,i("4ksj"))},csbf:function(t,e,i){"use strict";function s(){this.attributes({maxcharacters:20,displayedheaderselector:".dmupdatename-header",displayednameselector:".dmupdatename-name",begineditmodeselector:".dmupdatename-name.edit-allowed",confirmbuttonselector:".dmupdatename-confirm",inputgroupselector:".dmupdatename-form",spinnerselector:".dmupdatename-spinner",displayedscreennameselector:".dmupdatename-screenname",textselector:".dmupdatename-input",updatenamecontainerselector:".dmupdatename-controls",verifiedbadgeselector:".js-verified",protectedbadgeselector:".js-protected",isrichheaderclass:"is-richheader",hiddenclass:"u-hidden",legacyhiddenclass:"hidden",invalidinputclass:"is-invalid"}),this.getcurrentname=function(){return this.$displayedname.data("raw-name")},this.handlecommandinputs=function(t,e){switch(t.keycode){case l.a.esc:t.stoppropagation(),this.hideeditmode();break;case l.a.enter:t.stoppropagation(),this.requestupdateconversationname(t)}},this.showeditmode=function(){this.select("displayedheaderselector").addclass(this.attr.hiddenclass),this.select("inputgroupselector").removeclass(this.attr.hiddenclass),this.select("textselector").focus().val(this.getcurrentname()),this.ineditmode=!0},this.hideeditmode=function(t,e){this.select("displayedheaderselector").removeclass(this.attr.hiddenclass),this.select("inputgroupselector").addclass(this.attr.hiddenclass),this.ineditmode=!1},this.showspinner=function(){this.select("textselector").unbind("blur"),this.hideeditmode(),this.select("displayedheaderselector").addclass(this.attr.hiddenclass),this.select("spinnerselector").removeclass(this.attr.hiddenclass)},this.hidespinner=function(){this.on(this.attr.textselector,"blur",this.hideeditmode),this.hideeditmode(),this.select("spinnerselector").addclass(this.attr.hiddenclass),this.select("displayedheaderselector").removeclass(this.attr.hiddenclass)},this.requestupdateconversationname=function(t){if(this.ineditmode&&!this.select("inputgroupselector").hasclass(this.attr.invalidinputclass)){var e=this.select("textselector").val();this.trigger("uiupdateconversationname",{conversation_id:this.conversationid,name:e}),this.showspinner()}},this.updatedisplayedname=function(t,e){this.$displayedname.html(e.conversation.title.html),this.hidespinner()},this.prepareupdatenameui=function(t){void 0===t.is_oto||t.is_oto||!t.is_trusted?(this.hidespinner(),this.select("updatenamecontainerselector").addclass(this.attr.hiddenclass),this.select("displayednameselector").removeclass("edit-allowed js-tooltip").removeattr("title")):this.ineditmode||(this.hidespinner(),this.select("updatenamecontainerselector").removeclass(this.attr.hiddenclass),this.select("displayednameselector").attr("title",object(n.default)("click to edit group name")).addclass("edit-allowed js-tooltip"))},this.handleinputchange=function(t,e){var i=r.a.getunicodetextlength(e.text)>this.attr.maxcharacters;this.select("inputgroupselector").toggleclass(this.attr.invalidinputclass,i)},this.detectinputchange=function(){var t=this.select("textselector").val();this.previoustext!==t&&(this.trigger("uitextchanged",{text:t}),this.previoustext=t)},this.initname=function(t,e){this.ineditmode=!1,this.conversationid=e.conversation_id;var i=e.is_oto&&void 0===this.conversationid,s=e.name||e.generated_name,n=i?"text":"html";this.$displayedname.empty().removedata("raw-name"),s&&this.$displayedname[n](s),this.$dmupdatename.removeclass(this.attr.isrichheaderclass),this.select("verifiedbadgeselector").addclass(this.attr.legacyhiddenclass),this.select("protectedbadgeselector").addclass(this.attr.legacyhiddenclass),this.prepareupdatenameui(e)},this.updatename=function(t,e){if(this.conversationid=e.conversation_id,!this.ineditmode){if(this.$displayedname.html(e.html).data("raw-name",e.raw),e.is_oto){this.$dmupdatename.addclass(this.attr.isrichheaderclass),this.select("verifiedbadgeselector").toggleclass(this.attr.legacyhiddenclass,!e.verified),this.select("protectedbadgeselector").toggleclass(this.attr.legacyhiddenclass,!e.protected);var i=e.screen_name?"@"+e.screen_name:null;this.$displayedscreenname.text(i)}this.prepareupdatenameui(e)}},this.after("initialize",function(){this.$dmupdatename=this.$node,this.$displayedscreenname=this.select("displayedscreennameselector"),this.$displayedname=this.select("displayednameselector"),this.on("click",{begineditmodeselector:this.showeditmode}),this.on("mousedown",{confirmbuttonselector:this.requestupdateconversationname}),this.on(this.attr.textselector,"blur",this.hideeditmode),this.on(this.attr.textselector,"keydown",this.handlecommandinputs),this.on("uieditconversationname",this.showeditmode),this.on("dataupdateconversationnamesuccess",this.updatedisplayedname),this.on("dataupdateconversationnamefailure",this.hidespinner),this.on("uitextchanged",this.handleinputchange),this.on("uiinputpoll",this.detectinputchange),this.on("uidmupdateconversationname",this.updatename),this.on("uidminitconversationname",this.initname),c.a.attachto(this.select("textselector"))})}var n=i("0d4m"),o=i("dbjh"),a=i("cztd"),r=i.n(a),c=i("zwfe"),l=i("i3qs"),h=object(o.default)(s);e.a=h},ctjh:function(t,e,i){"use strict";function s(){this.after("initialize",function(){this.scribeonevent("uipromptbirdpromptwasshown",{action:"impression"}),this.scribeonevent("uiinlinepromptscrolledin",{action:"impression"}),this.scribeonevent("uipromptbirdclick",{action:"click"}),this.scribeonevent("uipromptbirddismissprompt",{action:"dismiss"}),this.scribeonevent("uipromptbirdpreviewpromotedaccount",{action:"preview"}),this.scribeonevent("uishowdashboardprofilepromptbird",{action:"show"})})}var n=i("dbjh"),o=i("3odc");e.a=object(n.default)(s,o.a)},cy9x:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({addtweetselector:".js-add-tweet",composerthumbnailselector:".composerthumbnail",shadowtextselector:".tweet-box-shadow",messagingclass:"messaging",tweetactionselector:".tweet-action",placeidselector:"input[name=place_id]",replyformselector:".tweet-form.is-reply",tweetboxdialogselector:null,tweetformselector:".tweet-form",tweetboxdialogtype:null,overrides:{},condensable:!1,suppressflashmessage:!1,suppresssuccessmessage:!1,customdata:{},cantweetdefaulttext:!1,gifsupport:!0,videosupport:!0,sruallmedia:!1,composealttext:!1}),this.confirmandsendtweet=function(){this.sendtweet()},this.geoplaceid=function(){return this.select("placeidselector").val()},this.createdataforsending=function(){return{status:this.addhiddentext(this.getvisibletext()),card_uri:this.carduri?this.carduri:void 0,place_id:this.geoplaceid(),tweet_stat_count:this.overrides.tweetstatcount,impression_id:this.impressionid,earned:this.disclosuretype?"earned"===this.disclosuretype:void 0,is_permalink_page:t(".permalink").length>0,semantic_annotation_ids:this.semanticannotationids,engagement_metadata:this.overrides.engagementmetadata,batch_mode:this.overrides.canbeselfthreaded?"subsequent":"off"}},this.isempty=function(){var t=this.getvisibletext().trim();return!(t&&(this.cantweetdefaulttext||t!==this.defaulttext.trim())||this.hasattachment())},this.hasattachment=function(){return!1},this.hasvalidcontent=function(){return!this.isempty()&&!this.maxreached()},this.sendtweet=function(){var t=this.gettweetboxid();this.detectupdatedtext(),this.$node.attr("id",t);var e="uisendtweet",i=void 0,s="",o="";this.hasmedia?e="uisendtweetwithmedia":this.haspoll&&(e="uisendtweetwithcard",i=this.getpolldata(),s=object(n.default)("sorry, there was a problem creating your poll."),o=object(n.default)("sorry, there was a problem creating your poll. please try again later.")),this.settweeting(!0),this.disable(),this.trigger(e,{tweetboxid:t,tweetdata:k({},this.createdataforsending()),customdata:this.customdata,carddata:i,clienterrormsg:s,servererrormsg:o})},this.alertmedia=function(t){var e=object(n.default)("your tweet has not been sent. are you sure you wish to leave the page?");if("beforeunload"!==t.type&&"uibeforeunload"!==t.type){"uidialogcloserequested"===t.type&&(e=object(n.default)("are you sure you wish to close the dialog and cancel sending the tweet?"));confirm(e)?this.trigger("datatweetcancel",{tweetboxid:this.gettweetboxid()}):t.preventdefault()}return e},this.gettweetboxid=function(){return this.tweetboxid||(this.tweetboxid="swift_tweetbox_"+ +new date),this.tweetboxid},this.settweetboxoverrides=function(t,e){var i=this,s=l.default.merge(e||this.attr.overrides,!0);this.overrides=s;var n=s.defaulttext;void 0===n&&(n=this.$node.attr("data-default-text")),void 0===n&&(n=this.attr.defaulttext||""),this.defaulttext=n,"string"==typeof s.carduri&&(this.carduri=s.carduri),this.semanticannotationids=s.semanticannotationids||this.$node.closest("[data-semantic-annotation-ids]").attr("data-semantic-annotation-ids"),this.cantweetdefaulttext=void 0!==s.cantweetdefaulttext?s.cantweetdefaulttext:this.attr.cantweetdefaulttext,this.impressionid=s.impressionid||this.attr.impressionid,this.disclosuretype=s.disclosuretype||this.attr.disclosuretype,this.customdata=s.customdata||this.attr.customdata,void 0!==s.cursorposition?(this.cursorposition=s.cursorposition,settimeout(function(){return i.setcursorposition(i.cursorposition)})):this.cursorposition=this.attr.cursorposition},this.updatetweetstateontextchanged=function(t,e){this.select("shadowtextselector").val(e.text),this.updatebuttons()},this.updatebuttons=function(){!this.hasvalidcontent()||this.$node.hasclass("tweeting")?this.disable():this.enable(),this.validateaddtweetbutton(),this.maybetriggertooltip()},this.notifyimagetweetsuccess=function(t,e){this.attr.composealttext&&(t.tweetdata.has_alt_text?this.trigger("uitweetboxphototweetwithalttextsuccess",e):this.trigger("uitweetboxphototweetwithoutalttextsuccess",e)),this.trigger("uitweetboxphototweetsuccess",e)},this.notifygiftweetsuccess=function(t){var e=this.foundmediainfo?"uitweetboxremotegiftweetsuccess":"uitweetboxlocalgiftweetsuccess";this.trigger(e,t)},this.notifyvideotweetsuccess=function(t){c.a.getdecidervalue("web_upload_video_advanced")&&this.trigger("uitweetboxprovideotweetsuccess",t),this.trigger("uitweetboxvideotweetsuccess",t)},this.notifymediatweetsuccess=function(t,e){this.isvideo&&this.notifyvideotweetsuccess(e),this.isgif&&this.notifygiftweetsuccess(e),this.isvideo||this.isgif||this.notifyimagetweetsuccess(t,e)},this.getmediadetailsforscribing=function(t){if(this.foundmediainfo)return{photo_count:1,found_media_provider:this.foundmediainfo.provider}},this.tweetsent=function(t,e){if((e.tweetboxid||e.sourceeventdata.tweetboxid)===this.gettweetboxid()){e.customdata=this.customdata,!e.message||this.attr.suppresssuccessmessage&&!e.unusual||this.trigger(e.unusual?"uishowerror":"uishowmessage",{message:e.message});var i="uitweetboxtweetsuccess",s={id:e.tweet_id,item_type:r.a.tweet};s.media_details=this.getmediadetailsforscribing(e);var n={scribedata:{items:[s],event_value:(this.overrides.screennames||[]).length}};this.overrides.id?(this.notifyreplybuttontweetsuccess(),this.excludereplyuserids.length&&this.trigger("uitweetboxreplyeditedsuccess",n),i="uitweetboxreplysuccess"):this.dmmode&&(i="uitweetboxdmsuccess"),"uitweetboxreplysuccess"===i||"uitweetboxtweetsuccess"===i?this.trigger(i,k({},n,{text:this.getvisibletext()})):this.trigger(i,n),this.hasmedia?this.notifymediatweetsuccess(e,n):this.haspoll&&this.trigger("uitweetboxpolltweetsuccess",n),this.getvisibletext().match(a.a.regex)&&this.trigger("uitweetboxemojitweetsuccess"),this.geoplaceid()&&this.trigger("uitweetboxgeotaggedtweetsuccess",n),this.settweeting(!1),this.trigger("uitweetsent",e),this.clear()}},this.tweeterror=function(t,e){(e.tweetboxid||e.sourceeventdata.tweetboxid)===this.gettweetboxid()&&(this.attr.suppressflashmessage||e.spamchallenge||this.trigger("uishowerror",{message:e.error||e.message}),this.settweeting(!1),this.enable(),this.trigger("uitweetboxtweeterror"))},this.tweetcancel=function(t,e){(e.tweetboxid||e.sourceeventdata.tweetboxid)===this.gettweetboxid()&&(this.settweeting(!1),this.trigger("uitweetcancelled",e),this.clear())},this.enable=function(){this.select("tweetactionselector").removeclass("disabled").prop("disabled",!1),this.$node.trigger("uienabletweetaction")},this.disable=function(){this.select("tweetactionselector").addclass("disabled").prop("disabled",!0),this.$node.trigger("uidisabletweetaction")},this.clear=function(){this.reset()},this.reset=function(){this.resettweettext()},this.resetandfocus=function(){this.reset(),this.focus(),this.setcursorposition(),this.composeractive(),this.trigger("uiclosedropdowns")},this.composeractive=function(){this.trigger("uicomposeractive")},this.resettweettext=function(){this.trigger("uiclearundostate"),this.setvisibletext(this.defaulttext)},this.handlecmdentersubmit=function(){this.select("tweetactionselector").hasclass("disabled")||this.confirmandsendtweet()},this.settweeting=function(e){e?(this.on(window,"beforeunload uibeforeunload",this.alertmedia),this.on(document,"uibeforenavigate",this.alertmedia),this.attr.tweetboxdialogselector&&this.on(t(this.attr.tweetboxdialogselector),"uidialogcloserequested",this.alertmedia)):(this.off(window,"beforeunload uibeforeunload",this.alertmedia),this.off(document,"uibeforenavigate",this.alertmedia),this.attr.tweetboxdialogselector&&this.off(t(this.attr.tweetboxdialogselector),"uidialogcloserequested",this.alertmedia)),this.$node.toggleclass("tweeting",e),this.trigger(this.$text,e?"uidisableediting":"uienableediting")},this.keyshortcuttooltip=function(t){if(9===t.which){var e=-1!==navigator.platform.tolowercase().indexof("mac"),i=e?object(n.default)("you can also press cmd-enter"):object(n.default)("you can also press ctrl-enter");this.select("tweetactionselector").attr("data-original-title",i).filter(document.activeelement).tooltip("show")}},this.reenableforbounceduser=function(){this.settweeting(!1),this.enable()},this.triggertweetstormdialogfrominline=function(e){"tweet_box_dialog"===this.attr.tweetboxdialogtype&&this.trigger(this.$node,"uiclosedialog"),e.preventdefault();var i=t(e.target).closest(this.attr.replyformselector).attr("data-previous-status-id-in-thread"),s=this.$node.find(this.attr.composerthumbnailselector),n=s.toarray().map(function(e){return t(e).attr("data-file-id")}),o=this.currentpoll;this.$node.closest(this.attr.tweetformselector).attr("data-file-reuse-in-thread",!0),this.trigger("uiopentweetstormdialog",{tweettext:this.getvisibletext(),addanothertweet:!0,previousstatusidinthread:i,mediafileids:n,currentpoll:o}),this.clear()},this.after("initialize",function(){this.settweetboxoverrides(),this.on("uitextchanged",this.updatetweetstateontextchanged),this.initdrafttweets(),this.inittextnode(),this.on(this.select("tweetactionselector"),"click",this.confirmandsendtweet),this.on(this.select("addtweetselector"),"click",this.triggertweetstormdialogfrominline),this.on("uishortcutcmdenter",this.handlecmdentersubmit),this.on(document,"datatweetsuccess",this.tweetsent),this.on(document,"datatweeterror",this.tweeterror),this.on(document,"datatweetcancel",this.tweetcancel),this.on(document,"uibouncercancelled",this.reenableforbounceduser),this.on(this.$text,"dragover",this.focus),this.on("uicomposerresetandfocus",this.resetandfocus),this.on("keyup",this.keyshortcuttooltip),this.on("uioverridetweetboxoptions",this.settweetboxoverrides),this.on(this.$text,"focusin",this.ignoreduringfakefocus(this.composeractive)),this.hasfocus()?(this.composeractive(),this.trigger("uicomposerhadfocus")):this.reset()})}var n=i("0d4m"),o=i("dbjh"),a=i("fuxd"),r=i("rbkv"),c=i("iamj"),l=i("yzit"),h=i("prwu"),d=i("6n1l"),u=i("hpdd"),p=i("swj0"),f=i("taxt"),m=i("fdtv"),g=i("02ih"),v=i("lcya"),b=i("pul/"),w=i("zg5a"),s=i("1qjr"),c=i("x8v/"),y=i("4oxf"),t=i("cgr6"),d=i("+hbl"),i=i("lvmq"),x=i("nkyg"),k=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},m=object(o.default)(s,h.a,b.a,u.a,v.a,p.a,f.a,w.a,m.a,d.a,s.a,y.a,g.a,t.a,d.a,i.a,c.a,x.a);e.a=m}).call(e,i("4ksj"))},d6di:function(t,e,i){"use strict";function s(t){this.attr={id:null,items:[],searchpathwithquery:"/search?src=fols&q=",querysource:"follow_search"},this.attr=n.default.merge(this.attr,t),this.getremotesuggestions=function(t,e,i){return i},this.requiresremotesuggestions=function(t){return!1},this.getlocalsuggestions=function(t,e){e(t&&t.query?[]:this.attr.items)},this.additems=function(t){var e=t.entries,i=!0,s=!1,n=void 0;try{for(var o,a=e[symbol.iterator]();!(i=(o=a.next()).done);i=!0){var r=o.value;try{var c=r.content.item.content.followsearch.displayquery;r.sortindex&&c&&this.attr.items.push({id_str:r.sortindex,query:c,followed_search_path:this.attr.searchpathwithquery+encodeuricomponent(c),search_query_source:this.attr.querysource})}catch(t){}}}catch(t){s=!0,n=t}finally{try{!i&&a.return&&a.return()}finally{if(s)throw n}}},this.removeitem=function(t){this.attr.items=this.attr.items.filter(function(e){return e.query!==t.query})}}var n=i("yzit");e.a=s},dr2d:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({tweetselector:".tweet",tweetactionselector:".profiletweet-action",favoritecountselector:".profiletweet-action--favorite .profiletweet-actioncount",retweetcountselector:".profiletweet-action--retweet .profiletweet-actioncount",replycountselector:".profiletweet-action--reply .profiletweet-actioncount",actioncountforpresentationselector:".profiletweet-actioncountforpresentation",actioncountforariaselector:".profiletweet-actioncountforaria",zerocountclass:"profiletweet-actioncount--iszero"}),this.updatetweetstats=function(t,e){var i=this;e.stats&&e.stats.foreach(function(t){var e=i.findtweetorretweet(t.status_id),s=e.find(i.statelementselectorfor(t.name));i.updatearia(s,t.count,t.title),i.updatepresentation(s,t.count,t.compact_count)})},this.initializetweetstats=function(e,i){var s=this;this.finduninitializedtweetorretweet().each(function(e,i){return s.rendertweetstats(t(i))})},this.rendertweetstats=function(t){var e=this;t.attr("data-tweet-stat-initialized","true"),["favorite","retweet","reply"].foreach(function(i){var s=i,n=t.find(e.statelementselectorfor(s)),r=n&&n.attr("data-tweet-stat-count");if(void 0!==r){var c=a.a.compactorcommaize(r,o.a.language);e.updatepresentation(n,r,c)}})},this.updatepresentation=function(t,e,i){var s=t.find(this.attr.actioncountforpresentationselector);t.attr("data-tweet-stat-count",math.max(e,0)),e<=0?(t.addclass(this.attr.zerocountclass),s.empty()):(t.removeclass(this.attr.zerocountclass),s.text(i))},this.updatearia=function(t,e,i){var s=t.find(this.attr.actioncountforariaselector);s.text(i),e<=0?(t.attr("aria-hidden","true"),s.removeattr("data-aria-label-part")):(t.removeattr("aria-hidden"),s.attr("data-aria-label-part","0"))},this.findtweetorretweet=function(t){var e=this.select("tweetselector").filter("[data-tweet-id="+t+"]");return e.length||(e=this.select("tweetselector").filter("[data-retweet-id="+t+"]")),e},this.finduninitializedtweetorretweet=function(){return this.select("tweetselector").filter(":not([data-tweet-stat-initialized=true])")},this.statelementselectorfor=function(t){return{favorite:this.attr.favoritecountselector,retweet:this.attr.retweetcountselector,reply:this.attr.replycountselector}[t]},this.after("initialize",function(){this.on("uiswiftloaded uipagechanged uineedupdateinjectedtweetstats",this.initializetweetstats),this.on("datagottweetstats",this.updatetweetstats)})}var n=i("dbjh"),o=i("v9eu"),a=i("znut"),r=i("kunr");e.a=object(n.default)(s,r.a)}).call(e,i("4ksj"))},drjy:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({leftdashboardselector:".dashboard-left",rightdashboardselector:".dashboard-right",roamingselector:".roaming-module:not(.roaming-top-module)",roamingtopselector:".roaming-module.roaming-top-module",dashboardleftbottomselector:".dashboard-left-bottom-module",threecolwidth:1236}),this.setwindowwidth=function(t){if(this.windowwidth=this.$window.width(),this.windowwidth<this.attr.threecolwidth){if(this.threecol||t){this.$dashboardleft.prepend(this.$dashboardright.find(this.attr.roamingtopselector));var e=this.$dashboardright.find(this.attr.roamingselector);this.$dashboardleftbottommodule.length?this.$dashboardleftbottommodule.before(e):this.$dashboardleft.append(e),this.$body.removeclass("three-col"),this.threecol=!1}}else this.threecol&&!t||(this.$dashboardright.prepend(this.$dashboardleft.find(this.attr.roamingtopselector)),this.$dashboardright.append(this.$dashboardleft.find(this.attr.roamingselector)),this.$body.addclass("three-col"),this.threecol=!0)},this.after("initialize",function(){this.$dashboardright=this.select("rightdashboardselector"),this.$dashboardright.length&&(this.$window=t(window),this.$body=t(document.body),this.$dashboardleft=this.select("leftdashboardselector"),this.$dashboardleftbottommodule=this.$dashboardleft.find(this.attr.dashboardleftbottomselector),this.threecol=!1,this.setwindowwidth(!0),this.on(window,"resize",o.default.debounce(this.setwindowwidth.bind(this),100)))})}var n=i("dbjh"),o=i("yzit");e.a=object(n.default)(s)}).call(e,i("4ksj"))},dt6b:function(t,e,i){"use strict";function s(t){function e(t){return 3===t.nodetype||4===t.nodetype}function i(){for(var t=s(),e=null,i=null,n=null,o=null,a=0;a<t.length;a++){var r=t[a];(null===i||r.bottom>i)&&(i=r.bottom),(null===e||r.top<e)&&(e=r.top),(null===n||r.left<n)&&(n=r.left),(null===o||r.right>o)&&(o=r.right)}return{top:e,bottom:i,left:n,right:o,width:math.abs(o-n),height:math.abs(i-e)}}function s(){for(var t=f.getclientrects(),e=[],i=0;i<t.length;i++)e.push(t[i]);return e.filter(function(t){return t.width>0})}function c(t){return e(t)?t.nodevalue.length:t.childnodes.length}function l(){return t.width()-h()}function h(){var t=i(),e=s(),n=e[e.length-1];return 0===e.length?0:n.right-t.left}function d(t){var e=t.match(a);if(null!==e){var i=e[e.length-1],s=t.lastindexof(i);return{startindex:s,endindex:s+i.length}}return null}function u(t){return!!t.match(o)}function p(t){return(t.match(n)||[]).length}var f=function(){var e=document.createrange(),i=t.contents(),s=t.contents().last()[0];return i.length>0&&(e.setstart(i[0],0),e.setend(s,c(s))),e}();this.shortentovisiblecontent=function(){for(var i=t.contents(),s=i.length-1;s>=0;s--){var n=i[s];if(e(n)){for(var o=n.nodevalue.length;o>=0;o--)if(f.setend(n,o),!this.hasoverflow())return}else if(f.setend(n,n.childnodes.length),!this.hasoverflow())return}},this.shortentonearestwordbreak=function(t){var i=f.endcontainer,s=t.maxcharstoremove;if(e(i)&&(i.nodevalue.match(r)||f.endoffset!==i.nodevalue.length&&!u(i.nodevalue[f.endoffset]))){var n=i.nodevalue.slice(0,f.endoffset),o=d(n);null!==o&&(void 0!==s&&p(n.substring(o.endindex))>s||f.setend(i,o.startindex))}},this.ensurelastlineavailablewidth=function(t){for(;l()<=t;){var i=f.endcontainer;if(e(i)&&f.endoffset>1)f.setend(i,f.endoffset-1);else{var s=i.previoussibling;if(null===s)break;f.setend(s,c(s))}}},this.hasoverflow=function(){var e=i(),s=parsefloat(t.css("line-height"));return math.round(e.height/s)>math.round(t.height()/s)},this.todocumentfragment=function(){return f.clonecontents()},this.setend=function(t,e){f.setend(t,e)}}var n=/([\ud800-\udbff][\udc00-\udfff]|[\s\s])/g,o=/\s/,a=/\s+/g,r=/^\n$/;e.a=s},duhp:function(t,e,i){"use strict";function s(){this.updateretweetstate=function(t,e){var i=e.tweet_id||e.id,s=e.retweet_id||e.id_str;this.$node.find('div.tweet[data-tweet-id="'+i+'"]').attr("data-my-retweet-id",s)},this.updateunretweetstate=function(t,e){var i=e.tweet_id||e.id_str;this.$node.find('div.tweet[data-tweet-id="'+i+'"]').removeattr("data-my-retweet-id data-retweet-id data-retweeter")},this.after("initialize",function(){this.attr.loggedin&&(this.on(document,"datadidretweet",this.updateretweetstate),this.on(document,"datadidunretweet",this.updateunretweetstate))})}var n=i("dbjh"),o=object(n.default)(s);e.a=o},dzhj:function(t,e,i){"use strict";(function(t){function s(){var e=n.a.options_type,i=n.a.text_input_type;this.defaultattrs({hastextinputquickreplyclass:"has-text-input-quick-reply",composereditorselector:".dmcomposer-editor",qrtextinputplaceholderdataattr:"data-qr-text-input-placeholder",dismissselector:".quickreplydismiss",timetodismissselectedqrinms:2e3}),this.getquickreplyresponsedata=function(){var t={};switch(this.quickreplystate.type){case i:t={"quick_reply_response[text_input][id]":this.quickreplystate.id};break;case e:this.quickreplystate.optiondata&&(t={"quick_reply_response[options][id]":this.quickreplystate.id,"quick_reply_response[options][selected_id]":this.quickreplystate.optiondata.optionid,text:this.quickreplystate.optiondata.optiontext})}return t},this.handletextinputquickreply=function(t){this.quickreplystate.id=t&&t.id;var e=t&&t.label||"";this.$node.addclass(this.attr.hastextinputquickreplyclass),this.select("composereditorselector").attr(this.attr.qrtextinputplaceholderdataattr,e)},this.handleoptionquickreply=function(t){var e=t&&t.id;this.quickreplystate&&this.quickreplystate.id===e||(this.quickreplystate.id=e,this.trigger("uishowquickreplyoptionpanel",t))},this.handleshowquickreply=function(t){if(t)switch(this.quickreplystate.data=t,this.quickreplystate.type=t.type&&t.type.name,this.quickreplystate.type){case e:this.handleoptionquickreply(t);break;case i:this.handletextinputquickreply(t)}},this.removeoptionsquickreply=function(t,e){(e&&e.text&&e.text.length)>0&&!this.$node.hasclass(this.attr.hastextinputquickreplyclass)&&this.removequickreply()},this.removetextinputquickreply=function(){this.quickreplystate.type===i&&this.removequickreply()},this.handlesendqroptionresponse=function(t,e){this.quickreplystate.optiondata=e,this.trigger("uisendqroptionresponse")},this.scheduleclearqroptions=function(){var t=this,e=this.quickreplystate.id;this.timer=settimeout(function(){return t.trigger("uiremovequickreplywithid",{id:e})},this.attr.timetodismissselectedqrinms)},this.removequickreply=function(){if(!t.isemptyobject(this.quickreplystate)){this.$node.removeclass(this.attr.hastextinputquickreplyclass);this.select("composereditorselector").removeattr(this.attr.qrtextinputplaceholderdataattr),this.quickreplystate={},this.trigger("uiquickreplyremoved")}},this.removequickreplywithid=function(t,e){var i=e&&e.id;i&&i===this.quickreplystate.id&&this.removequickreply()},this.removetimer=function(){cleartimeout(this.timer)},this.handlesendqrfailed=function(){this.removetimer(),this.trigger("uiupdateqr")},this.removequickreplypanelifpuredm=function(){t.isemptyobject(this.getquickreplyresponsedata())&&this.trigger("uiremovequickreply")},this.after("initialize",function(){this.quickreplystate={},this.on(document,"uiqroptionclicked",this.handlesendqroptionresponse),this.on(document,"datadmsendfailed",this.handlesendqrfailed),this.on(document,"uiqroptionclicked",this.scheduleclearqroptions),this.on(document,"uiremovequickreply uidmdialogclosed",this.removequickreply),this.on(document,"uiremovequickreplywithid",this.removequickreplywithid),this.on("uidmsendmessage",this.removequickreplypanelifpuredm),this.on("click",{dismissselector:this.removequickreply})})}var n=i("9htr");e.a=s}).call(e,i("4ksj"))},"e+ft":function(t,e,i){"use strict";(function(t){functions(){n.default.mixin(this,[o.a]),this.defaultattrs({tweetselector:".tweet",tweettranslationselector:".tweet-translation",tweettranslationtextselector:".tweet-translation-text",translatetweetselector:".js-translate-tweet",needstranslationclass:"needs-translation",permalinkcontainerselector:".permalink-tweet-container",permalinkclass:".permalink-tweet",languageselector:".tweet-language",gallerytranslatebuttonselector:".gallery .gallerytweet .tweet .translate-button",translatebuttonselector:".translate-button",translationfeedbackbuttonselector:".js-translation-feedback-button",translationsloadingselector:".tweet-translation-loading"}),this.translatetweet=function(t){var e=this.tweetfromevent(t);if(e.find(this.attr.tweettranslationselector).hasclass(this.attr.needstranslationclass)){var i=this.interactiondata(e);i.dest=e.find(this.attr.tweettranslationselector).data("destlang"),e.find(this.attr.translationsloadingselector).show(),this.trigger(e,"uineedstweettranslation",i)}},this.showtranslationfeedbackdialog=function(t){var e=this.tweetfromevent(t),i=e.find(this.attr.tweettranslationselector);this.trigger(e,"uineedstranslationfeedbackdialog",{tweetid:e.data("tweetid"),translation:i.data("translationtext"),sourcelang:i.data("sourcelang"),destlang:i.data("destlang")})},this.tweetfromevent=function(e){return t(e.target).closest(this.attr.tweetselector)},this.showtweettranslation=function(e,i){if(this.select("translationsloadingselector").hide(),i.item_html){var s=this.findtweetbyid(t(e.target),i.id_str);s.find(this.attr.translatebuttonselector).hide();var n=s.find(this.attr.tweettranslationselector);if(!i.translated_lang)return void s.find(this.attr.translatetweetselector).hide();n.find(this.attr.languageselector).html(i.translated_lang),n.data({translationtext:i.text,sourcelang:i.source_lang}).removeclass(this.attr.needstranslationclass).find(this.attr.tweettranslationtextselector).html(i.item_html),s.find(this.attr.translatetweetselector).toarray().foreach(function(e){var i=t(e);i.is(this.attr.gallerytranslatebuttonselector)&&i.hide()},this)}},this.findtweetbyid=function(t,e){var i=this.tweetselectorbyid(e);return t.is(i)?t:t.find(i)},this.tweetselectorbyid=function(t){return this.attr.tweetselector+"[data-tweet-id="+t.replace(/\d/g,"")+"]"},this.showerror=function(t,e){this.select("translationsloadingselector").hide(),this.trigger("uishowmessage",{message:object(a.default)("unable to translate this tweet. please try again later.")})},this.after("initialize",function(){this.on("datatweettranslationsuccess",this.showtweettranslation),this.on("datatweettranslationerror",this.showerror),this.on("click",{translationfeedbackbuttonselector:this.showtranslationfeedbackdialog,translatetweetselector:this.translatetweet})})}var n=i("q9/c"),o=i("alsu"),a=i("0d4m");e.a=s}).call(e,i("4ksj"))},e3dh:function(t,e,i){"use strict";function s(){this.defaultattrs({tweetactionselector:".retweet-action",tweetboxid:"retweet",iswithcommentclass:"is-withcomment",defaulttitle:void 0}),this.dmregex=/^\s*(?:d|m|dm)\s+[@]?(\s+)\s*(.*)/i,this.createdataforsending=function(){return{status:this.getvisibletext(),impression_id:this.impressionid,earned:this.earned,attachment_url:this.urltoretweet}},this.isempty=function(){return!this.getvisibletext().trim()},this.hasattachment=function(){return!0},this.sendretweet=function(){this.detectupdatedtext(),this.isempty()||(this.trigger("uisendtweet",{tweetboxid:this.attr.tweetboxid,tweetdata:this.createdataforsending()}),this.$node.addclass("tweeting"),this.disable())},this.updatetweetstateontextchanged=function(t){var e=!this.isempty();this.maxreached()||this.$node.hasclass("tweeting")||this.getvisibletext().match(this.dmregex)?this.disable():this.enable(),this.$node.toggleclass(this.attr.iswithcommentclass,e),e?this.trigger("uidialogupdatetitle",{title:object(n.default)("quote tweet")}):this.trigger("uidialogupdatetitle",{title:this.attr.defaulttitle}),this.maybetriggertooltip(),this.validateaddtweetbutton()},this.retweetsent=function(t,e){(e.tweetboxid||e.sourceeventdata.tweetboxid)===this.attr.tweetboxid&&(this.trigger("uishowmessage",{message:object(n.default)("your tweet was posted!")}),this.trigger("uiretweetwithcommentsuccess",e),this.$node.removeclass("tweeting"),this.clear())},this.retweeterror=function(t,e){(e.tweetboxid||e.sourceeventdata.tweetboxid)===this.attr.tweetboxid&&(this.$node.removeclass("tweeting"),this.enable())},this.enable=function(){this.$tweetbutton.removeclass("disabled").prop("disabled",!1)},this.disable=function(){this.$tweetbutton.addclass("disabled").prop("disabled",!0)},this.clear=function(){this.reset()},this.reset=function(){this.resettweettext()},this.resetandfocus=function(){this.reset(),this.focus()},this.resettweettext=function(){this.trigger("uiclearundostate"),this.setvisibletext("")},this.handlecmdentersubmit=function(){this.$tweetbutton.hasclass("disabled")||this.$tweetbutton.click()},this.overrideoptions=function(t,e){this.urltoretweet=e.urltoretweet,this.impressionid=e.impressionid,this.earned=e.earned},this.triggertweetstormdialogfrominline=function(t,e){this.trigger("uiclosedialog");var i=void 0,s=void 0;"object"===(void 0===e?"undefined":m(e))&&(i=e.quotedtweetid,s=e.quoteduserscreenname),this.trigger("uiopentweetstormdialog",{tweettext:this.getvisibletext(),addanothertweet:!0,quotedtweetid:i,quoteduserscreenname:s}),this.clear()},this.after("initialize",function(){this.$tweetbutton=this.select("tweetactionselector"),this.on("uitextchanged",this.updatetweetstateontextchanged),this.on("uicomposerresetandfocus",this.resetandfocus),this.initdrafttweets(),this.inittextnode(),this.on(this.$tweetbutton,"click",this.sendretweet),this.on("uishortcutcmdenter",this.handlecmdentersubmit),this.on(document,"datatweetsuccess",this.retweetsent),this.on(document,"datatweeterror",this.retweeterror),this.on("uioverridetweetboxoptions",this.overrideoptions),this.on("uiclickaddmoretweetonquoteretweet",this.triggertweetstormdialogfrominline),this.reset()})}var n=i("0d4m"),o=i("dbjh"),a=i("prwu"),r=i("hpdd"),c=i("swj0"),l=i("+hbl"),h=i("lcya"),d=i("pul/"),u=i("84/5"),p=i("4oxf"),f=i("nkyg"),m="function"==typeof symbol&&"symbol"==typeof symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof symbol&&t.constructor===symbol&&t!==symbol.prototype?"symbol":typeof t};e.a=object(o.default)(s,a.a,d.a,u.a,r.a,h.a,c.a,p.a,l.a,f.a)},ec06:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({composealttext:!1}),this.createtweetboxattarget=function(t,e){this.createtweetbox(t.target,e)},this.createtweetbox=function(e,i){var s=t(e);if(!((i.eventdata||{}).scribecontext||{}).component)throw new error("please specify scribing component for tweet box.");s.find(".geo-picker").length>0&&a.a.attachto(s,i,{eventdata:{scribecontext:{element:"geo_picker"}},restorefocusonclose:!0,skipfocusmanager:!0});var r=s.find("div.rich-editor").length>0?[l.a]:[],h=(i.dmonly?o.a:n.a).mixin.apply(this,r),d=!i.dmonly&&this.attr.composealttext,u=c.a.getconfig(),p={typeaheaddata:this.attr.typeaheaddata,hashflagsenabled:!i.dmonly,composealttext:d,mediacategoryprefix:i.dmonly?"dm_":"tweet_",twittertextoptions:u,maxlength:u.maxweightedtweetlength};h.attachto(s,p,i)},this.after("initialize",function(){this.on("uiinittweetbox",this.createtweetboxattarget)})}var n=i("cy9x"),o=i("t2va"),a=i("8n88"),r=i("dbjh"),c=i("cxip"),l=i("84/5"),h=object(r.default)(s);e.a=h}).call(e,i("4ksj"))},eec2:function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in a)e[s]||(e[s]=a[s]);return r.render(t,e,i)}var n=i("opvs").default,o={"promptbird/templates/dismiss_button":i("02ms"),"promptbird/templates/title":i("orcd")},a=n(o),r=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div class="promptbirdprompt promptbirdprompt--dashboardprofile" data-prompt-id=""),s.b(s.v(s.f(" prompt_id",t,e,0))),s.b('">\n <span class="promptbirdprompt-arrow"></span>\n'),s.b(s.rp("<promptbird/templates/dismiss_button0",t,e," ")),s.b(s.rp("<promptbird/templates/title1",t,e," ")),s.b(' <p class="promptbirdprompt-explanation">\n <a class="js-promptaction" href=""),s.b(s.v(s.f(" call_to_action_url",t,e,0))),s.b('" target="_blank">\n '),s.b(s.v(s.f("call_to_action_text",t,e,0))),s.b("\n"+i),s.b(" </a>\n "),s.b(s.v(s.f("explanation",t,e,0))),s.b("\n"+i),s.b(' <button type="button" class="btn-link js-previewaccount">'),s.b(s.v(s.f("preview_text",t,e,0))),s.b("</button>\n </p>\n</div>\n"),s.fl()},partials:{"<promptbird/templates/dismiss_button0":{name:"promptbird/templates/dismiss_button",partials:{},subs:{}},"<promptbird/templates/title1":{name:"promptbird/templates/title",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:a,render:s}}).call(e,i("jtwp"))},exhz:function(t,e,i){!function(e,i){t.exports=i()}(0,function(){return function(t){function e(s){if(i[s])return i[s].exports;var n=i[s]={exports:{},id:s,loaded:!1};return t[s].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function s(t){return t=t||{},function(){var e=this;return object.keys(t).reduce(function(i,s){var n=t[s];return i[s]="function"==typeof n?n.call(e):n,i},{})}}function n(){this.initialstate=function(t){if(this._statedef)throw new error("initialstate can only be defined once");this._statedef="function"==typeof t?t:s(t)},this.replacestate=function(t){if(t&&"object"==typeof t){var e=this.state;return this.state=t,this.statechanged(this.state,e),this.state}},this.mergestate=function(t){return this.replacestate((0,a.default)({},this.state,t))},this.fromstate=function(t){return function(){return this.state[t]}},this.tostate=function(t){return function(e){var i={};i[t]=e,this.mergestate(i)}},this.fromattr=function(t){return function(e){return this.attr[t]}},this.statechanged=function(t,e){},this.after("initialize",function(){this._statedef=this._statedef||r,this.replacestate(this._statedef())})}object.defineproperty(e,"__esmodule",{value:!0}),e.default=n;var o=i(2),a=function(t){return t&&t.__esmodule?t:{default:t}}(o),r=function(){return{}};t.exports=e.default},function(t,e,i){function s(t){return null!=t&&o(v(t))}function n(t,e){return t="number"==typeof t||u.test(t)?+t:-1,e=null==e?g:e,t>-1&&t%1==0&&e>t}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&g>=t}function a(t){for(var e=c(t),i=e.length,s=i&&t.length,a=!!s&&o(s)&&(d(t)||h(t)),r=-1,l=[];++r<i;){var u=e[r];(a&&n(u,s)||f.call(t,u))&&l.push(u)}return l}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function c(t){if(null==t)return[];r(t)||(t=object(t));var e=t.length;e=e&&o(e)&&(d(t)||h(t))&&e||0;for(var i=t.constructor,s=-1,a="function"==typeof i&&i.prototype===t,c=array(e),l=e>0;++s<e;)c[s]=s+"";for(var u in t)l&&n(u,e)||"constructor"==u&&(a||!f.call(t,u))||c.push(u);return c}var l=i(9),h=i(10),d=i(11),u=/^\d+$/,p=object.prototype,f=p.hasownproperty,m=l(object,"keys"),g=9007199254740991,v=function(t){return function(e){return null==e?void 0:e[t]}}("length"),b=m?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&s(t)?a(t):r(t)?m(t):[]}:a;t.exports=b},function(t,e,i){function s(t,e,i){for(var s=-1,n=a(e),o=n.length;++s<o;){var r=n[s],c=t[r],l=i(c,e[r],r,t,e);(l===l?l===c:c!==c)&&(void 0!==c||r in t)||(t[r]=l)}return t}var n=i(3),o=i(5),a=i(1),r=o(function(t,e,i){return i?s(t,e,i):n(t,e)});t.exports=r},function(t,e,i){function s(t,e){return null==e?t:n(e,o(e),t)}var n=i(4),o=i(1);t.exports=s},function(t,e){function i(t,e,i){i||(i={});for(var s=-1,n=e.length;++s<n;){var o=e[s];i[o]=t[o]}return i}t.exports=i},function(t,e,i){function s(t){return a(function(e,i){var s=-1,a=null==e?0:i.length,r=a>2?i[a-2]:void 0,c=a>2?i[2]:void 0,l=a>1?i[a-1]:void 0;for("function"==typeof r?(r=n(r,l,5),a-=2):(r="function"==typeof l?l:void 0,a-=r?1:0),c&&o(i[0],i[1],c)&&(r=3>a?void 0:r,a=1);++s<a;){var h=i[s];h&&t(e,h,r)}return e})}var n=i(6),o=i(7),a=i(8);t.exports=s},function(t,e){function i(t,e,i){if("function"!=typeof t)return s;if(void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 3:return function(i,s,n){return t.call(e,i,s,n)};case 4:return function(i,s,n,o){return t.call(e,i,s,n,o)};case 5:return function(i,s,n,o,a){return t.call(e,i,s,n,o,a)}}return function(){return t.apply(e,arguments)}}function s(t){return t}t.exports=i},function(t,e){function i(t){return null!=t&&o(l(t))}function s(t,e){return t="number"==typeof t||r.test(t)?+t:-1,e=null==e?c:e,t>-1&&t%1==0&&e>t}function n(t,e,n){if(!a(n))return!1;var o=typeof e;if("number"==o?i(n)&&s(e,n.length):"string"==o&&e in n){var r=n[e];return t===t?t===r:r!==r}return!1}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&c>=t}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var r=/^\d+$/,c=9007199254740991,l=function(t){return function(e){return null==e?void 0:e[t]}}("length");t.exports=n},function(t,e){function i(t,e){if("function"!=typeof t)throw new typeerror(s);return e=n(void 0===e?t.length-1:+e||0,0),function(){for(var i=arguments,s=-1,o=n(i.length-e,0),a=array(o);++s<o;)a[s]=i[e+s];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,i[0],a);case 2:return t.call(this,i[0],i[1],a)}var r=array(e+1);for(s=-1;++s<e;)r[s]=i[s];return r[e]=a,t.apply(this,r)}}var s="expected a function",n=math.max;t.exports=i},function(t,e){function i(t){return!!t&&"object"==typeof t}function s(t,e){var i=null==t?void 0:t[e];return a(i)?i:void 0}function n(t){return o(t)&&u.call(t)==r}function o(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){return null!=t&&(n(t)?p.test(h.call(t)):i(t)&&c.test(t))}var r="[object function]",c=/^\[object .+?constructor\]$/,l=object.prototype,h=function.prototype.tostring,d=l.hasownproperty,u=l.tostring,p=regexp("^"+h.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasownproperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=s},function(t,e){function i(t){return n(t)&&f.call(t,"callee")&&(!g.call(t,"callee")||m.call(t)==h)}function s(t){return null!=t&&a(v(t))&&!o(t)}function n(t){return c(t)&&s(t)}function o(t){var e=r(t)?m.call(t):"";return e==d||e==u}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&l>=t}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function c(t){return!!t&&"object"==typeof t}var l=9007199254740991,h="[object arguments]",d="[object function]",u="[object generatorfunction]",p=object.prototype,f=p.hasownproperty,m=p.tostring,g=p.propertyisenumerable,v=function(t){return function(e){return null==e?void 0:e[t]}}("length");t.exports=i},function(t,e){function i(t){return!!t&&"object"==typeof t}function s(t){return"number"==typeof t&&t>-1&&t%1==0&&m>=t}function n(t){return o(t)&&u.call(t)==r}function o(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){return null!=t&&(n(t)?p.test(h.call(t)):i(t)&&c.test(t))}var r="[object function]",c=/^\[object .+?constructor\]$/,l=object.prototype,h=function.prototype.tostring,d=l.hasownproperty,u=l.tostring,p=regexp("^"+h.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasownproperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),f=function(t,e){var i=null==t?void 0:t[e];return a(i)?i:void 0}(array,"isarray"),m=9007199254740991,g=f||function(t){return i(t)&&s(t.length)&&"[object array]"==u.call(t)};t.exports=g}])})},eyue:function(t,e,i){"use strict";var s=0,n=10,o={unknown:s,top_left:1,top_right:2,bottom_right:3,bottom_left:4,left_top:5,right_top:6,right_bottom:7,left_bottom:8,detectorientation:function(t,e,i){function o(n,o,a){var r=n-l,h=r+o;if(r>=0&&h<=c.length)a(c.subarray(r,h),n);else{var d=new filereader;d.onload=function(){c=new uint8array(this.result),l=n,a(c.subarray(0,o),n)},d.onerror=e.bind(null,s),d.readasarraybuffer(t.slice(n,n+math.max(i,o)))}}function a(t){function i(e,i){for(var s=0,n=0;n<i;n++)s=(s<<8)+t[e+(o?n:i-1-n)];return s}var n=string.fromcharcode.apply(null,t.subarray(0,4)),o={"mm\0*":!0,"ii*\0":!1}[n];if(void 0===o)return void e(s);var a=t.length>8&&i(4,4);if(!a||a+2>t.length)return void e(s);var r=i(a,2);if(a+12*r+6>t.length)return void e(s);for(var c=a+2;r--;){if(274===i(c,2)&&3===i(c+2,2)&&1===i(c+4,4))return void e(i(c+8,2));c+=12}e(s)}function r(t,i){var c=t[1];if(t.length<4||255!==t[0]||217===c)return void e(s);var l=c<208||c>217?(t[2]<<8)+t[3]:0;225===c&&l>8&&"exif\0\0"===string.fromcharcode.apply(null,t.subarray(4,10))?o(i+10,l-8,a):o(i+2+l,n,r)}i=i||65536;var c=[],l=0;t instanceof blob?o(0,n,r):e(s)}};e.a=o},ehjk:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.s(s.f("intnumber_one",t,e,1),t,e,0,26,54,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.v(i.f("localized_number",t,e,0))),i.b(" retweet")}),t.pop()),s.s(s.f("intnumber_other",t,e,1),t,e,0,100,129,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.v(i.f("localized_number",t,e,0))),i.b(" retweets")}),t.pop()),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},el2s:function(t,e,i){"use strict";(function(t){function s(){n.default.mixin(this,[a.a,h.a]),this.defaultattrs({followbuttonselector:".follow-button, .follow-link, .profiletweet-follow-button",topiclinkselector:".user-topic-link",userinfoselector:".user-actions",dropdownselector:".user-actions .dropdown",blockorunblockselector:".block-text, .unblock-text",dropdownitemselector:".user-actions .dropdown.open .dropdown-menu li",blockorreportbuttonselector:".block-or-report-text",tweetitemselector:".tweet",reportbuttonselector:".blocked-report-text",unmutebuttonselector:".unmute-button",mutebuttonselector:".mute-button",showthreadlinkselector:".show-thread-link",followstates:["not-following","following","blocked","pending"],useractionclassestoevents:{"mention-text":["uimentionaction","mentionuser"],"dm-text":["uidmaction","dmuser"],"list-text":["uilistaction"],"block-text":["uineedsblockdialog","attachuserdata"],"report-text":["uineedsreportdialog","attachuserdata"],"unblock-text":["uiunblockaction"],"hide-suggestion-text":["uihidesuggestionaction"],"retweet-on-text":["uiretweetonaction"],"retweet-off-text":["uiretweetoffaction"],"device-notifications-on-text":["uidevicenotificationsonaction","devicenotificationson"],"device-notifications-off-text":["uidevicenotificationsoffaction"],"embed-profile":["uiembedprofileaction","redirecttoembedprofile"]}}),this.getclassnamefromlist=function(t,e){return e.filter(function(e){return t.hasclass(e)})[0]},this.getuseractioneventnameandmethod=function(t){var e=this.getclassnamefromlist(t.closest("li"),object.keys(this.attr.useractionclassestoevents));return this.attr.useractionclassestoevents[e]},this.getfollowstate=function(t){return this.getclassnamefromlist(t,this.attr.followstates)},this.getinfoelementfromevent=function(e){return t(e.target).closest(this.attr.userinfoselector)},this.findinfoelementforuser=function(t){var e=this.attr.userinfoselector+"[data-user-id="+c.a.parsebigint(t)+"]";return this.$node.find(e)},this.geteventname=function(t){return{"not-following":"uifollowaction",following:"uiunfollowaction",blocked:"uiunblockaction",pending:"uicancelfollowrequestaction"}[t]},this.addcancelhoverstyleclass=function(t){t.addclass("cancel-hover-style"),t.one("mouseleave",function(){return t.removeclass("cancel-hover-style")});var e=t.closest(this.attr.userinfoselector);e.addclass("show-more-actions-button"),t.one("mouseleave",function(){return e.removeclass("show-more-actions-button")})},this.handlefollowbuttonclick=function(e){e.stoppropagation(),this.trigger(t(e.target),"uiclosedropdowns");var i=this.getinfoelementfromevent(e),s=t(e.target).closest(this.attr.followbuttonselector),n=this.gettweetforevent(e,"closest");this.addcancelhoverstyleclass(s);var a=this.getfollowstate(i),r=!s.closest(".stream").length;"not-following"===a&&i.data("protected")&&this.trigger("uishowmessage",{message:object(o.default)("a follow request has been sent to @{{screen_name}} and is pending their approval.",{screen_name:i.data("screen-name")})});var c=this.geteventname(a),l={originalfollowstate:a,shouldrefreshtimeline:r,mediatype:this.getmediatype(n),screenname:i.data("screen-name")};this.trigger(c,this.interactiondatawithcard(e,l))},this.handletopiclinkclick=function(t){var e=this.interactiondata(t);this.trigger("uiusertopicclickaction",e)},this.blockfollowwithsignupdialog=function(e){e.stoppropagation(),this.trigger(t(e.target),"uiclosedropdowns"),this.trigger("uiopensignupdialog",{signuponly:!0,screenname:this.getinfoelementfromevent(e).data("screen-name")}),this.trigger("uiloggedoutfollowattempt",this.interactiondata(e))},this.getblockorreportdatafromevent=function(t){var e=this.getinfoelementfromevent(t),i=e.data("screen-name"),s=e.data("user-id").tostring(),n=this.getfollowstate(e);return d({},this.interactiondata(t),{screenname:i,userid:s,target:"user",viewerfollowsauthor:"following"===n,viewerblocksauthor:"blocked"===n})},this.handleblockorreportclick=function(t){this.trigger("uineedsblockorreportdialog",this.getblockorreportdatafromevent(t))},this.handleblockorunblockclick=function(t){var e=this.getblockorreportdatafromevent(t),i=this.getinfoelementfromevent(t);"blocked"===this.getfollowstate(i)?this.trigger("uiunblockaction",e):this.trigger("uineedsblockdialog",e)},this.handleuseraction=function(e){var i=t(e.target),s=this.getuseractioneventnameandmethod(i);if(s){e.stoppropagation();var n=this.getinfoelementfromevent(e),o=s[0],a=s[1],r=this.getfollowstate(n),c={originalfollowstate:r};a&&(c=this[a](n,o,c)),c&&this.trigger(o,this.interactiondata(e,c)),this.trigger(i,"uiclosedropdowns")}},this.devicenotificationson=function(t,e,i){return this.attr.deviceenabled?i:(this.attr.smsdeviceverified||this.attr.haspushdevice?this.trigger("uiopenconfirmdialog",{titletext:object(o.default)("enable mobile notifications for tweets"),bodytext:object(o.default)("before you can receive mobile notifications for @{{screenname}}'s tweets, you need to enable the tweet notification setting.",{screenname:t.data("screen-name")}),canceltext:object(o.default)("close"),submittext:object(o.default)("enable tweet notifications"),action:this.attr.haspushdevice?"showpushtweetsnotifications":"showmobilenotifications",top:this.attr.top}):this.trigger("uiopenconfirmdialog",{titletext:object(o.default)("setup mobile notifications"),bodytext:object(o.default)("before you can receive mobile notifications for @{{screenname}}'s tweets, you need to set up your phone.",{screenname:t.data("screen-name")}),canceltext:object(o.default)("cancel"),submittext:object(o.default)("set up phone"),action:"showmobilenotifications",top:this.attr.top}),!1)},this.redirecttomobilenotifications=function(){window.location="/settings/devices"},this.redirecttopushnotificationshelp=function(){window.location="//support.twitter.com/articles/20169887"},this.redirecttoembedprofile=function(t,e,i){return this.trigger("uinavigate",{href:"/settings/widgets/new/user?screen_name="+t.data("screen-name")}),!0},this.mentionuser=function(t,e,i){this.trigger("uiopentweetdialog",{screenname:t.data("screen-name"),title:object(o.default)("tweet to {{name}}",{name:t.data("name")})})},this.attachuserdata=function(t,e,i){return d({},this.interactiondata(i),{screenname:l.a.getscreenname(t),userid:l.a.getid(t),target:"user"})},this.dmuser=function(t,e,i){return this.trigger("uineedsdmdialog",{id:l.a.getid(t),screen_name:l.a.getscreenname(t),name:l.a.getname(t),oto_only:!0}),i},this.hidesuggestion=function(t,e,i){return d({},i,{feedbacktoken:t.data("feedback-token")})},this.followstatechange=function(t,e){this.updatefollowstate(e.userid,e.newstate),e.fromshortcut&&("not-following"===e.newstate?this.trigger("uishowmessage",{message:object(o.default)("you have unblocked {{username}}",{username:e.username})}):"blocked"===e.newstate&&this.trigger("uiupdateafterblock",{userid:e.userid}))},this.updatefollowstate=function(t,e){var i=this.findinfoelementforuser(t),s=this.getfollowstate(i);s&&i.removeclass(s),i.addclass(e),"blocked"===e?this.trigger("uiupdateafterblock",{userid:t}):"not-following"===e&&this.trigger("uishowprofiletweets")},this.follow=function(t,e){var i=this.findinfoelementforuser(e.userid),s=i.data("protected")?"pending":"following";this.updatefollowstate(e.userid,s),i.addclass("including")},this.unfollow=function(t,e){var i=this.findinfoelementforuser(e.userid);this.updatefollowstate(e.userid,"not-following"),i.removeclass("including notifying")},this.cancel=function(t,e){this.updatefollowstate(e.userid,"not-following")},this.block=function(t,e){var i=this.findinfoelementforuser(e.userid);this.trigger("jsclearreinjectioncookiesforuser",{userid:e.userid}),this.updatefollowstate(e.userid,"blocked"),i.removeclass("including notifying")},this.unblock=function(t,e){this.updatefollowstate(e.userid,"not-following")},this.retweetson=function(t,e){this.findinfoelementforuser(e.userid).addclass("including")},this.retweetsoff=function(t,e){this.findinfoelementforuser(e.userid).removeclass("including")},this.notificationson=function(t,e){var i=this.findinfoelementforuser(e.userid),s=i.find(this.attr.devicefollowcheckboxselector);i.addclass("notifying"),s.prop("checked",!0)},this.notificationsoff=function(t,e){var i=this.findinfoelementforuser(e.userid),s=i.find(this.attr.devicefollowcheckboxselector);i.removeclass("notifying"),s.prop("checked",!1)},this.blockuserconfirmed=function(t,e){t.stopimmediatepropagation(),this.trigger("uiblockaction",e.sourceeventdata)},this.preventfocus=function(t,e){t.preventdefault()},this.handlemutebuttonclick=function(t){return function(e,i){i=this.interactiondata(e),i.scribecontext={element:"muted_button"},this.trigger(e.target,t,i)}},this.updatemutebuttonstate=function(t,e){var i=this.$node.find(this.attr.userinfoselector+"[data-user-id="+e.userid+"]"),s=i.find(this.attr.unmutebuttonselector),n=i.find(this.attr.mutebuttonselector),o=s.is(":focus"),a=n.is(":focus");i[e.modop](e.modclass),n.removeclass("first-load"),o?n.focus():a&&s.focus()},this.ishomepage=function(){return"/"===window.location.pathname},this.after("initialize",function(){if(r.a.attachto(this.$node),this.on("click",{showthreadlinkselector:"uishowthreadctaclicked"}),!this.attr.loggedin)return void this.on("click",{followbuttonselector:this.blockfollowwithsignupdialog});this.on(document,"uifollowstatechange datafollowstatechange databulkfollowstatechange",this.followstatechange),this.on(document,"uifollowaction",this.follow),this.on("click",{followbuttonselector:this.handlefollowbuttonclick}),this.attr.loggedin&&(this.on("click",{topiclinkselector:this.handletopiclinkclick,dropdownitemselector:this.handleuseraction,unmutebuttonselector:this.handlemutebuttonclick("uididunmuteuser"),mutebuttonselector:this.handlemutebuttonclick("uididmuteuser"),blockorreportbuttonselector:this.handleblockorreportclick,blockorunblockselector:this.handleblockorunblockclick,reportbuttonselector:this.handleblockorreportclick}),this.on("mousedown",{unmutebuttonselector:this.preventfocus,mutebuttonselector:this.preventfocus}),this.on(document,"uiunfollowaction",this.unfollow),this.on(document,"uicancelfollowrequestaction",this.cancel),this.on(document,"uiunblockaction",this.unblock),this.on(document,"uiretweetonaction dataretweetonaction",this.retweetson),this.on(document,"uiretweetoffaction dataretweetoffaction",this.retweetsoff),this.on(document,"uidevicenotificationsonaction datadevicenotificationsonaction",this.notificationson),this.on(document,"uidevicenotificationsoffaction datadevicenotificationsoffaction",this.notificationsoff),this.on(document,"uishowmobilenotificationsconfirm",this.redirecttomobilenotifications),this.on(document,"uishowpushtweetsnotificationsconfirm",this.redirecttopushnotificationshelp),this.on(document,"uiupdatemutebuttonstate",this.updatemutebuttonstate),this.on(document,"uiblockaction",this.block),this.on(document,"uididblockuser",this.blockuserconfirmed),this.on(document,"uididtriggerblockingaction",this.block))})}var n=i("q9/c"),o=i("0d4m"),a=i("alsu"),r=i("7tcb"),c=i("luie"),l=i("uxvi"),h=i("rhwy"),d=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t};e.a=s}).call(e,i("4ksj"))},eq71:function(t,e,i){"use strict";function s(){this.scribegalleryopened=function(t,e){this.scribe({element:"gallery",action:"open"},e)},this.scribegalleryclosed=function(t,e){this.scribe({element:"gallery",action:"close"},e)},this.scribegallerymedialoaded=function(t,e){var i={url:e.url};this.scribe({element:"photo",action:"impression"},e,i)},this.scribegallerymediafailed=function(t,e){var i={url:e.url};this.scribe({element:"photo",action:"error"},e,i)},this.scribegallerynavigatenext=function(t,e){this.scribe({element:"next",action:"click"},e)},this.scribegallerynavigateprev=function(t,e){this.scribe({element:"prev",action:"click"},e)},this.scribegridpaged=function(t,e){this.scribe({element:"grid",action:"page"},e)},this.scribegridopened=function(t,e){this.scribe({element:"grid",action:"impression"},e)},this.after("initialize",function(){this.on(document,"uigalleryopened",this.scribegalleryopened),this.on(document,"uigalleryclosed",this.scribegalleryclosed),this.on(document,"uigallerymedialoaded",this.scribegallerymedialoaded),this.on(document,"uigallerymediafailed",this.scribegallerymediafailed),this.on(document,"uigallerynavigatenext",this.scribegallerynavigatenext),this.on(document,"uigallerynavigateprev",this.scribegallerynavigateprev),this.on(document,"uigridpaged",this.scribegridpaged),this.on(document,"uigridopened",this.scribegridopened)})}var n=i("dbjh"),o=i("3odc");e.a=object(n.default)(s,o.a)},er8d:function(t,e,i){"use strict";function s(){this.scribeajaxduration=function(t,e){this.scribeclientstats(t,e,"perf")},this.scribeapistats=function(t,e){this.scribeclientstats(t,e,"api")},this.scribeclientstats=function(t,e,i){if(!e.statsname)throw new error("statsname is required for stats logging.");var s=["stats","ajax",i,e.statsname];e.statssubcategory&&s.push(e.statssubcategory);var n=e.requestdata||{};n.interval?s.push("polling"):n.min_position?s.push("newer"):n.max_position&&s.push("older"),e.status&&s.push(e.status),e.statuscode&&s.push(e.statuscode),e.apierrorname&&s.push(e.apierrorname);var o=s.join(":"),a={url:e.url,browser:object(r.a)(),response_size:(e.responsetext||{}).length};this.scribeperftown(o,e.duration,a)},this.after("initialize",function(){a.a.getdecider("web_perftown_stats")&&this.on("dataajaxduration",this.scribeajaxduration),a.a.getdecider("web_client_api_stats")&&this.on("dataapistats",this.scribeapistats)})}var n=i("dbjh"),o=i("2coy"),a=i("iamj"),r=i("rw6j");e.a=object(n.default)(s,o.a)},esrd:function(t,e,i){"use strict";function s(){this.defaultattrs({noshowerror:!0,defaultcategory:"trending"}),this.updatefetchmoreparameters=function(t,e){this.fetchingmore=!1,this.fetchmoreparameters.url=t.url,this.fetchmoreparameters.data={cursor:e.cursor,y:e.y||0},t.data&&t.data.q&&(this.fetchmoreparameters.data.q=t.data.q)},this.fetchcategories=function(t){var e=this;this.fetchmoreparameters={},this.get({retryifunavailable:!0,url:"/i/found_media/categories",success:function(i){i.error?e.error(t):e.trigger(t.target,"datafoundmediacategories",i)},error:function(){return e.error(t)}})},this.fetchcategoryitems=function(t,e){var i=this,s=e&&e.categoryname||this.attr.defaultcategory,n={retryifunavailable:!0,url:"/i/found_media/category_items?category="+s,success:function(e){e.error?i.error(t):(i.updatefetchmoreparameters(n,e),i.fetchmoreparameterscategory[s]=r({},i.fetchmoreparameters),i.successcategoryitems(t,e))},error:function(){return i.error(t)}};this.get(n)},this.successcategoryitems=function(t,e){this.trigger(t.target,"datafoundmediacategoryitems",e)},this.error=function(t){this.trigger(t.target,"datafoundmediaerror")},this.dispatchpendingsearch=function(t){var e=!1;return this.pendingsearchdata&&(this.search(t,this.pendingsearchdata),e=!0),e},this.search=function(t,e){var i=this;if(this.searching)return void(this.pendingsearchdata=e);this.pendingsearchdata=null;var s=e.query.trim();if(!s)return this.fetchmoreparameters.data&&this.fetchmoreparameters.data.q?this.fetchmoreparameters=r({},this.fetchmoreparameterscategory.trending):this.fetchmoreparameters={},void this.trigger(t.target,"datafoundmediasearchclear");var n=s,o={retryifunavailable:!0,url:"/i/found_media/search",data:{q:s},eventdata:e,success:function(s){s.error?i.searcherror(t):(i.updatefetchmoreparameters(o,s),i.searchsuccess(t,n,e,s))},error:function(){return i.searcherror(t)}},a=this.searchcache[n];if(a)return void o.success(a);this.searching=!0,this.get(o)},this.searchsuccess=function(t,e,i,s){this.searching=!1,this.searchcache[e]=s,s=r({},s,{sourceeventdata:i}),this.dispatchpendingsearch(t)||this.trigger(t.target,"datafoundmediasearchresults",s)},this.searcherror=function(t){this.searching=!1,this.dispatchpendingsearch(t)||this.trigger(t.target,"datafoundmediasearchresultsunavailable")},this.isrequestuptodate=function(t){return t.url===this.fetchmoreparameters.url&&this.fetchmoreparameters.data.q===t.data.q},this.fetchmore=function(t){var e=this;if(!this.fetchingmore&&!this.searching&&this.fetchmoreparameters.data&&"string"==typeof this.fetchmoreparameters.data.cursor){this.fetchingmore=!0;var i=r({success:function(s){e.isrequestuptodate(i)&&(s.error?e.fetchmoreerror(t,i):(e.updatefetchmoreparameters(i,s),e.fetchmoresuccess(t,i,s)))},error:function(){e.isrequestuptodate(i)&&e.fetchmoreerror(t,i)}},this.fetchmoreparameters);this.isrequestuptodate(i)&&this.get(i)}},this.fetchmoresuccess=function(t,e,i){this.fetchingmore=!1,this.trigger(t.target,"datafoundmediafetchmoreresults",i)},this.fetchmoreerror=function(t,e){this.fetchingmore=!1,this.trigger(t.target,"datafoundmediafetchmoreunavailable")},this.getfiledataformedia=function(t,e){var i={sourceurl:e.skipsourceurl?"":e.url,attribution:e.attribution,detailsurl:e.detailsurl,foundmediaorigin:e.origin,mediacategoryprefix:e.mediacategoryprefix};return o.a.getfileinfo("file.gif",t,i)},this.notifygotfiledata=function(t,e){this.trigger(t,"dataimageattachbinarydata",{fileid:e.fileid})},this.gotblob=function(t,e,i){this.getfiledataformedia(i,e).then(this.notifygotfiledata.bind(this,t))},this.failedtogetblob=function(t){this.trigger(t,"dataimageattachfailed")},this.attachimageurl=function(t,e){var i=t.target,s=this.gotblob.bind(this,i,e),n=this.failedtogetblob.bind(this,i);o.a.fetchasblob(e.url).then(s,n)},this.after("initialize",function(){this.fetchmoreparameterscategory={},this.fetchmoreparameters={},this.searchcache={},this.on("uirequestfoundmediatrending uirequestfoundmediacategoryitems",this.fetchcategoryitems),this.on("uirequestfoundmediacategories",this.fetchcategories),this.on("uifoundmediasearch",this.search),this.on("uifoundmediafetchmore",this.fetchmore),this.on("uiattachimageurl",this.attachimageurl)})}var n=i("dbjh"),o=i("+dwm"),a=i("vtwx"),r=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t};e.a=object(n.default)(s,a.a)},"f+gd":function(t,e,i){"use strict";function s(){this.reset=function(){this.convoid=null},this.setupdialog=function(t,e){var i=e.is_group;this.convoid=e.conversation_id;var s=i?object(o.default)("leave conversation"):object(o.default)("delete conversation"),n=i?object(o.default)("leave"):object(o.default)("delete");this.trigger("uiopenconfirmdialog",{titletext:s,bodytext:object(o.default)("this conversation history will be deleted from your inbox."),canceltext:object(o.default)("cancel"),submittext:n,action:"leaveconversation",danger:!0})},this.confirm=function(){this.convoid&&this.trigger("uideleteconversation",{conversation_id:this.convoid}),this.reset(),this.trigger("uidminboxwantsrefreshed")},this.after("initialize",function(){this.on("uishowdmdeleteconversationconfirmation",this.setupdialog),this.on("uileaveconversationconfirm",this.confirm)})}var n=i("dbjh"),o=i("0d4m");e.a=object(n.default)(s)},"f/mh":function(t,e,i){"use strict";(function(t){function s(){this.getsize=function(t,e){var i=e.attr("data-width"),s=e.attr("data-height"),n=e.width();return{h:s*(n/i),w:n}},this.createmediaelement=function(t,e,i){return new mediaelement(t,{pluginpath:n.a.path,flashname:"flashmediaelement.swf",loop:!0,defaultvideoheight:e.h,defaultvideowidth:e.w,pluginheight:e.h,pluginwidth:e.w,success:i})},this.preparemediaelement=function(t,e){var i=this,s=function(t){i.setcurrenttime(t,0),t.play()},n=this.createmediaelement(t,e,function(t){t.addeventlistener("ended",function(){t&&s(t)},!1),t.addeventlistener("timeupdate",function(){if("native"===n.plugintype&&t.duration<=t.currenttime){var e=function e(){s(t),t.removeeventlistener("loadeddata",e)};t.addeventlistener("loadeddata",e),t.load()}},!1),t.play()});return n},this.getplayer=function(t){if(t.length){if(t.find(this.attr.animatedgifselector).length)return this.players[t.attr("data-tweet-id")]}return null},this.setcurrenttime=function(t,e){"native"===t.plugintype?t.currenttime=e:t.setcurrenttime(e)},this.autoplaygif=function(e){this.startgif(t(e.target).closest(".tweet"))},this.startgifonevent=function(e){this.startgif(t(e.target))},this.startgif=function(t){var e=this;if(t=t.filter(":not(.animated-gif-playing)").has(this.attr.animatedgifselector),t.length){var i=t.attr("data-tweet-id");if(!this.players[i]){var s=t.find(this.attr.animatedgifselector),n=s.find("[video-src]");n.attr("src",n.attr("video-src"));var o=s.get(0),a=this.getsize(t,s);this.players[i]=this.preparemediaelement(o,a),this.players[i].load()}t.addclass("animated-gif-playing"),settimeout(function(){return e.players[i]&&e.players[i].play&&e.players[i].play()},1)}},this.stopautoplayinggif=function(e){this.stopgif(t(e.target).closest(".tweet"))},this.stopgifonevent=function(e){this.stopgif(t(e.target))},this.stopgif=function(t){var e=t.hasclass("animated-gif-playing")&&this.getplayer(t);e&&(t.removeclass("animated-gif-playing"),t.find(".me-plugin").remove(),e.pause&&e.pause())},this.pausegif=function(e){var i=t(e.target),s=i.hasclass("animated-gif-playing")&&this.getplayer(i);s&&s.pause&&s.pause()},this.seekgif=function(e,i){var s=t(e.target),n=s.hasclass("animated-gif-playing")&&this.getplayer(s);if(n){var o=i.position*n.duration;isnan(n.duration)||(this.setcurrenttime(n,math.min(o,n.duration)),n.pause())}},this.after("initialize",function(){this.players={},this.on("uiautoplaymedia",this.autoplaygif),this.on("uistartgif",this.startgifonevent),this.on("uistopautoplayingmedia",this.stopautoplayinggif),this.on("uistopgif",this.stopgifonevent),this.on("uipausegif",this.pausegif),this.on("uiseekgif",this.seekgif)})}var n=i("6mbd");e.a=s}).call(e,i("4ksj"))},fbsa:function(t,e,i){"use strict";function s(){n.default.mixin(this,[r.a]),this.defaultattrs({counterselector:".tweet-counter",maxlength:140,warnlength:120,superwarnclass:"superwarn",warnclass:"warn",maxreachedclass:"max-reached",dmonly:!1}),this.updatecounter=function(){var t=this.getlength(),e=t>=this.attr.warnlength,i=this.maxreached(),s=this.attr.maxlength-t;this.$counter.html(s).toggleclass(this.attr.warnclass,e).toggleclass(this.attr.maxreachedclass,i),e&&this.trigger("uicharcountwarningvisible",{charcount:s})},this.parsetweet=function(t){t=this.addhiddentext(void 0===t?this.getvisibletext():t),this.prevcountertext=t;var e=a.a.parsetweet(t,this.attr.twittertextoptions);return this.prevcounterlength=e.weightedlength,e},this.getlength=function(t){return this.parsetweet(t,this.twittertextoptions).weightedlength},this.maxreached=function(){return this.getlength()>this.attr.maxlength},this.after("initialize",function(){this.$counter=this.select("counterselector"),this.on("uitextchanged uiattachmentchanged",this.updatecounter),this.updatecounter()})}var n=i("q9/c"),o=i("cztd"),a=i.n(o),r=i("ajan");e.a=s},fuor:function(t,e,i){"use strict";function s(){this.defaultattrs({allowthreading:!0,drafttweetidattr:"draft-tweet-id",dialogtitleattr:"dialog-title",cursorpositionattr:"cursor-position",cursorposition:void 0,cantweetdefaulttextattr:"can-tweet-default-text",defaulttextattr:"default-text",defaulttext:void 0,isglobaltweetbutton:!1}),this.opentweetdialog=function(){this.scribe({element:"tweet_button",action:"click"},this.attr.eventdata),r.a.getdecider("enable_tweetstorm_creation")&&this.attr.allowthreading?this.trigger("uiopentweetstormdialog",this.tweetstormdialogdata()):this.trigger("uiopentweetdialog",this.tweetdialogdata())},this.tweetdialogdata=function(){return{drafttweetid:this.$node.data(this.attr.drafttweetidattr)||"global",screenname:a.a.getscreenname(this.$node),cantweetdefaulttext:this.$node.data(this.attr.cantweetdefaulttextattr),cursorposition:void 0!==this.attr.cursorposition?this.attr.cursorposition:this.$node.data(this.attr.cursorpositionattr),title:this.$node.data(this.attr.dialogtitleattr),text:void 0!==this.attr.defaulttext?this.attr.defaulttext:this.$node.data(this.attr.defaulttextattr)}},this.tweetstormdialogdata=function(){var t=void 0,e=void 0,i=a.a.getscreenname(this.$node),s=this.attr.defaulttext,n=this.$node.data(this.attr.defaulttextattr);return s?(t=" "+s,e=0):n?(t=" "+n,e=0):i&&(t="@"+i+" "),{tweettext:t,cursorposition:e}},this.after("initialize",function(){this.on("click",this.opentweetdialog),this.attr.isglobaltweetbutton&&this.on(document,"uishortcutshowtweetbox",this.opentweetdialog)})}var n=i("dbjh"),o=i("3odc"),a=i("uxvi"),r=i("iamj");e.a=object(n.default)(s,o.a)},fane:function(t,e,i){"use strict";function s(){this.defaultattrs({noshowerror:!0}),this.deletemessage=function(t,e){e=e||{},this.post({url:"/i/direct_messages/destroy",eventdata:e,data:{id:e.id,conversation_id:e.conversation_id,cursor:this.dmcursor},success:c(t.target,["datadmdeletesuccess","datadmuserupdates"]),error:l(c(t.target,"datadmdeletefailed",e),c(t.target,"datadmerror"))})},this.after("initialize",function(){this.on("uidmdialogdeletemessage",this.deletemessage)})}var n=i("dbjh"),o=i("ldny"),a=i("vtwx"),r=i("9uwv"),c=o.a.triggerfn,l=o.a.chain;e.a=object(n.default)(s,a.a,r.a)},frdp:function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in a)e[s]||(e[s]=a[s]);return r.render(t,e,i)}var n=i("opvs").default,o={emojified_text:i("mdlq")},a=n(o),r=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<li\n class=""),s.b(s.v(s.f(" token_class",t,e,0))),s.b('"\n tabindex="-1" \n data-token-id=""),s.b(s.v(s.f(" token_id",t,e,0))),s.b('"\n data-token-text=""),s.b(s.v(s.f(" token_text",t,e,0))),s.b('"\n aria-label=""),s.b(s.v(s.f(" token_text",t,e,0))),s.b('">\n'),s.s(s.f("emojified_token_text",t,e,1),t,e,0,170,189,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.rp("<emojified_text0",t,e,""))}),t.pop()),s.b(' <span class=""),s.b(s.v(s.f(" token_delete_class",t,e,0))),s.b(' icon icon--close" aria-hidden="true"></span>\n</li>'),s.fl()},partials:{"<emojified_text0":{name:"emojified_text",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:a,render:s}}).call(e,i("jtwp"))},"g/sw":function(t,e,i){"use strict";(function(t){function i(){this.isolditem=function(t){return void 0!==t.min_position},this.isnewitem=function(t){return void 0!==t.max_position},this.isinitialitem=function(t){return!!t.max_position&&!!t.min_position},this.getinitialitemsdata=function(){return{}},this.getnewitemsdata=function(){return{min_position:this.max_position,isnewitemrequest:!0}},this.getolditemsdata=function(){return{max_position:this.min_position,reset_error_state:void 0===this.min_position&&void 0===this.max_position&&!t(".permalink-container").length}},this.resetstatevariables=function(t){void 0!==t.max_position&&(this.max_position=t.max_position,this.select("containerselector").attr("data-max-position",this.max_position)),void 0!==t.min_position&&(this.min_position=t.min_position,this.select("containerselector").attr("data-min-position",this.min_position))},this.wasrangerequest=function(){return!1},this.wasnewitemsrequest=function(t){return this.isolditem(t)},this.wasolditemsrequest=function(t){return this.isnewitem(t)},this.shouldgetolditems=function(){return null!==this.min_position},this.shouldgetnewitems=function(){return null!==this.max_position},this.after("initialize",function(){this.min_position=this.select("containerselector").attr("data-min-position")||void 0,this.max_position=this.select("containerselector").attr("data-max-position")||void 0})}e.a=i}).call(e,i("4ksj"))},g3ad:function(t,e,i){"use strict";var s=i("0d4m"),n=i("dbjh"),o=i("exhz"),a=i.n(o),r=i("jfpi");e.a=object(n.default)(a.a,function(){this.initialstate({isthread:!1,percentage:0,reloadpageonsuccess:!1,peritempercentage:{}}),this.resetstate=function(){this.mergestate({isthread:!1,percentage:0,reloadpageonsuccess:!1,peritempercentage:{}})},this.inituploadui=function(t,e){var i=e.mediatotal,s=e.polltotal,n=e.tweettotal,o=e.reloadpageonsuccess;this.state.percentage=0,this.state.isthread=n>1,this.state.reloadpageonsuccess=o;var a=i>0?r.k.media:0,c=s>0?r.k.poll:0,l=r.k.tweet,h=a+c+l;this.state.peritempercentage[r.l.tweet]=100*l/h/n,this.state.peritempercentage[r.l.media]=i>0?100*a/h/i:0,this.state.peritempercentage[r.l.poll]=s>0?100*c/h/s:0,this.trigger("uishowstickymessage",{message:this.uploadmessage()})},this.updateuploadui=function(t,e){var i=e.stage,s=e.count;this.state.percentage+=this.state.peritempercentage[i]*s,this.trigger("uiupdatemessage",{message:this.uploadmessage()})},this.reloadpagewithdelay=function(){settimeout(function(){return location.reload()},800)},this.successuploadui=function(t,e){this.trigger("uihidemessage");var i=this.state.isthread?object(s.default)("your tweets were sent."):object(s.default)("your tweet was sent.");this.trigger("uishowmessage",{message:i}),this.state.reloadpageonsuccess&&this.reloadpagewithdelay(),this.resetstate()},this.uploadmessage=function(){var t=math.round(this.state.percentage).tostring();return this.state.isthread?object(s.default)("sending your tweets  {{percentage}}%",{percentage:t}):object(s.default)("sending your tweet  {{percentage}}%",{percentage:t})},this.after("initialize",function(){this.on("datatweetstormuploadstart",this.inituploadui),this.on("datatweetstormuploadupdate",this.updateuploadui),this.on("datatweetstormuploadsuccess",this.successuploadui)})})},g7mz:function(t,e,i){"use strict";(function(t){function s(e,i){this.attr={id:null,ttlmilliseconds:1728e5,itemcount:1e3,limit:6,version:1,localqueriesenabled:!1,remotequeriesenabled:!1,onlydmable:!1,onlyshowuserswithcanmediatag:!1,currentuserid:null,remotepath:"/i/search/typeahead.json",remotetype:"users",prefetchpath:"/i/search/typeahead.json",prefetchtype:"users",storageblacklist:"userblacklist",maxlengthblacklist:100,dbname:i.dbname||"accounts_typeahead",dbversion:20150128,datastores:{metadatastore:{name:"metadatastore",keypath:"key"},accounttokenstoids:{name:"accounttokenstoids",keypath:"token"},idstoaccounts:{name:"idstoaccounts",keypath:"id"}}},this.attr=h.default.merge(this.attr,e),this.after=t.noop,this.defaultattrs=t.noop,l.default.mixin(this,[r.a,d.a,c.a]),this.initialize=function(t){var e=t||this.openindexeddb.bind(this);this.isusingindexeddb=!0,this.initializesocialcontextblacklist();var i=[this.attr.datastores.metadatastore,this.attr.datastores.accounttokenstoids,this.attr.datastores.idstoaccounts],s=this;return e(this.attr.dbname,this.attr.dbversion,i).then(this.checkiflocaldatahasexpired.bind(this)).then(this.fetchdataifexpired.bind(this)).then(this.repopulatedatastore.bind(this)).then(function(){return s.database}).catch(this.oninitializationerror.bind(this))},this.openindexeddb=function(t,e,i){var s=this;return o.a.open(t,e,i).then(function(t){return s.database=t})},this.close=function(){this.database&&this.database.close()},this.checkiflocaldatahasexpired=function(){var t=this;return this.getdata(this.attr.datastores.metadatastore.name,this.attr.datastores.metadatastore.keypath).then(function(e){return t.ismetadataexpired(e)})},this.fetchdataifexpired=function(t){return t&&this.attr.localqueriesenabled&&this.prefetch(this.attr.prefetchpath,this.attr.prefetchtype)},this.getdata=function(t,e){return this.database.get(t,e)},this.repopulatedatastore=function(t){return t&&this.database.clear().then(this.populatedatastore.bind(this,t))},this.populatedatastore=function(t){return t&&this.database.put(this.processdata(t))},this.oninitializationerror=function(t){!this.ishttperror(t)&&this.close()},this.getprefetchcount=function(){return this.attr.itemcount},this.initializesocialcontextblacklist=function(){var t=object(u.a)({withexpiry:!0});this.storage=new t("typeahead"),this.socialcontextblacklist=this.storage.getitem(this.attr.storageblacklist)||{}},this.ismetadataexpired=function(t){if(!t)return!0;var e=t.version!==this.attr.version,i=this.hasttlexpired(t.expirationtime),s=t.protocol!==this.getprotocol();return e||i||s},this.processdata=function(t){var e=t[this.attr.prefetchtype].filter(function(t){return!this.isaccountmalformedandscribe(t,"typeahead_local")},this);t[this.attr.prefetchtype]=e;var i={};return i[this.attr.datastores.accounttokenstoids.name]=this.createitemsforaccounttokenstoidsobjectstore(t),i[this.attr.datastores.idstoaccounts.name]=this.createitemsforidstoaccountsobjectstore(t),i[this.attr.datastores.metadatastore.name]=this.createitemsformetadataobjectstore(t),i},this.createitemsforidstoaccountsobjectstore=function(t){return t[this.attr.prefetchtype].map(function(t){t.prefetched=!0;var e={};return e[this.attr.datastores.idstoaccounts.keypath]=t.id,e.account=t,e},this)},this.createitemsforaccounttokenstoidsobjectstore=function(t){var e=this.attr.datastores.accounttokenstoids.keypath,i={},s=[];t[this.attr.prefetchtype].foreach(function(t){t.tokens.foreach(function(e){var s=e.token;""!==s&&(array.isarray(i[s])?i[s].push(t.id):i[s]=[t.id])},this)},this);for(var n in i)if(i.hasownproperty(n)){var o={};o.ids=i[n],o[e]=n,s.push(o)}return s},this.createitemsformetadataobjectstore=function(t){var e={};return e[this.attr.datastores.metadatastore.keypath]=this.attr.datastores.metadatastore.keypath,e.expirationtime=this.attr.ttlmilliseconds+(new date).gettime(),e.version=this.attr.version,e.protocol=this.getprotocol(),[e]},this.addaccount=function(t){return this.gettokenidsforaccount(t).then(this.addtokenidsforaccount.bind(this,t)).then(this.addtoidstoaccounts.bind(this,t))},this.gettokenidsforaccount=function(t){t=t.account||t;var e=t.tokens.map(function(t){var e=this.standardizetoken(t);return this.database.get(this.attr.datastores.accounttokenstoids.name,e)},this);return promise.all(e)},this.addtokenidsforaccount=function(t,e){var i=n.a.compact(e);i=this.addnewtokenids(t,i),i=this.addidtotokenids(t,i);var s={};return s[this.attr.datastores.accounttokenstoids.name]=i,this.database.put(s)},this.standardizetoken=function(t){return"string"==typeof t?t:t.token},this.addnewtokenids=function(t,e){var i=[];return t.tokens.foreach(function(t){e.some(function(e){return e.token===t})||i.push(this.createtokenid(t))},this),e.concat(i)},this.addidtotokenids=function(t,e){return e.foreach(function(e){return e.ids.push(t.id)}),e},this.createtokenid=function(t){var e={};return e[this.attr.datastores.accounttokenstoids.keypath]=t,e.ids=[],e},this.removeaccount=function(t){return this.database.destroy(this.attr.datastores.idstoaccounts.name,t)},this.createaddaccountoptions=function(t){var e={},i={};return e[this.attr.datastores.idstoaccounts.keypath]=t.id,e.account=t,i[this.attr.datastores.idstoaccounts.name]=[e],i},this.addtoidstoaccounts=function(t){var e=this.createaddaccountoptions(t);return this.database.put(e)},this.getlocalsuggestions=function(t,e){var i=a.a.tokenizetext(t.query.replace("@",""));if(!this.attr.localqueriesenabled||""===t.query)return void e([]);this.search(i).then(e,e)},this.search=function(t){return this.getids(t).then(this.filterforrelevantids.bind(this)).then(this.getaccounts.bind(this)).then(this.filterandsortaccounts.bind(this))},this.filterforrelevantids=function(t){if(0===t.length)return[];var e=this.createidgroups(t),i=h.default.uniquearray(e.candidateids);return this.getcandidateidsfoundinalltermgroups(i,e.allidgroupsbyterm)},this.getaccounts=function(t){var e=t.map(function(t){return this.database.get(this.attr.datastores.idstoaccounts.name,t)},this);return promise.all(e)},this.filterandsortaccounts=function(t){return t=n.a.compact(t).map(function(t){return t.account}).filter(function(t){return!(this.attr.onlydmable&&!t.is_dm_able||!this.iseligibleformediatagsuggestion(t))},this),t.sort(this.sorter),t.slice(0,this.attr.limit)},this.sorter=function(t,e){var i=t.prefetched,s=e.prefetched;return i&&!s?-1:s&&!i?1:function(t,e){var i=t.score_boost?t.score_boost:0,s=e.score_boost?e.score_boost:0,n=t.rounded_score?t.rounded_score:0;return(e.rounded_score?e.rounded_score:0)+s-(n+i)}(t,e)},this.getids=function(t){var e=t.map(function(t){return this.database.getbyprefix(this.attr.datastores.accounttokenstoids.name,t)},this);return promise.all(e)},this.getcandidateidsfoundinalltermgroups=function(t,e){return t.filter(function(t){return e.every(function(e){return-1!==e.indexof(t)})})},this.createidgroups=function(t){var e=[],i=[];return t.foreach(function(t){var s=[];t.foreach(function(t){e=e.concat(t.ids),s=s.concat(t.ids)}),i.push(s)}),{candidateids:e,allidgroupsbyterm:i}},this.processremotesuggestions=function(t,e,i){var s=i[this.attr.id]||[],n={};return s.foreach(function(t){return n[t.id_str]=!0},this),this.requiresremotesuggestions(t.querydata)&&e[this.attr.remotetype]&&e[this.attr.remotetype].foreach(function(t){!n[t.id_str]&&(!this.attr.onlydmable||t.is_dm_able)&&this.iseligibleformediatagsuggestion(t)&&!this.isaccountmalformedandscribe(t,"typeahead_remote")&&s.push(t)},this),i[this.attr.id]=s.slice(0,this.attr.limit),i[this.attr.id].foreach(function(t){this.removeblacklistsocialcontext(t)},this),i},this.requiresremotesuggestions=function(t){return!(!t||!t.query)&&(t.accountswithoutatsignlocalonly?this.attr.remotequeriesenabled&&("@"===a.a.getfirstchar(t.query)||t.atsignremoved):this.attr.remotequeriesenabled)},this.ishttperror=function(t){return t&&t.status&&t.status>=400&&t.status<600},this.hasttlexpired=function(t){return t-this.now()<=0},this.now=function(){return(new date).gettime()},this.removeblacklistsocialcontext=function(t){t.first_connecting_user_id in this.socialcontextblacklist&&(t.first_connecting_user_name=void 0,t.first_connecting_user_id=void 0)},this.iseligibleformediatagsuggestion=function(t){return!this.attr.onlyshowuserswithcanmediatag||t.can_media_tag||t.id===this.attr.currentuserid},this.isaccountmalformedandscribe=function(t,e){var i=a.a.isaccountmalformed(t);return i&&this.scribe({component:"indexeddb",element:e,action:"empty"}),i}}var n=i("kgvp"),o=i("b6cp"),a=i("pfsh"),r=i("vtwx"),c=i("3odc"),l=i("q9/c"),h=i("yzit"),d=i("8xkx"),u=i("rwgq");e.a=s}).call(e,i("4ksj"))},gcfa:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("<span class="usernamebreak"></span>'),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},gggp:function(t,e,i){"use strict";function s(){this.defaultattrs({endpoint:"/i/users/prompts",format:""}),this.fetchprompts=function(t,e){e=e||{};var i={format:this.attr.format,tweet_ids:e.tweetids,force_prompt_id:this.getforcepromptidparam()};this.get({url:this.attr.endpoint,eventdata:i,data:i,success:"datapromptbirdmanagerhasprompts",error:"datapromptbirdmanagerpollfailure"})},this.getforcepromptidparam=function(){return a.a.decode(window.location.search.replace(/^\?/,"")).force_prompt_id},this.after("initialize",function(){this.on("uipromptbirdmanagerwantsprompts",this.fetchprompts)})}var n=i("dbjh"),o=i("vtwx"),a=i("tx0g");e.a=object(n.default)(s,o.a)},gkfl:function(t,e,i){"use strict";function s(){this.scribetweetaction=function(t,e,i){var s=i&&i.scribecontext&&i.scribecontext.component;this.scribe({component:s,element:"moment",action:t})},this.after("initialize",function(){this.on("uimomentmakeraddtweet",this.scribetweetaction.bind(this,"add")),this.on("uimomentmakerremovetweet",this.scribetweetaction.bind(this,"remove")),this.on("datamomentmakeraddtweetfailure",this.scribetweetaction.bind(this,"add_failure")),this.scribeonevent("uiopenaddtomomentdialog",{component:"add_to_moment_dialog",action:"open"})})}var n=i("dbjh"),o=i("3odc");e.a=object(n.default)(s,o.a)},glfs:function(t,e,i){"use strict";function s(){this.defaultattrs({feedbackcookie:"debug_data",data:{}}),this.getfeedbackdata=function(t,e){this.trigger("datafeedback",this.attr.data)},this.togglefeedbackcookie=function(t,e){var i=!!e.enabled||null;object(o.a)(this.attr.feedbackcookie,i),this.refreshpage(),this.checkdebugenabled()},this.refreshpage=function(){document.location.reload(!0)},this.checkdebugenabled=function(){this.trigger("datadebugfeedbackchanged",{enabled:!!object(o.a)(this.attr.feedbackcookie)})},this.addfeedbackdata=function(t,e){var i=this.attr.data;for(var s in e)i[s]?i[s]=[].concat.apply(i[s],e[s]):i[s]=e[s]},this.lognavigation=function(t,e){this.addfeedbackdata(t,{pushstate:[{data:{href:e.href,module:e.module,title:e.title}}]}),e.init_data&&e.init_data.debugdata&&this.addfeedbackdata(t,e.init_data.debugdata.data||{})},this.after("initialize",function(){this.data=this.attr.data||{},this.on("uineedsfeedbackdata",this.getfeedbackdata),this.on("uitoggledebugfeedback",this.togglefeedbackcookie),this.on("datasetdebugdata",this.addfeedbackdata),this.on("uipagechanged",this.lognavigation),this.checkdebugenabled()})}var n=i("dbjh"),o=i("dsp6"),a=i("vtwx");e.a=object(n.default)(s,a.a)},gvv3:function(t,e,i){"use strict";function s(){this.attributes({burstduration:5,burstpollinterval:3e3,dmtoasttype:"direct_message",maxpollinterval:6e4,noteardown:!0}),this.possiblystartburstpolling=function(t,e){e.should_request_inbox||e.is_empty||(cleartimeout(this.stoptimeout),this.timer.resume(),this.stoptimeout=settimeout(this.timer.pause.bind(this.timer),this.attr.burstduration))},this.after("initialize",function(){this.timer=n.default.setintervalevent("uidmrequestuserupdates",this.attr.burstpollinterval,{},this.attr.noteardown),this.timer.pause(),n.default.setintervalevent("uidmrequestuserupdates",this.attr.maxpollinterval,{},this.attr.noteardown),this.on("uiswiftloaded","uidmrequestuserupdates"),this.on("datadmuserupdates",this.possiblystartburstpolling)})}var n=i("r8bt"),o=i("dbjh"),a=object(o.default)(s);e.a=a},gxxu:function(t,e,i){"use strict";(function(t){var s=i("n85q"),n=i("pqps"),o=i.n(n),a=i("wpvw"),r=i.n(a),c=i("mjoy"),l=i.n(c),h={profile_formats:["profileother","profileself"],timeline_layout_types:["inline","inline_pointer"],timelinepromptoptions:function(t){return this.isprofileformat(t)?{timelineselector:".gridtimeline-items",promptoptions:{streamitemselector:".grid .grid-cell .js-stream-item",streamitemcontainerselector:"> .grid"}}:{timelineselector:"#stream-items-id",promptoptions:{streamitemselector:"> .js-stream-item",streamitemcontainerselector:"> .js-stream-item"}}},default_layout:o.a,grid_timeline_layout:r.a,list_timeline_layout:l.a,getpromptlayout:function(t,e){return this.hastimelinelayout(t)?this.isprofileformat(e)?h.grid_timeline_layout:h.list_timeline_layout:h.default_layout},getprompthtml:function(e,i){var n=this.getpromptlayout(e.type,i),o=n.render(e.renderdata),a=s.a[e.template].render(e.renderdata),r=t("<div></div>");return r.html(o),r.find(".js-prompt-layout-content").html(a),r.html()},isprofileformat:function(t){return this.profile_formats.indexof(t)>-1},hastimelinelayout:function(t){return this.timeline_layout_types.indexof(t)>-1}};e.a=h}).call(e,i("4ksj"))},gahx:function(t,e,i){"use strict";(function(t){function s(){r.default.mixin(this,[u.a,o.default.withadvice,f.a,p.a]),this.defaultattrs({scribecontext:{},attachgifselector:"button[data-gif-url]",resultupclass:"foundmediasearch--top",contentselector:".foundmediasearch-content",contentrightclass:"foundmediasearch-content--right",caretselector:".caret",caretupclass:"caret--top",caretdownclass:"caret--bottom",preferredgravity:void 0,preferredweight:void 0,preventdropdownsopeningup:void 0,tweetformselector:".tweet-form",foundmediasearchselector:".js-found-media-search-trigger",queryinputselector:".foundmediasearch-queryinput",queryloadingclass:"foundmediasearch-queryinput--loading",dropdownselector:".foundmediasearch-dropdownmenu",resultselector:".foundmediasearch-results",itemsselector:".foundmediasearch-items",focusableselector:".foundmediasearch-focusable",firstfocusableselector:".foundmediasearch-focusable:first",focusedselector:".foundmediasearch-focusable.is-focused",focusedclass:"is-focused",dropdowncontainerselector:"span.dropdown-menu",categoryselector:".foundmediasearch-category",animatedfoundmediaselector:".foundmediasearch-item",itemvisibleclass:"foundmediasearch-item--visible",columnselector:".foundmediasearch-column",paginationselector:".foundmediasearch-pagination",presentedclass:"js-presented",presentedselector:".js-presented",keyboardclass:"foundmediasearch--keyboard",emptystateclass:"foundmediasearch--emptystate",reloadsearchtriggerselector:".js-found-media-reload-search-trigger"}),this.randomitemclasses=function(){return a.a.shuffleinplace(["foundmediasearch-itemcontainer--bg1","foundmediasearch-itemcontainer--bg2","foundmediasearch-itemcontainer--bg3","foundmediasearch-itemcontainer--bg4","foundmediasearch-itemcontainer--bg5","foundmediasearch-itemcontainer--bg6"])},this.randomcategoryclasses=function(){return a.a.shuffleinplace(["foundmediasearch-categorycontainer--bg1","foundmediasearch-categorycontainer--bg2","foundmediasearch-categorycontainer--bg3","foundmediasearch-categorycontainer--bg4","foundmediasearch-categorycontainer--bg5","foundmediasearch-categorycontainer--bg6"])},this.preparedropdown=function(t,e){this.$node.addclass(this.attr.emptystateclass),this.hasmoreitems(!0),this.select("itemsselector").empty(),this.trigger("uirequestfoundmediacategories")},this.showcategories=function(e,i){var s=this;this.select("queryinputselector").removeclass(this.attr.queryloadingclass),this.$node.removeclass(this.attr.emptystateclass),this.defaultresults=this.defaultresults||{html:i.html},this.select("itemsselector").html(i.html),this.select("resultselector").scrolltop(0),this.$focusables=this.select("focusableselector");var n=this.randomcategoryclasses();this.$focusables.each(function(e,i){var o=n.pop();o||(n=s.randomcategoryclasses(),o=n.pop()),t(i).addclass(o)}),this.hasmoreitems(!1),this.trigger("uifoundmediagalleryimpression")},this.updatecategoryitems=function(t,e){this.select("queryinputselector").removeclass(this.attr.queryloadingclass),this.$node.removeclass(this.attr.emptystateclass),this.defaultresults||(this.defaultresults={html:e.html,cursor:e.cursor}),this.presentfoundmediaitems(this.select("itemsselector").html(e.html),"string"==typeof e.cursor),this.select("resultselector").scrolltop(0),this.trigger(this.scribeevents.itemsimpression)},this.errorstate=function(){this.trigger("uishowerror",{message:object(n.default)("failed to load gifs. please try again later.")})},this.attachtarget=function(t){var e=t.closest(this.attr.attachgifselector),i=e.data("gif-url");if(i){this.trigger(this.scribeevents.itemselect);var s=this.$node.closest(this.attr.tweetformselector),n=e.data(),o={url:i,origin:n.origin,provider:n.providername,attribution:{name:n.attributionname,image:n.attributionimage},detailsurl:n.detailsurl,thumbnail:{src:n.stillurl,width:n.width,height:n.height},isgif:!0,mediacategoryprefix:this.attr.mediacategoryprefix};this.itemwasattached=!0,this.trigger(s,"uipreviewthumbnailplaceholderadd",o),this.trigger("uiattachimageurl",o),this.closedropdown()}},this.selectitem=function(t){if(t.has(this.attr.animatedfoundmediaselector).length)this.attachtarget(t.find(this.attr.animatedfoundmediaselector));else if(t.has(this.attr.categoryselector).length){var e=t.find(this.attr.categoryselector),i=e.data("display-name");this.trigger("uirequestfoundmediacategoryitems",{categoryname:e.data("name")}),this.lastquery=i,this.select("queryinputselector").val(i).focus().addclass(this.attr.queryloadingclass)}},this.selectfocuseditem=function(){this.selectitem(this.select("focusedselector"))},this.selectclickeditem=function(e){this.selectitem(t(e.target).closest(this.attr.focusableselector))},this.getelementtopoffset=function(t){var e=t[0],i=0;return e&&(i=e.getboundingclientrect().top),i},this.getwindowheight=function(){return t(window).height()},this.showdropdownposition=function(t){this.$node.toggleclass(this.attr.resultupclass,t),this.select("caretselector").toggleclass(this.attr.caretupclass,!t).toggleclass(this.attr.caretdownclass,t)},this.positiondropdownup=function(){this.showdropdownposition(!0)},this.positiondropdowndown=function(){this.showdropdownposition(!1);var t=this.select("resultselector"),e=this.getelementtopoffset(this.select("foundmediasearchselector"))+s,i=this.getwindowheight();t.css({height:math.max(i-e-w,c)})},this.positiondropdown=function(){this.positiondropdowndown();var t=this.adjacent(this.select("dropdownselector"),this.select("foundmediasearchselector"),{gravity:this.attr.preferredgravity||"vertical-north",weight:this.attr.preferredweight});this.select("contentselector").toggleclass(this.attr.contentrightclass,"right"===t.weight),this.$dropdown.find(this.attr.dropdownmenuselector).toggleclass(this.attr.dropdownmenualignrightclass,"right"===t.weight),"south"!==t.gravity||this.attr.preventdropdownsopeningup||this.positiondropdownup(),this.animatevisiblegifs()},this.positiondropdowndebounced=d.default.debounce(this.positiondropdown,100),this.gotfoundmediabinarydata=function(t,e){this.trigger(this.scribeevents.itemadd),this.trigger("uigotimagedata",{fileids:[e.fileid]})},this.failedfoundmediabinarydata=function(t,e){this.trigger(this.scribeevents.itemerror),this.trigger("uishowerror",{message:object(n.default)("failed to attach gif. please try again later.")})},this.onfoundmediadropdownopened=function(){this.itemwasattached=!1,this.positiondropdown(),this.select("itemsselector").html('<div class="foundmediasearch-pagination"></div>'),this.select("foundmediasearchselector").addclass("enabled"),this.select("queryinputselector").focus(),this.on(window,"resize",this.positiondropdowndebounced)},this.onfoundmediadropdownclosed=function(){this.itemwasattached||this.trigger(this.scribeevents.itemcancel),this.off(window,"resize",this.positiondropdowndebounced),this.select("queryinputselector").val(""),this.select("foundmediasearchselector").removeclass("enabled"),this.select("itemsselector").empty()},this.searchquery=function(t){""!==t&&this.select("queryinputselector").addclass(this.attr.queryloadingclass),this.trigger("uifoundmediasearch",{query:t||""})},this.searchretry=function(){var t=this.select("queryinputselector").val()||"";this.lastquery===t&&(this.searchquery(t),this.select("queryinputselector").focus())},this.searchifquerychanged=function(){var t=this.select("queryinputselector").val()||"";this.lastquery!==t&&(this.lastquery=t,this.searchquery(t))},this.searchautocomplete=function(){var t=this;settimeout(function(){return t.searchifquerychanged()},0)},this.buildfocusindex=function(){var e=this.select("focusableselector");this.$focusables=e.sort(function(e,i){var s=t(e).offset(),n=t(i).offset();return s.top>n.top||s.top===n.top&&s.left>n.left?1:-1})},this.searchreset=function(){this.select("queryinputselector").removeclass(this.attr.queryloadingclass),this.select("resultselector").scrolltop(0),this.defaultresults?this.presentfoundmediaitems(this.select("itemsselector").html(this.defaultresults.html),"string"==typeof this.defaultresults.cursor):this.preparedropdown()},this.searchresults=function(t,e){var i=e.sourceeventdata;i&&i.query===this.select("queryinputselector").val()&&(this.select("queryinputselector").removeclass(this.attr.queryloadingclass),this.lastquerydata=i,this.presentfoundmediaitems(this.select("itemsselector").html(e.html),"string"==typeof e.cursor),this.select("resultselector").scrolltop(0))},this.searchunavailable=function(t,e){this.select("queryinputselector").removeclass(this.attr.queryloadingclass);var i=b.a.render({});this.select("itemsselector").html(i),this.hasmoreitems(!1),this.buildfocusindex()},this.presentfoundmedia=function(t,e,i,s){var n=[i,this.attr.presentedclass];s&&n.push("foundmediasearch-slidein"),e.addclass(n.join(" "))},this.presentfoundmediaitems=function(e,i){var s=this;this.buildfocusindex();var n=this.randomitemclasses();if(this.$focusables.not(this.attr.presentedselector).each(function(e,i){var o=n.pop();o||(n=s.randomitemclasses(),o=n.pop()),s.presentfoundmedia(e,t(i),o,e<10)}),this.hasmoreitems(i),i){this.select("paginationselector").offset().top-e.offset().top<this.select("resultselector").height()&&this.trigger("uinearthebottom")}this.animatevisiblegifs()},this.movefocus=function(e){var i=this.select("focusedselector"),s=void 0;if(0===i.length)s=t(this.$focusables.get(0));else{var n=this.$focusables.index(i)+e;s=n<0||n>=this.$focusables.length?i:t(this.$focusables.get(n))}if(i.removeclass(this.attr.focusedclass),s.addclass(this.attr.focusedclass),s.length>0){var o=this.select("resultselector"),a=s.offset().top-o.offset().top,r=s.height(),c=o.height();c<a+r?o.scrolltop(o.scrolltop()+a-c+r):a<=0&&o.scrolltop(o.scrolltop()+a)}},this.querykeydown=function(t){switch(t.which){case h.a.up:t.preventdefault(),this.movefocus(-1),this.$node.addclass(this.attr.keyboardclass);break;case h.a.down:t.preventdefault(),this.movefocus(1),this.$node.addclass(this.attr.keyboardclass);break;case h.a.left:case h.a.right:break;case h.a.enter:t.preventdefault(),this.trigger("uifoundmediasearchenter");break;default:this.trigger("uifoundmediasearchautocomplete")}},this.changequery=function(t){this.trigger("uifoundmediasearchautocomplete")},this.enablebutton=function(){this.select("foundmediasearchselector").prop("disabled",!1).removeclass("disabled")},this.disablebutton=function(){this.select("foundmediasearchselector").prop("disabled",!0).addclass("disabled")},this.hasmoreitems=function(t){this.select("paginationselector").toggle(t)},this.moreresults=function(e,i){var s=this.select("columnselector"),n=t(i.html),o=n.filter(this.attr.columnselector);s.first().append(o.first().children()),s.last().append(o.last().children()),this.presentfoundmediaitems(this.select("itemsselector"),"string"==typeof i.cursor),this.animatevisiblegifs()},this.iscontainedinviewport=function(t,e){return g.a.ispartiallycontainedinviewport({topthreshold:-500,bottomthreshold:500,fractioninviewport:0,containerrect:t,elementrect:e.rect})},this.animatevisiblegifs=function(){var e=this,i=this.select("resultselector"),s=i[0].getboundingclientrect(),n=this.select("animatedfoundmediaselector").map(function(){return{item:t(this),rect:this.getboundingclientrect()}}),o=n.filter(function(t,i){return e.iscontainedinviewport(s,i)});o.sort(function(t,e){return t.rect.top-e.rect.top}).each(function(t,i){var s=i.item;if(s.find("img").attr("src",s.data("thumbnail-url")),!s.hasclass(e.attr.itemvisibleclass)){var n=40*t+"ms";s.parent().css({animationdelay:n}),s.addclass(e.attr.itemvisibleclass)}}),n.not(o).each(function(t,i){return i.item.removeclass(e.attr.itemvisibleclass).find("img").attr("src","")})},this.setfocus=function(e){this.$node.removeclass(this.attr.keyboardclass);var i=t(e.target).closest(this.attr.focusableselector);i.hasclass(this.attr.focusedclass)||(this.$node.removeclass(this.attr.keyboardclass),this.select("focusedselector").removeclass(this.attr.focusedclass),i.addclass(this.attr.focusedclass))},this.clearfocus=function(e){t(e.target).closest(this.attr.focusableselector).removeclass(this.attr.focusedclass)},this.after("initialize",function(){var t=this.$node.closest(this.attr.tweetformselector);this.attachchild(l.a,this.select("resultselector"),{contentselector:this.attr.itemsselector}),this.$node.toggleclass("autoplay-disabled",!!this.attr.autoplaydisabled),this.scribeevents={itemsimpression:"uifoundmediacategoryimpression",itemselect:"uifoundmediacategoryselect",itemadd:"uifoundmediacategoryadd",itemerror:"uifoundmediacategoryerror",itemcancel:"uifoundmediacategorycancel"},this.skipfocusmanager=!0,this.scribecontext=this.attr.scribecontext,this.on("uidropdownopenrequested",this.preparedropdown),this.on("click",{focusableselector:this.selectclickeditem,reloadsearchtriggerselector:this.searchretry}),this.on("mouseover",{focusableselector:this.setfocus}),this.on("mouseout",{focusableselector:this.clearfocus}),this.on("uifoundmediasearchenter",this.selectfocuseditem),this.on("datafoundmediaerror",this.errorstate),this.on("datafoundmediacategories",this.showcategories),this.on("datafoundmediacategoryitems",this.updatecategoryitems),this.on("datafoundmediasearchresults",this.searchresults),this.on("datafoundmediasearchresultsunavailable",this.searchunavailable),this.on("datafoundmediasearchclear",this.searchreset),this.on("datafoundmediafetchmoreresults",this.moreresults),this.on("dataimageattachbinarydata",this.gotfoundmediabinarydata),this.on("dataimageattachfailed",this.failedfoundmediabinarydata),this.on("uifoundmediasearchautocomplete",this.searchautocomplete),this.on("uifoundmediasearchselect",{resultselector:this.selectresult}),this.on("change paste cut input",{queryinputselector:this.changequery}),this.on("keydown",{queryinputselector:this.querykeydown}),this.on(this.attr.resultselector,"scroll",d.default.debounce(this.animatevisiblegifs.bind(this),50)),this.on("uinearthebottom","uifoundmediafetchmore"),this.on(t,"uicomposerenableexclusiveattachments",this.enablebutton),this.on(t,"uicomposerdisableexclusiveattachments",this.disablebutton),this.on(t,"uipreviewthumbnailadded",this.closedropdown),this.on("uidropdownopened",this.onfoundmediadropdownopened),this.on("uidropdownclosed",this.onfoundmediadropdownclosed)})}var n=i("0d4m"),o=i("gugq"),a=i("kgvp"),r=i("q9/c"),c=i("dbjh"),l=i("kjck"),h=i("i3qs"),d=i("yzit"),u=i("1hky"),p=i("ohsy"),f=i("zvxx"),m=i("ajan"),g=i("/lrg"),v=i("+y9g"),b=i.n(v);e.a=object(c.default)(s,m.a);var w=40,s=87,c=270}).call(e,i("4ksj"))},gbbz:function(t,e,i){"use strict";(function(t){function i(){function e(t){return t.removeclass("u-hidden").show()}function i(t){return t.addclass("u-hidden").hide()}this.defaultattrs({endofstreamselector:".stream-footer",errormessageselector:".stream-fail-container",tryagainselector:".try-again-after-whale"}),this.getolditems=function(t){t&&t.stoppropagation(),this.shouldgetolditems()&&this.trigger("uiwantsmoretimelineitems",this.getolditemsdata())},this.injectolditems=function(t){this.hidewhaleend(),this.resetstatevariables(t),t.has_more_items?this.showmorespinner():this.hidemorespinner(),this.injectitems("append",t.items_html,"uihasinjectedoldtimelineitems"),this.possiblyshowbacktotop()},this.notifyolditemserror=function(t){this.showwhaleend()},this.showwhaleend=function(){e(this.select("errormessageselector")),i(this.select("endofstreamselector")),this.select("timelineendselector").addclass("has-items-error")},this.hidewhaleend=function(){i(this.select("errormessageselector")),e(this.select("endofstreamselector")),this.select("timelineendselector").removeclass("has-items-error")},this.showmorespinner=function(){this.select("timelineendselector").addclass("has-more-items")},this.hidemorespinner=function(){this.select("timelineendselector").removeclass("has-more-items")},this.tryagainafterwhale=function(t){t.preventdefault(),this.hidewhaleend(),this.getolditems()},this.after("initialize",function(){var e=this.attr.inoverlay?".permalinkoverlay":window;this.on(e,"uinearthebottom",this.getolditems),this.$document=t(document),this.$window=t(window),this.on("click",{tryagainselector:this.tryagainafterwhale})})}e.a=i}).call(e,i("4ksj"))},gg8t:function(t,e,i){"use strict";(function(t){function s(t,e,i){return e in t?object.defineproperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(){this.defaultattrs({millisecinday:864e5,agegateingerrorcode:250,agegatecookiekey:"age-gated"}),this.hasbeenagegatedwithin24hr=function(){var t=object(r.a)(this.attr.agegatecookiekey);return!!t&&(new date).gettime()-parseint(t,10)<this.attr.millisecinday},this.getuseraction=function(t){var e;return(e={"/i/user/block":"block","/i/user/unblock":"unblock","/i/user/hide":"dismiss"},s(e,this.apiendpointurl("/friendships/create.json"),"follow"),s(e,this.apiendpointurl("/friendships/destroy.json"),"unfollow"),e)[t]},this.updatefollowstatus=function(t,e){function i(i){i.message&&this.trigger("uishowmessage",i);var s=i.new_state,n=i.is_follow_back,a=void 0;if(o&&(i.protected&&"follow"===r?(s="pending",a=0):"follow"===r?(s="following",a=1):(a=-1,s="not-following"),n=i.followed_by&&"follow"===r),this.trigger("datafollowstatechange",u({},i,t,{userid:t.userid,newstate:s,requesturl:e,isfollowback:n,action:r,username:t.screenname})),o){var c={stats:[{stat:"following",user_id:h.a.user.id,delta:a},{stat:"follower",user_id:t.userid,delta:a}]};this.trigger(document,"datagotprofilestats",c)}else this.trigger(document,"datagotprofilestats",{stats:i.profile_stats})}function n(i){var n,o=this,r=(n={},s(n,a.a.currentusersuspended,function(){return o.showapierrortoast(f)}),s(n,a.a.followblockedusererror,function(){return o.showapierrortoast(m)}),s(n,a.a.usermustbealcoholagescreened,function(){var e=o.getapierrordatafield(i,"timestamp");o.trigger("uineedsagegatedialog",{originaldata:t,newstate:h,agegated:o.hasbeenagegatedwithin24hr(),minbirthdate:parseint(e,10),errorcode:a.a.usermustbealcoholagescreened})}),s(n,a.a.cannotfollowfromcountry,function(){o.trigger("uineedsgdpragegatedialog",{errorcode:a.a.cannotfollowfromcountry})}),s(n,a.a.birthdaterequired,function(){o.trigger("uineedsgdpragegatedialog",{errorcode:a.a.birthdaterequired})}),n),c=t.userid,h=t.originalfollowstate;return i.new_state&&(h=i.new_state),this.trigger("datafollowstatechange",u({},i,{userid:c,newstate:h,action:this.getuseraction(e),username:t.screenname})),object(l.a)(r,i)}var o=this.isapirequest(e),r=this.getuseraction(e),c=t.disclosuretype?"earned"===t.disclosuretype:void 0,d=u({user_id:t.userid,impression_id:t.impressionid,earned:c,fromshortcut:t.fromshortcut,handles_challenges:1},t.additionalpostdata);t.lifeline&&(d.lifeline=1),d.challenges_passed=!!t.passedagegating,this.post({url:e,data:d,eventdata:t,success:i.bind(this),error:n.bind(this),retryifunavailable:!0,useoauthsessionauth:t.useoauthsessionauth})},this.reversibleajaxcall=function(t,e,i){function s(i){this.trigger("datauseractionsuccess",u({},i,{userid:t.userid,requesturl:e,action:this.getuseraction(e)})),i.message&&this.trigger("uishowmessage",i)}function n(e){this.trigger(i,t)}this.post({url:e,data:{user_id:t.userid,impression_id:t.impressionid},eventdata:t,success:s.bind(this),error:n.bind(this)})},this.normalajaxcall=function(t,e,i){function s(i){this.trigger("datauseractionsuccess",u({},i,{userid:t.userid,requesturl:e,action:this.getuseraction(e)})),i.message&&this.trigger("uishowmessage",i)}var n=u({user_id:t.userid,token:t.feedbacktoken,impression_id:t.impressionid},i);this.post({url:e,data:n,eventdata:t,success:s.bind(this),error:"datauseractionerror"})};var e={include_blocking:!0,include_blocked_by:!0,include_can_dm:!0,include_followed_by:!0,include_mute_edge:!0,skip_status:!0};this.followaction=function(i,s){var n=this.apiendpointurl("/friendships/create.json");this.updatefollowstatus(t.extend(s,{useoauthsessionauth:!0,additionalpostdata:e}),n)},this.unfollowaction=function(t,i){var s=this.apiendpointurl("/friendships/destroy.json");this.updatefollowstatus(object.assign(i,{useoauthsessionauth:!0,additionalpostdata:e}),s)},this.cancelaction=function(t,e){this.updatefollowstatus(e,"/i/user/cancel")},this.blockaction=function(t,e){this.updatefollowstatus(e,"/i/user/block")},this.unblockaction=function(t,e){this.updatefollowstatus(e,"/i/user/unblock")},this.reportspamaction=function(t,e){this.normalajaxcall(e,"/i/user/report_spam",{screen_name:e.screenname,report_type:e.reporttype,block_user:e.blockuser,impression_id:e.impressionid})},this.hidesuggestionaction=function(t,e){this.normalajaxcall(e,"/i/user/hide")},this.retweetonaction=function(t,e){this.reversibleajaxcall(e,"/i/user/retweets_on","dataretweetoffaction")},this.retweetoffaction=function(t,e){this.reversibleajaxcall(e,"/i/user/retweets_off","dataretweetonaction")},this.devicenotificationsonaction=function(t,e){this.reversibleajaxcall(e,"/i/user/device_notifications_on","datadevicenotificationsoffaction")},this.devicenotificationsoffaction=function(t,e){this.reversibleajaxcall(e,"/i/user/device_notifications_off","datadevicenotificationsonaction")},this.after("initialize",function(){this.on(document,"uifollowaction",this.followaction),this.on(document,"uiunfollowaction",this.unfollowaction),this.on(document,"uicancelfollowrequestaction",this.cancelaction),this.on(document,"uiblockaction",this.blockaction),this.on(document,"uiunblockaction",this.unblockaction),this.on(document,"uireportspamaction uireportuseraction",this.reportspamaction),this.on(document,"uihidesuggestionaction",this.hidesuggestionaction),this.on(document,"uiretweetonaction",this.retweetonaction),this.on(document,"uiretweetoffaction",this.retweetoffaction),this.on(document,"uidevicenotificationsonaction",this.devicenotificationsonaction),this.on(document,"uidevicenotificationsoffaction",this.devicenotificationsoffaction),this.on(document,"uiagegatepassed",this.followaction)})}var o=i("0d4m"),a=i("2doy"),r=i("dsp6"),c=i("dbjh"),l=i("bwsk"),h=i("iamj"),d=i("vtwx"),u=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},p=object(c.default)(n,d.a),f=object(o.default)("your account is suspended and is not permitted to follow users."),m=object(o.default)("you have been blocked from following this user at their request.");e.a=p}).call(e,i("4ksj"))},"gpu+":function(t,e,i){"use strict";(function(t){function s(){this.attributes({popover:".dmpopover",popoverbutton:".dmpopover-button",enabledpopoverbutton:".dmpopover-button:not(:disabled)",popovercontent:".dmpopover-content",openclass:"is-open",openselector:".is-open",focusonopen:".js-focus-on-open"}),this.getclosestopenpopover=function(t){return this.getclosestpopover(t).filter(this.attr.openselector)},this.getclosestpopover=function(e){return t(e).closest(this.attr.popover)},this.toggle=function(t){var e=this.getclosestpopover(t.target);e.hasclass(this.attr.openclass)?this.close(e):(this.closeall(),e.addclass(this.attr.openclass).find(this.attr.focusonopen).focus())},this.closeall=function(t){this.select("popover").removeclass(this.attr.openclass)},this.close=function(t){t.removeclass(this.attr.openclass).find(this.attr.enabledpopoverbutton).focus()},this.disable=function(t){this.getclosestpopover(t.target).find(this.attr.popoverbutton).prop("disabled",!0)},this.enable=function(t){this.getclosestpopover(t.target).find(this.attr.popoverbutton).prop("disabled",!1)},this.handleescape=function(t){var e=this.getclosestopenpopover(t.target);e.length&&(t.stopimmediatepropagation(),this.close(e))},this.handleblur=function(t){this.getclosestopenpopover(t.target).length||this.closeall()},this.after("initialize",function(){this.on(o.a.global_force_close_events,this.closeall),this.on(o.a.global_request_close_events,this.closeall),this.on("uishortcutesc",this.handleescape),this.on("click",this.handleblur),this.on("click",{enabledpopoverbutton:this.toggle}),this.on("uidisabledmpopover",this.disable),this.on("uienabledmpopover",this.enable)})}var n=i("dbjh"),o=i("sns+");e.a=object(n.default)(s)}).call(e,i("4ksj"))},gshy:function(t,e,i){"use strict";function s(){function t(){if("running"!==i&&e.length>0){var s=e.shift();i="running";var n=function(e,s){if(i="idle",t(),e)return s;throw s},o=s();o.queuedpromise().then(n.bind(null,!0),n.bind(null,!1)).then(o.resolve,o.reject)}}var e=[],i="idle";return{enqueue:function(i){return new promise(function(s,n){var o=function(){return{queuedpromise:i,resolve:s,reject:n}};e.push(o),t()})},numpending:function(){return e.length},numinprogress:function(){return"running"===i?1:0},length:function(){return this.numpending()+this.numinprogress()}}}e.a=s},h6fk:function(t,e,i){"use strict";var s=i("yzit"),n={},o=0,a={add:function(t){var e=++o;return n[e]=t,e},update:function(t,e){var i=this.get(t);return n[t]=s.default.merge(i,e,!0)},remove:function(t){delete n[t]},removeall:function(){n={}},get:function(t){return n[t]},keys:function(){return object.keys(n)}};e.a=a},hedp:function(t,e,i){"use strict";function s(){this.curatetweets=function(t,e){function i(t){var i=this;e.added.foreach(function(){return i.scribe({component:"tweet",action:"add_to_timeline"},t)});var s=object(c.default)("tweet successfully added/removed.");this.trigger("uishowmessage",{message:s}),this.trigger("datatweetscurated",t)}function s(t){var e=object(c.default)("failed to add/remove tweet.");this.trigger("uishowerror",{message:e})}var n={added:e.added,removed:e.removed,tweet_id:e.tweetid,impression_id:e.impressionid};this.post({url:"/i/curate/batch",data:n,eventdata:e,success:i.bind(this),error:s.bind(this)})},this.addtweet=function(t,e){function i(t){var e=object(c.default)("added tweet to <a href="{{url}}">{{name}}</a>",{url:t.timeline_url,name:t.timeline_name});this.trigger("uishowmessage",{message:e,timeout:1e4}),this.trigger("datatweetaddedtotimeline",t),this.scribe({component:"tweet",action:"quick_add_to_timeline"},t)}function s(t){this.trigger("uishowerror",t),this.trigger("datatweetnotaddedtotimeline",t)}var n={timeline_id:e.timelineid,tweet_id:e.tweetid,impression_id:e.impressionid};this.post({url:"/i/curate/add_tweet",data:n,eventdata:e,success:i.bind(this),error:s.bind(this)})},this.removetweet=function(t,e){function i(t){this.trigger("datatweetremovedfromtimeline",t),this.trigger("uishowmessage",{message:object(c.default)("tweet successfully removed.")}),this.trigger("datatweetremovedfromtimeline",t)}function s(t){this.trigger("uishowerror",{message:object(c.default)("error removing tweet.")}),this.trigger("datatweetnotremovedfromtimeline",t)}var n={timeline_id:e.timelineid,tweet_id:e.tweetid,id:e.tweetid};this.post({url:"/i/curate/remove_tweet",data:n,eventdata:e,success:i.bind(this),error:s.bind(this)})},this.createcustomtimeline=function(t,e){function i(t){this.scribe({component:"custom_timeline",action:"create"},t),this.trigger("uinavigate",{href:t.timeline_url})}function s(t){this.trigger("uishowerror",{message:object(c.default)("error creating collection.")})}var n={name:e.name,description:e.description,order:e.order,tweet_id:e.tweetid,impression_id:e.impressionid};this.post({url:"/i/curate/create",data:n,eventdata:e,success:i.bind(this),error:s.bind(this)})},this.updatecustomtimeline=function(t,e){function i(t){this.scribe({element:"custom_timeline",action:"update"},t);var e=object(c.default)("collection updated. <a href="{{url}}">click here to refresh.</a>",{url:t.timeline_url});this.trigger("uishowmessage",{message:e,timeout:5e3}),this.trigger("datacustomtimelineupdated",t)}function s(t){this.trigger("uishowerror",{message:object(c.default)("error updating collection.")})}var n={timeline_id:e.id,name:e.name,description:e.description,order:e.order};this.post({url:"/i/curate/update",data:n,eventdata:e,success:i.bind(this),error:s.bind(this)})},this.deletecustomtimeline=function(t,e){function i(t){this.scribe({element:"custom_timeline",action:"delete"},t),this.trigger("uinavigate",{href:this.attr.timelines_url})}function s(t){this.trigger("uishowerror",{message:object(c.default)("error deleting collection.")})}this.post({url:"/i/curate/destroy",data:{timeline_id:e.timeline_id},eventdata:e,success:i.bind(this),error:s.bind(this)})},this.getfullcustomtimelines=function(t,e){this.get({url:"/i/curate/all_timelines",eventdata:e,data:{tweet_id:e.tweetid},success:"datagotfullcustomtimelines",error:"datafailedtogetfullcustomtimelines"})},this.getcustomtimelinesfordropdown=function(t,e){e.tweetid&&this.get({url:"/i/curate/timelines",eventdata:e,data:{tweet_id:e.tweetid},success:"datagotcustomtimelines",error:"datafailedtogetcustomtimelines"})},this.after("initialize",function(){a.a.getdecider("custom_timeline_curation")&&(this.on("uicuratetweets",this.curatetweets),this.on("uicurateaddtweet",this.addtweet),this.on("uicurateremovetweet",this.removetweet),this.on("uineedscustomtimelines",this.getcustomtimelinesfordropdown),this.on("uineedsfullcustomtimelines",this.getfullcustomtimelines),this.on("uicreatecustomtimeline",this.createcustomtimeline),this.on("uiupdatecustomtimeline",this.updatecustomtimeline),this.on("uideletecustomtimeline",this.deletecustomtimeline))})}var n=i("dbjh"),o=i("vtwx"),a=i("iamj"),r=i("3odc"),c=i("0d4m"),l=object(n.default)(s,o.a,r.a);e.a=l},htfi:function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in a)e[s]||(e[s]=a[s]);return r.render(t,e,i)}var n=i("opvs").default,o={"dm/dm_typeahead_account_suggestion":i("koam"),"dm/dm_typeahead_group_suggestion":i("afwj")},a=n(o),r=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.s(s.f("has_accounts",t,e,1),t,e,0,45,111,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <li class="dmtypeaheadheader">\n <span>people</span>\n </li>\n')}),t.pop()),s.s(s.f("accounts",t,e,1),t,e,0,142,185,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.rp("<dm/dm_typeahead_account_suggestion0",t,e," "))}),t.pop()),s.b("\n"+i),s.s(s.f("has_groups",t,e,1),t,e,0,240,306,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <li class="dmtypeaheadheader">\n <span>groups</span>\n </li>\n')}),t.pop()),s.s(s.f("groups",t,e,1),t,e,0,333,374,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.rp("<dm/dm_typeahead_group_suggestion1",t,e," "))}),t.pop()),s.fl()},partials:{"<dm/dm_typeahead_account_suggestion0":{name:"dm/dm_typeahead_account_suggestion",partials:{},subs:{}},"<dm/dm_typeahead_group_suggestion1":{name:"dm/dm_typeahead_group_suggestion",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:a,render:s}}).call(e,i("jtwp"))},hwhs:function(t,e,i){"use strict";function s(){this.defaultattrs({prompttype:"inline",promptitemselector:".promptbirdprompt--inline",defaultinsertionindex:0}),this.insertprompt=function(t){var e=t.renderdata.insertionindex||this.attr.defaultinsertionindex,i=t.renderdata.shouldinsertabove||!1;this.insertpromptatindex(t,e,i)}}var n=i("tuog"),o=i("qwum");e.a=n.a.mixin(s,o.a)},hc4n:function(t,e,i){"use strict";var s=["twitter.com","donate.twitter.com"],n=function(t,e){return[t,e].join("//")};e.a=function(t,e){return s.reduce(function(i,s){return i||t===n(e.protocol,s)},t===n(e.protocol,e.host))}},hotm:function(t,e,i){"use strict";(function(t){var i=function(){return{gallerywidth:function(e,i){var s=t(window).width()-116,n=math.min(s,e.width());return math.max(i.width(),n)},resetminsize:function(t){this.galw=592,this.galh=300,t.width(this.galw),t.css("min-height",this.galh)},resizemedia:function(e,i,s,n,o){var a=i.find(n).add(i.find(".modal-header")).map(function(){return t(this).outerheight()}).get().reduce(function(t,e){return t+e},0),r=t(window).height()-24,c=t(window).width()-116,l=r-a,h=c,d=e[0].getboundingclientrect(),u=d.bottom-d.top,p=d.right-d.left,f=p/u;s&&(p+=130,u+=100),u>l&&(p=math.ceil(p*(l/u)),u=l,e.width(p).height(u)),p>h&&(p=h,u=math.ceil(p/f),e.width(p).height(u)),(!i.find(".gallerynav").hasclass("enabled")||p>this.galw)&&(this.galw=p,i.width(this.galw)),u+a>this.galh?(this.galh=u+a,i.css("min-height",this.galh),e.css("margin-top",0)):o?i.css("min-height",0):(e.css("margin-top",(this.galh-a-u)/2),e.css("margin-bottom",(this.galh-a-u)/2))}}}();e.a=i}).call(e,i("4ksj"))},hpdd:function(t,e,i){"use strict";function s(){n.default.mixin(this,[c.a]),this.defaultattrs({composecounterselector:".js-character-counter",maxlength:280,warnlength:260}),this.updatecounter=function(){var t=this.parsetweet(),e=t.weightedlength,i=t.permillage;this.$composecharactercounter.trigger("uiupdatecounter",{tweetlength:e,percent:i/10})},this.parsetweet=function(t){t=this.addhiddentext(void 0===t?this.getvisibletext():t),this.prevcountertext=t;var e=r.a.parsetweet(t,this.attr.twittertextoptions);return this.prevcounterlength=e.weightedlength,e},this.getlength=function(t){return this.parsetweet(t,this.twittertextoptions).weightedlength},this.maxreached=function(){return this.getlength()>this.attr.maxlength},this.after("initialize",function(){this.$composecharactercounter=this.select("composecounterselector"),this.attachchild(o.a,this.$composecharactercounter,{maxlength:this.attr.maxlength}),this.on("uitextchanged uiattachmentchanged",this.updatecounter),this.updatecounter()})}var n=i("q9/c"),o=i("0uxa"),a=i("cztd"),r=i.n(a),c=i("ajan");e.a=s},hpo3:function(t,e,i){"use strict";function s(){this.deletemediatag=function(t,e){var i=function(t){this.trigger("datamediatagremovesuccess",t)},s=function(t,i,s){this.trigger("datamediatagremovefailure",{id:e.id,status:i,errorthrown:s})},n={status_id:e.id};this.post({url:"/i/media/media_tags/delete",data:n,eventdata:e,success:i.bind(this),error:s.bind(this)})},this.after("initialize",function(){this.on("uididremovemediatag",this.deletemediatag)})}var n=i("dbjh"),o=i("vtwx"),a=object(n.default)(s,o.a);e.a=a},hzyy:function(t,e,i){"use strict";function s(){this.defaultattrs({cache_limit:10}),this.getcachedsuggestions=function(t){return this.cache[t]?this.cache[t].value:null},this.clearcache=function(){this.cache={newest:null,oldest:null,count:0,limit:this.attr.cache_limit}},this.deletecachedsuggestions=function(t){return!!this.cache[t]&&(this.cache.count>1&&(t===this.cache.newest.query?(this.cache.newest=this.cache.newest.before,this.cache.newest.after=null):t===this.cache.oldest.query?(this.cache.oldest=this.cache.oldest.after,this.cache.oldest.before=null):(this.cache[t].after.before=this.cache[t].before,this.cache[t].before.after=this.cache[t].after)),delete this.cache[t],this.cache.count-=1,!0)},this.setcachedsuggestions=function(t,e){0!==this.cache.limit&&(this.deletecachedsuggestions(t),this.cache.count>=this.cache.limit&&this.deletecachedsuggestions(this.cache.oldest.query),0===this.cache.count?(this.cache[t]={query:t,value:e,before:null,after:null},this.cache.newest=this.cache[t],this.cache.oldest=this.cache[t]):(this.cache[t]={query:t,value:e,before:this.cache.newest,after:null},this.cache.newest.after=this.cache[t],this.cache.newest=this.cache[t]),this.cache.count+=1)},this.aroundgetsuggestions=function(t,e,i){var s=i.id+":"+i.query,n=this.getcachedsuggestions(s);if(n)return void this.triggersuggestionsevent(i.id,i.query,n);t(e,i)},this.aftertriggersuggestionsevent=function(t,e,i,s){if(!s){var n=t+":"+e;this.setcachedsuggestions(n,i)}},this.after("triggersuggestionsevent",this.aftertriggersuggestionsevent),this.around("getsuggestions",this.aroundgetsuggestions),this.after("initialize",function(){this.clearcache(),this.on("uitypeaheaddeleterecentsearch",this.clearcache)})}e.a=s},ibie:function(t,e,i){"use strict";function s(){n.default.mixin(this,[o.a]),this._builddata=function(t,e){var i={card_data:json.stringify(t)};return void 0!==e&&(i.guid=e),i},this.createcard=function(t,e){var i=this;return new promise(function(s,n){var o={url:"/i/cards/create/v1",data:i._builddata(t,e),ismutation:!1,datatype:"json",timeout:3e4,retryifunavailable:!0};i.post(o).done(function(t){return s(t.card_uri)}).fail(function(){return n()})})}}var n=i("q9/c"),o=i("vtwx");e.a=s},iq7t:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div class="composervideoinfo">\n <div class="composervideoinfo-title">'),s.b(s.v(s.f("title",t,e,0))),s.b('</div>\n <div class="composervideoinfo-description">'),s.b(s.v(s.f("description",t,e,0))),s.b("</div>\n"),s.s(s.f("has_cta",t,e,1),t,e,0,168,580,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <div class="composervideoinfo-cta">\n'),i.s(i.f("is_cta_visit_site",t,e,1),t,e,0,237,364,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(' <span class="composervideoinfo-ctatype">visit:</span><span class="composervideoinfo-ctaurl">'),i.b(i.v(i.f("cta_url",t,e,0))),i.b("</span>\n")}),t.pop()),i.s(i.f("is_cta_watch_now",t,e,1),t,e,0,414,545,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(' <span class="composervideoinfo-ctatype">watch now:</span><span class="composervideoinfo-ctaurl">'),i.b(i.v(i.f("cta_url",t,e,0))),i.b("</span>\n")}),t.pop()),i.b(" </div>\n")}),t.pop()),s.b(' <div class="composervideoinfo-embeddable">\n <span class="composervideoinfo-embeddablevalue">\n'),s.s(s.f("embeddable",t,e,1),t,e,0,712,807,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <span class="composervideoinfo-embeddablelabel">video embedding:</span>allowed\n')}),t.pop()),s.s(s.f("embeddable",t,e,1),t,e,1,0,0,"")||s.b(' <span class="composervideoinfo-embeddablelabel">video embedding:</span>not allowed\n'),s.b(" </span>\n </div>\n</div>\n"),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},"it+l":function(t,e,i){"use strict";function s(){this.postfunction=function(t,e,i,s,n){var o={prompt_id:n.prompt_id,scribe_action:n.prompt_scribe_action},a=n.prompt_action_type||t;this.post({url:"/i/users/prompts/"+a,eventdata:o,data:o,success:e,error:i})},this.after("initialize",function(){this.on("uipromptbirddismissprompt",this.postfunction.bind(this,"dismiss","datapromptbirdpromptdismissed","datapromptbirdpromptdismissalerror")),this.on("uipromptbirdclick",this.postfunction.bind(this,"click","datapromptbirdpromptclicked","datapromptbirdpromptclickerror")),this.on("uipromptbirdpromptwasshown uiinlinepromptscrolledin",this.postfunction.bind(this,"impress","datapromptbirdpromptimpressed","datapromptbirdpromptimpresserror")),this.on("uipromptbirdpromptwasshown uiinlinepromptscrolledin","uiitemsinjected")})}var n=i("dbjh"),o=i("vtwx");e.a=object(n.default)(s,o.a)},ibme:function(t,e,i){"use strict";function s(){this.defaultattrs({prompttype:"inline_pointer",promptitemselector:".promptbirdprompt--inlinepointer",pointerarrowselector:".promptbirdprompt-arrow",pointertargetselectors:{favorite_action:".profiletweet-action .js-actionfavorite .icon, .profiletweet-action .js-actionfavorite .heartanimation",reply_action:".profiletweet-action .js-actionreply .icon",retweet_action:".profiletweet-action .js-actionretweet .icon",more_action:".profiletweet-action .js-dropdown-toggle .icon"}}),this.insertprompt=function(t){this.trigger("uipromptneedsinsertionindex",{prompt:t})},this.insertpromptwithindex=function(t,e){var i=e.prompt;this.insertpromptatindex(i,e.insertionindex,e.shouldinsertabove),this.setpointerarrowoffset(i)},this.setpointerarrowoffset=function(t){var e=this.attr.pointertargetselectors[t.renderdata.pointertarget],i=this.getpromptbypromptid(t.id,!0),s=i.find(this.attr.pointerarrowselector),n=i.prev(),o=n.find(e),a=o.offset().left-n.offset().left;a<=i.width()&&s.css({left:a+"px"})},this.after("initialize",function(){this.on("uiprompthasinsertionindex",this.insertpromptwithindex)})}var n=i("tuog"),o=i("qwum");e.a=n.a.mixin(s,o.a)},ihyl:function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in a)e[s]||(e[s]=a[s]);return r.render(t,e,i)}var n=i("opvs").default,o={"compose/reply_users_button":i("hlo1")},a=n(o),r=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("replying to "),s.b(s.rp("<compose/reply_users_button0",t,e,"")),s.fl()},partials:{"<compose/reply_users_button0":{name:"compose/reply_users_button",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:a,render:s}}).call(e,i("jtwp"))},iqrg:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({promoctaselector:".stream-items .leadgen-card-forward .promotion-cta",leadgendialogiframeselector:".cards2-promotion-iframe",tweetselector:".leadgen-card-forward",macawcardsiframecontainerselector:".js-macaw-cards-iframe-container"});var e={open_dialog:"uiopenleadgenconfirmdialog",dialog_closed:"uidialogclosed"};this.setupdialogwithelement=function(e,i){this.$tweet=t(i.el).closest(this.attr.tweetselector);var s=this.$tweet.closest("[data-impression-id]").attr("data-impression-id"),n=this.$tweet.closest("[data-impression-id]").attr("data-disclosure-type"),o=t(i.el).data("card-url");this.leadgendialogiframe.attr("src",o),this.setupdialog(e,this.$tweet,s,n)},this.setupdialogwithdata=function(e,i){this.$tweet=t(this.attr.tweetselector+"[data-tweet-id="+i.tweetid+"]"),this.macawcardsiframecontainer.attr(this.attr.srcattr,i.fullcardiframeurl),this.macawcardsiframecontainer.attr(this.attr.cardurl,i.cardurl),this.macawcardsiframecontainer.attr(this.attr.publisherid,i.publisherid),this.macawcardsiframecontainer.attr(this.attr.creatorid,i.creatorid),this.leadgendialogiframe.hide(),this.macawcardsiframecontainer.length&&(this.createcard(t(this.macawcardsiframecontainer[0].parentelement)||this.$tweet),this.setupdialog(e,this.$tweet,i.impressionid,i.disclosuretype))},this.cleanupdialog=function(t,e){this.macawcardsiframecontainer.removedata(this.attr.srcdataattr),this.macawcardsiframecontainer.removedata(this.attr.cardurldataattr),this.macawcardsiframecontainer.removedata(this.attr.publisheriddataattr),this.macawcardsiframecontainer.removedata(this.attr.creatoriddataattr),this.destroycard(this.$tweet)},this.after("initialize",function(){this.leadgendialogiframe=this.select("leadgendialogiframeselector"),this.macawcardsiframecontainer=this.select("macawcardsiframecontainerselector"),this.on(document,"click",{promoctaselector:this.setupdialogwithelement}),this.on(document,e.open_dialog,this.setupdialogwithdata),this.on(e.dialog_closed,this.cleanupdialog)}),this.setupdialog=function(t,e,i,s){t.preventdefault(),this.open()}}var n=i("dbjh"),o=i("uhc7"),a=i("dumm"),r=object(n.default)(s,o.a,a.a);e.a=r}).call(e,i("4ksj"))},isxp:function(t,e,i){"use strict";(function(t){function s(){this.attributes({quickreplyselector:".dmquickreply",optionselector:".dmquickreply-optionitem",unselectedoptionselector:".dmquickreply:not(.is-selected) .dmquickreply-optionitem",optiontextselector:".dmquickreply-optiontext",selectedclass:"is-selected"}),this.handleclick=function(e){var i=t(e.target),s=i.closest(this.attr.quickreplyselector),n=i.closest(this.attr.optionselector),o=i.closest(this.attr.optiontextselector),a=n.data();s.addclass(this.attr.selectedclass),o.addclass(this.attr.selectedclass),this.trigger("uiqroptionclicked",a)},this.handleshowqrpanel=function(t,e){var i=a.a.render(e);this.$node.html(i)},this.handleemptyqrpanel=function(){this.$node.empty()},this.after("initialize",function(){this.on(document,"uishowquickreplyoptionpanel",this.handleshowqrpanel),this.on(document,"uiquickreplyremoved",this.handleemptyqrpanel),this.on("click",{unselectedoptionselector:this.handleclick})})}var n=i("dbjh"),o=i("grs/"),a=i.n(o),r=object(n.default)(s);e.a=r}).call(e,i("4ksj"))},itx7:function(t,e,i){"use strict";function s(){this.attributes({notice:".dmreportconversation",abuseconfirmation:".dmreportconversation-abuse",spamconfirmation:".dmreportconversation-spam",cancel:".dmreportconversation-cancel",messagecontainer:".dmreportconversation-message"}),this.showconfirmation=function(t,e){var i=e&&e.is_group,s=object(o.default)("the conversation will be deleted from your inbox, and @{{reported_user_screen_name}} cannot message you until you message them first.",{reported_user_screen_name:e.report_screen_name}),n=object(o.default)("the conversation will be deleted from your inbox, and you cannot be added to this group again."),a=i?n:s;this.select("messagecontainer").text(a),this.select("notice").trigger("uishowdmnotice")},this.hideconfirmation=function(){this.select("notice").trigger("uidismissdmnotice")},this.state=function(t,e){return this._state=e||this._state||{},this._state},this.reportconversation=function(t){var e=this.state();this.trigger("uireportconversation",{conversation_id:e.conversation_id,report_as:t});var i=object(o.default)("marked as spam"),s=object(o.default)("report sent. @{{screen_name}} can no longer message you.",{screen_name:e.report_screen_name}),n=object(o.default)("marked as abusive. you cannot be added to this group again."),a=e.is_group?n:s,r="spam"===t?i:a;this.hideconfirmation(),this.trigger("uidmshowtoast",{message:r}),this.trigger("uidminboxwantsrefreshed")},this.launchreportingwebview=function(t,e){var i={userid:e.reported_user_id,reporteddirectmessageconversationid:e.conversation_id,target:"dm-conversation"};this.trigger("uineedsreportdialog",i)},this.after("initialize",function(){this.on("uidmlaunchconversationreportwebview",this.launchreportingwebview),this.on("uishowdmreportconversationconfirmation",this.state),this.on("uishowdmreportconversationconfirmation",this.showconfirmation),this.on("click",{abuseconfirmation:this.reportconversation.bind(this,"abuse"),spamconfirmation:this.reportconversation.bind(this,"spam"),cancel:this.hideconfirmation})})}var n=i("dbjh"),o=i("0d4m"),a=object(n.default)(s);e.a=a},iunq:function(t,e,i){"use strict";(function(t){function s(){r.default.mixin(this,[f.a,o.default.withadvice,g.a,m.a]),this.defaultattrs({clearrecentselector:".emojipicker-clearrecent",recentsselector:".emojipicker-categoryitems:first",queryinputselector:".emojipicker-queryinput",skintoneselector:".emojipicker-skintone",itemselector:".emojipicker-item",itemwithtooltipselector:".emojipicker-item.js-tooltip",categoryheaderseletor:".emojipicker-categoryheader",categoryitemsselector:".emojipicker-categoryitems",categoryiconselector:".emojicategoryicon",categoryresultselector:".emojipicker-categoryresult",newcategoryselector:".emojicategoryicon--new",scrollablerowselector:".emojipicker-scrollablerow",emojipickertriggerselector:".emojipicker-trigger",clearqueryselector:".emojipicker-clearquery",dropdownselector:".emojipicker-dropdownmenu",resultupclass:"emojipicker--top",contentselector:".emojipicker-content",contentrightclass:"emojipicker-content--right",caretselector:".caret",caretupclass:"caret--top",caretdownclass:"caret--bottom",focusableselector:".emojipicker-item:not(.u-hidden)",firstfocusableselector:".emojipicker-item:not(.u-hidden):first",focusedselector:".emojipicker-item.is-focused",focusedclass:"is-focused",activeclass:"is-active",keyboardclass:"emojipicker--keyboard",maxrecents:14,scrollthrottledelayinms:100,extrapixelstoscrollintoview:20,temporarilyactivatedelayinms:100,textusercolorclass:"u-textusercolor",querychangethrottledelayinms:100}),this.preparedropdown=function(t,e){if(!this.hasrendered){var i=w.a.render({categories:[{id:"recent",title:object(n.default)("recently used"),is_recent:!0},{id:"new",title:object(n.default)("new!")},{id:"people",title:object(n.default)("smileys & people")},{id:"nature",title:object(n.default)("animals & nature")},{id:"food",title:object(n.default)("food & drink")},{id:"activity",title:object(n.default)("activity")},{id:"travel",title:object(n.default)("travel & places")},{id:"objects",title:object(n.default)("objects")},{id:"symbols",title:object(n.default)("symbols")},{id:"flags",title:object(n.default)("flags")}],skin_tones:[{value:"",title:object(n.default)("no skin tone")},{value:"1f3fb",title:object(n.default)("light skin tone")},{value:"1f3fc",title:object(n.default)("medium light skin tone")},{value:"1f3fd",title:object(n.default)("medium skin tone")},{value:"1f3fe",title:object(n.default)("medium dark skin tone")},{value:"1f3ff",title:object(n.default)("dark skin tone")}]});this.select("contentselector").html(i),this.hasrendered=!0,this.on(this.select("scrollablerowselector"),"scroll",{scrollablerowselector:p.default.throttle(this.checkscrollposition.bind(this),this.attr.scrollthrottledelayinms)})}this.skintone=this.getemojistore().getitem("skin_tone")||"",this.updatediversityrow(),this.setrecentcategoryitems(),this.setnewcategoryitems(),this.lastquery="",this.updateresults(),this.select("focusedselector").removeclass(this.attr.focusedclass),this.$node.hasclass("is-loading")&&this.trigger("uiemojiinfoload")},this.continueinitializing=function(t,e){e&&array.isarray(e.categories)&&this.$node.hasclass("is-loading")&&(this.emojiinfo=e,this.$node.removeclass("is-loading"),this.insertnextcategory(2))},this.setcategoryitems=function(t,e){var i=c.a.render({items:e});this.select("categoryresultselector").filter("[data-category=""+t+""]").find(this.attr.categoryitemsselector).html(i)},this.insertnextcategory=function(t){if(t<this.emojiinfo.categories.length){var e=this.emojiinfo.categories[t],i=e.items.split(" ");this.setcategoryitems(e.id,this.additemflags(i)),this.updateresults(),requestanimationframe(this.insertnextcategory.bind(this,t+1))}},this.updateresults=function(){this.updateimages(),this.updatecategoryvisibility()},this.getquerywords=function(){return(this.select("queryinputselector").val()||"").split(" ").map(h.a.normalizekeyword).filter(boolean).slice(0,y)},this.isquerymatched=function(t,e){return t.every(function(t){return e.some(function(e){return!e.indexof(t)})})},this.updateimages=function(){var e=this,i=this.getquerywords();i.length&&!this.hassearched&&(this.hassearched=!0,this.trigger("uiemojipickerresults")),this.select("itemselector").each(function(s,n){var o=!1,a=t(n),r=a.attr("data-key"),c=e.skintoneforitem(a);c&&(r=e.updatekeywithskintone(r,c));var l=h.a.infofromsingleemoji(h.a.hexcodepointstounicode(r));e.isquerymatched(i,l.keywords)&&(o=!0,a.attr("title",l.description).css("background-image","url(""+l.imageurl+"")")),a.toggleclass("u-hidden",!o)})},this.updatediversityrow=function(){this.select("skintoneselector").filter("[value=""+this.skintone+""]").prop("checked",!0)},this.skintoneforitem=function(t){return t.hasclass("is-diversity")&&this.skintone},this.updatekeywithskintone=function(t,e){return e?t.replace(/(?:-fe0f)?(?=-200d-)|(?:-fe0f)?$/,"-"+e):t},this.changeskintone=function(){this.skintone=this.select("skintoneselector").filter(":checked").val()||"",this.updatediversityrow(),this.updateresults(),this.getemojistore().setitem("skin_tone",this.skintone||""),this.haschangedskintone||(this.haschangedskintone=!0,this.trigger("uiemojipickerchangeskintone"))},this.getemojistore=function(){return this.emojistore||(this.emojistore=new c.a("emoji_"+u.a.user.id)),this.emojistore},this.setcategoryicon=function(t){this.select("categoryiconselector").removeclass(this.attr.activeclass).filter("[data-category=""+t+""]").addclass(this.attr.activeclass)},this.checkscrollposition=function(){if(this.$node.hasclass(this.attr.keyboardclass)){var e=this.select("focusedselector").closest(this.attr.categoryresultselector).attr("data-category");e&&this.setcategoryicon(e)}else{var i=this.select("scrollablerowselector");this.select("categoryresultselector").toarray().some(function(e){var s=t(e),n=e.offsettop-i[0].offsettop,o=!1;return n+s.height()>i[0].scrolltop&&(this.setcategoryicon(s.attr("data-category")),o=!0),o},this)}},this.updatecategoryvisibility=function(){var e=this;this.select("categoryiconselector").each(function(i,s){var n=t(s),o=t(s).attr("data-category"),a=e.$node.find(e.attr.categoryresultselector+'[data-category="'+o+'"]'),r=!a.find(e.attr.itemselector+":not(.u-hidden)").length;a.toggleclass("u-hidden",r),n.prop("disabled",r)}),this.checkscrollposition()},this.scrollcategoryresultintoview=function(t){var e=this.select("scrollablerowselector");e[0].scrolltop=t[0].offsettop-e[0].offsettop,this.checkscrollposition()},this.pickcategory=function(e){var i=t(e.target).attr("data-category"),s=this.$node.find(this.attr.categoryresultselector+'[data-category="'+i+'"]');this.scrollcategoryresultintoview(s)},this.getrecentarray=function(){var t=this.getemojistore().getitem("recent");return(array.isarray(t)?t:[]).slice(0,this.attr.maxrecents)},this.setrecentcategoryitems=function(){this.setcategoryitems("recent",this.getrecentarray().map(function(t){return{key:t}}))},this.clearrecent=function(t){this.getemojistore().removeitem("recent"),this.setrecentcategoryitems(),this.updatecategoryvisibility()},this.setnewcategoryitems=function(){var t=[];u.a.getdecidervalue("emojinewcategory")&&(t=["1f468-200d-1f9b0*","1f468-200d-1f9b1*","1f468-200d-1f9b2*","1f468-200d-1f9b3*","1f469-200d-1f9b0*","1f469-200d-1f9b1*","1f469-200d-1f9b2*","1f469-200d-1f9b3*","1f6f9","1f94d","1f94e","1f94f","1f96c","1f96d","1f96e","1f96f","1f970","1f973","1f974","1f975","1f976","1f97a","1f97c","1f97d","1f97e","1f97f","1f998","1f999","1f99a","1f99b","1f99c","1f99d","1f99e","1f99f","1f9a0","1f9a1","1f9a2","1f9b4","1f9b5*","1f9b6*","1f9b7","1f9b8-200d-2640-fe0f*","1f9b8-200d-2642-fe0f*","1f9b9-200d-2640-fe0f*","1f9b9-200d-2642-fe0f*","1f9c1","1f9c2","1f9e7","1f9e8","1f9e9","1f9ea","1f9eb","1f9ec","1f9ed","1f9ee","1f9ef","1f9f0","1f9f1","1f9f2","1f9f3","1f9f4","1f9f5","1f9f6","1f9f7","1f9f8","1f9f9","1f9fa","1f9fb","1f9fc","1f9fd","1f9fe","1f9ff","265ft","267e"]),this.select("newcategoryselector").toggleclass("u-hidden",!u.a.getdecidervalue("emojinewcategory")),this.setcategoryitems("new",this.additemflags(t))},this.additemflags=function(t){return t.map(function(t){return{key:t.replace(/[*=t]/g,""),is_diversity:t.indexof("*")>=0,is_variant:t.indexof("=")>=0,is_text_default:t.indexof("t")>=0}})},this.pickitem=function(e){var i=t(e.target),s=i.attr("data-key");e.shiftkey&&e.preventdefault();var n=this.skintoneforitem(i);n?s=this.updatekeywithskintone(s,n):!e.shiftkey&&i.hasclass("is-variant")&&(s+="-fe0f");var o=h.a.hexcodepointstounicode(s);this.hasadded||(this.hasadded=!0,this.trigger("uiemojipickeradd")),this.trigger("uiemojipicked",{key:s,unicode:o});var r=a.a.unique([s].concat(this.getrecentarray())).slice(0,this.attr.maxrecents);this.getemojistore().setitem("recent",r)},this.scrolintoview=function(t){var e=t.closest(this.attr.scrollablerowselector);if(e.length){var i=e[0],s=t[0].offsettop-i.offsettop,n=i.scrolltop,o=e.height()-t.outerheight(),a=this.attr.extrapixelstoscrollintoview;s<n+a?i.scrolltop=math.max(0,s-a):s-o>n-a&&(i.scrolltop=math.min(s-o+a,i.scrollheight-e.height()))}},this.movefocus=function(t,e){var i=this.select("focusedselector"),s=this.select("focusableselector"),n=s.index(i),o=s.length-1,a=void 0,r=e?o:0;do{n+=t,n<0?n=o:n>o&&(n=0),a=s.eq(n)}while(r-- >0&&!a.parent().children(":visible:first").is(a));if(i.removeclass(this.attr.focusedclass),e){var c=a.closest(this.attr.categoryresultselector);this.scrollcategoryresultintoview(c)}else this.scrolintoview(a);this.togglekeyboardfocus(!0),a.addclass(this.attr.focusedclass+" js-tooltip").tooltip("enable").tooltip("show");var l=a.attr("title");l&&a.attr("data-original-title",l).removeattr("title"),this.checkscrollposition()},this.preventdefaultandupdatequeryresults=function(t){t.preventdefault(),this.updateresultsifquerychanges()},this.querykeydown=function(e){switch(!e.metakey&&!e.ctrlkey&&e.which){case d.a.up:this.preventdefaultandupdatequeryresults(e),this.movefocus(-1);break;case d.a.down:this.preventdefaultandupdatequeryresults(e),this.movefocus(1);break;case d.a.page_up:this.preventdefaultandupdatequeryresults(e),this.movefocus(-1,!0);break;case d.a.page_down:this.preventdefaultandupdatequeryresults(e),this.movefocus(1,!0);break;case d.a.enter:this.preventdefaultandupdatequeryresults(e);var i=t.event("click",{shiftkey:e.shiftkey}),s=this.select("focusedselector");s.trigger(i),s.length>0?this.closedropdown():this.temporarilyactivateitem(s);break;case d.a.left:case d.a.right:default:this.togglekeyboardfocus(!1)}},this.temporarilyactivateitem=function(t){var e=this;t.addclass(this.attr.activeclass),settimeout(function(){return t.removeclass(e.attr.activeclass)},this.attr.temporarilyactivatedelayinms)},this.togglekeyboardfocus=function(t){this.$node.hasclass(this.attr.keyboardclass)!==t&&(this.$node.toggleclass(this.attr.keyboardclass,t),t||this.select("itemwithtooltipselector").removeclass("js-tooltip").tooltip("hide").tooltip("disable"))},this.setfocus=function(e){this.togglekeyboardfocus(!1);var i=t(e.target).closest(this.attr.focusableselector);i.hasclass(this.attr.focusedclass)||(this.select("focusedselector").removeclass(this.attr.focusedclass),i.addclass(this.attr.focusedclass))},this.clearfocus=function(e){t(e.target).closest(this.attr.focusableselector).removeclass(this.attr.focusedclass)},this.updateresultsifquerychanges=function(){var t=this.select("queryinputselector").val()||"";this.lastquery!==t&&(this.lastquery=t,this.updateresults())},this.clearquery=function(){this.select("queryinputselector").val("").focus(),this.updateresultsifquerychanges()},this.positiondropdown=function(){var t=this.adjacent(this.select("dropdownselector"),this.select("emojipickertriggerselector"),{gravity:this.attr.preferredgravity||"vertical-north",weight:this.attr.preferredweight,allowgravityswitch:this.attr.allowgravityswitch}),e="south"===t.gravity&&!this.attr.preventdropdownsopeningup;this.$node.toggleclass(this.attr.resultupclass,e),this.select("caretselector").toggleclass(this.attr.caretupclass,!e).toggleclass(this.attr.caretdownclass,e);var i="right"===t.weight;this.select("contentselector").toggleclass(this.attr.contentrightclass,i),this.$dropdown.find(this.attr.dropdownmenuselector).toggleclass(this.attr.dropdownmenualignrightclass,i)},this.positiondropdowndebounced=p.default.debounce(this.positiondropdown,100),this.toggletriggeractive=function(t){this.select("emojipickertriggerselector").toggleclass(this.attr.textusercolorclass,t)},this.onemojidropdownopened=function(){this.positiondropdown(),this.select("queryinputselector").focus(),this.on(window,"resize",this.positiondropdowndebounced),this.checkscrollposition(),this.activeel=null,this.trigger("uiemojipickeropen"),this.hasadded=!1,this.hassearched=!1,this.haschangedskintone=!1,this.toggletriggeractive(!0)},this.onemojidropdownclosed=function(){this.off(window,"resize",this.positiondropdowndebounced),this.togglekeyboardfocus(!1),this.select("queryinputselector").val(""),this.hasadded||this.trigger("uiemojipickercancel"),this.toggletriggeractive(!1)},this.after("initialize",function(){this.on("uidropdownopenrequested",this.preparedropdown),this.on("click",{categoryiconselector:this.pickcategory,itemselector:this.pickitem,clearrecentselector:this.clearrecent,clearqueryselector:this.clearquery}),this.on("change",{skintoneselector:this.changeskintone}),this.on("mousedown",{skintoneselector:this.preventfocusloss,categoryiconselector:this.preventfocusloss,itemselector:this.preventfocusloss,clearrecentselector:this.preventfocusloss}),this.on("mouseover",{focusableselector:this.setfocus}),this.on("mouseout",{focusableselector:this.clearfocus}),this.on("input",{queryinputselector:p.default.debounce(this.updateresultsifquerychanges,this.attr.querychangethrottledelayinms)}),this.on("keydown",{queryinputselector:this.querykeydown}),this.on("dataemojiinfoloaded",this.continueinitializing),this.on("uidropdownopened",this.onemojidropdownopened),this.on("uidropdownclosed",this.onemojidropdownclosed)})}var n=i("0d4m"),o=i("gugq"),a=i("kgvp"),r=i("q9/c"),c=i("wodx"),l=i("dbjh"),h=i("tlys"),d=i("i3qs"),u=i("iamj"),p=i("yzit"),f=i("1hky"),m=i("ohsy"),g=i("zvxx"),v=i("ajan"),b=i("lcsn"),w=i.n(b),s=i("d2kf"),c=i.n(s);e.a=object(l.default)(s,v.a);var y=4}).call(e,i("4ksj"))},jfpi:function(t,e,i){"use strict";function s(t,e,i){return e in t?object.defineproperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}i.d(e,"c",function(){return r}),i.d(e,"g",function(){return c}),i.d(e,"i",function(){return l}),i.d(e,"l",function(){return h}),i.d(e,"h",function(){return d}),i.d(e,"k",function(){return u}),i.d(e,"b",function(){return p}),i.d(e,"j",function(){return f}),i.d(e,"d",function(){return m}),i.d(e,"a",function(){return g}),i.d(e,"f",function(){return v}),i.d(e,"e",function(){return b});var n,o=i("0d4m"),a=i("2doy"),r=object.freeze({single_tweet:"off",first_tweet:"first",subsequent_tweet:"subsequent"}),c=object.freeze({hide_and_show:0,hide_only:1,show_only:2}),l=object.freeze({tweetbox:[300,"easeoutquad"],toolbar:[200,"easeoutquad"],delay:0}),h=object.freeze({none:"none",media:"media",poll:"poll",tweet:"tweet"}),d=object.freeze({photo:"photo",gif:"gif",video:"video",none:"none"}),u=object.freeze({media:60,poll:10,tweet:30}),p={card:{send:"datatweetstormcardsend",send_success:"datatweetstormcardsendsuccess",send_error:"datatweetstormcardsenderror"},media:{send_batch:"datatweetstormmediasendbatch",send_batch_success:"datatweetstormmediasendbatchsuccess",send_success:"datatweetstormmediasendsuccess",send_error:"datatweetstormmediasenderror"},tweet:{send:"datatweetstormtweetsend",send_success:"datatweetstormtweetsendsuccess",send_error:"datatweetstormtweetsenderror"}},f=object.freeze((n={},s(n,a.a.duplicatestatuserror,object(o.default)("you have already sent this tweet.")),s(n,a.a.mentionlimitintweetexceeded,object(o.default)("the text of your tweet exceeds the number of allowed @mentions.")),s(n,a.a.urllimitintweetexceeded,object(o.default)("the text of your tweet exceeds the number of allowed urls.")),s(n,a.a.hashtaglimitintweetexceeded,object(o.default)("the text of your tweet exceeds the number of allowed hashtags.")),s(n,a.a.cashtaglimitintweetexceeded,object(o.default)("the text of your tweet exceeds the number of allowed cashtags.")),s(n,a.a.hashtaglengthlimitintweetexceeded,object(o.default)("the text of your tweet contains a hashtag that is longer than allowed.")),s(n,a.a.inreplytotweetnotfound,object(o.default)("you attempted to reply to a tweet that is deleted or not visible to you.")),s(n,a.a.attachmenttypeslimitintweetexceeded,object(o.default)("the tweet exceeds the number of allowed attachment types.")),n)),m=object.freeze({titletext:object(o.default)("remove this tweet?"),bodytext:object(o.default)("are you sure you want to remove this tweet from your thread?"),canceltext:object(o.default)("cancel"),submittext:object(o.default)("remove"),action:"removetweetfromthread"}),g=object.freeze({titletext:object(o.default)("send twitter alerts"),bodytext:object(o.default)("are you sure you want to send twitter alerts to your followers?"),canceltext:object(o.default)("cancel"),submittext:object(o.default)("send"),action:"sendlifelinealert"}),v=object.freeze({titletext:object(o.default)("discard this tweet?"),bodytext:object(o.default)("are you sure you want to discard this tweet?"),canceltext:object(o.default)("cancel"),submittext:object(o.default)("discard"),action:"closetweetstormdialog"}),b=object.freeze({titletext:object(o.default)("discard this thread?"),bodytext:object(o.default)("are you sure you want to discard this thread?"),canceltext:object(o.default)("cancel"),submittext:object(o.default)("discard"),action:"closetweetstormdialog"})},jggw:function(t,e,i){"use strict";function s(){this.requestanimationframe=window.requestanimationframe.bind(window),this.attributes({conversationcontentselector:".dmconversation-content",pagebackrange:500,scrollcontainerselector:".dmconversation-scrollcontainer",spinnerselector:".dmconversation-spinner"}),this.checkforconversationhistory=function(){var t=this;this.requestanimationframe(function(){!t.$spinner.hasclass("u-hidden")&&0!==t.$scrollcontainer.prop("clientheight")&&(t.$content.prop("clientheight")<t.$scrollcontainer.prop("clientheight")||t.$scrollcontainer.prop("scrolltop")<t.attr.pagebackrange)&&t.trigger("uiwantsconversationhistory")})},this.after("initialize",function(){this.$content=this.select("conversationcontentselector"),this.$scrollcontainer=this.select("scrollcontainerselector"),this.$spinner=this.select("spinnerselector"),this.on(this.$scrollcontainer,"scroll",o.default.debounce(this.checkforconversationhistory,250)),this.on("uidmconversationupdated",this.checkforconversationhistory)})}var n=i("dbjh"),o=i("yzit");e.a=object(n.default)(s)},jkw3:function(t,e,i){"use strict";e.a=function(){this.matchmedia=function(t){return window.matchmedia&&window.matchmedia(t)},this.getbreakpoint=function(){return this.matchmedia("(min-width: 1271px)").matches?"wide":this.matchmedia("(min-height: 901px)").matches?"narrow_tall":"narrow_short"}}},jsdv:function(t,e,i){"use strict";e.a={file_too_large:"toolarge",file_unsupported:"fileunsupported",gif_limit:"giflimit",gif_too_large:"giftoolarge",gif_unsupported:"gifunsupported",io_error:"ioerror",not_image:"notimage",mixed_media:"mixedmedia",video_too_large:"videotoolarge",too_many_videos_1:"videostoomany1",too_many_photos_1:"photostoomany1",too_many_photos:"photostoomany"}},jtih:function(t,e,i){"use strict";function s(){this.defaultattrs({maxsizeinbytes:52428800,uploadtype:"",gifsupport:!0,imageformats:["image/gif","image/jpeg","image/jpg","image/png"]}),this.maxgifsizeinbytes=function(){return 1048576*l.a.getdecidervalue("photosrugiflimitmb")},this.imageformats=function(t){return t?this.attr.imageformats.filter(function(t){return"image/gif"!==t}).join(","):this.attr.imageformats.join(",")},this.validateimage=function(t){if(t){if(!a.a.validatefilesize(t,this.attr.maxsizeinbytes))return this.addfileerror(o.a.file_too_large),!1}return!0},this.validategif=function(t){if(t){if(!this.attr.gifsupport)return this.addfileerror(o.a.gif_unsupported),!1;if(!a.a.validatefilesize(t,this.maxgifsizeinbytes()))return this.addfileerror(o.a.gif_too_large),!1}return!0},this.resizeimage=function(t){return t.isgif?promise.resolve(t):r.a.resize(t.filehandle).then(function(e){return a.a.revokeobjecturl(t.thumbnail.src),c.a.update(t.fileid,{filehandle:e,thumbnail:{src:a.a.getobjecturl(e)}})}).then(n.a)},this.gotimagedata=function(t){var e=this;this.resizeimage(t).then(function(t){var i=void 0,s=e.mediaitems&&e.mediaitems.length,n=s?c.a.get(e.mediaitems[0]).isgif:null,a=t.fileid;if(s&&(t.isgif&&!n||!t.isgif&&n?i=o.a.mixed_media:t.isgif&&n?i=o.a.gif_limit:e.attr.photolimit&&e.attr.photolimit<=e.mediaitems.length&&(i=o.a.too_many_photos)),i)return void e.addfileerror(i);e.trigger("uiimagepickeradd",h.default.merge({message:"flash"},e.eventdataoverrides,!0)),e.select("filenameselector").attr("value",t.filename),e.notifyfileselected({fileid:a,uploadtype:e.attr.uploadtype})})}}var n=i("lsuw"),o=i("jsdv"),a=i("+dwm"),r=i("pszh"),c=i("h6fk"),l=i("iamj"),h=i("yzit");e.a=s},jzgn:function(t,e,i){"use strict";function s(t){var e=t.alttext?{alt_text:{text:t.alttext}}:{},i=t.foundmediaorigin?{found_media_origin:t.foundmediaorigin}:{};return a({},e,i)}function n(){this.uploadmetadata=function(t,e){var i=s(e);return new promise(function(e,s){if(i&&"{}"!==json.stringify(i)){var n=new xmlhttprequest;n.open("post",r,!0),n.withcredentials=!0,n.timeout=c,n.onload=function(){n.status>=200&&n.status<400?e(t):s(l)},n.ontimeout=n.onerror=function(){s(l)},n.send(json.stringify(a({media_id:t},i)))}else e(t)})}}var o=i("0d4m"),a=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},r="https://upload.twitter.com/i/media/metadata/create.json" ,c=4e3,l=object(o.default)("uploading media metadata failed! please try again later.");e.a=n},jdpb:function(t,e,i){"use strict";(function(t){function s(){n.default.mixin(this,[o.a]),this.defaultattrs({navigationactiveclass:"js-navigation-active",selectedclass:"selected-stream-item",unselectableclass:"js-unselectable-stream-item",firstitemselector:".js-stream-item:first-child:not(.js-unselectable-stream-item)",profilepageselector:".route-profile",profileowneruseridselector:".profilenav .user-actions",pushstateselector:"a.js-nav",selectedselector:".selected-stream-item"}),this.moveselection=function(e){var i=this,s=t(e.target);if(!s.closest(this.attr.selectedselector).length){var n=s.closest(this.attr.genericitemselector);s.closest(this.attr.pushstateselector).length&&(this.$linkclicked=n,cleartimeout(this.linktimer),this.linktimer=settimeout(function(){return i.$linkclicked=t()},0)),this.$selected.length&&this.selectitem(n)}},this.clearselection=function(){var e=t(this.attr.selectedselector);this.$previousselection=e,e.removeattr("tabindex").removeclass(this.attr.selectedclass),this.$selected=t(),this.trigger(e,"uitimelineselectioncleared")},this.selecttopitemhandler=function(){this.selecttopitem()},this.selecttopitem=function(t){this.clearselection(),this.trigger("uiinjectnewitems",t||{}),this.selectadjacentitem("next",{scrolltotop:!0})},this.injectandpossiblyselecttopitem=function(t,e){var i=this.$selected.length;i&&this.clearselection(),this.trigger("uiinjectnewitems",e||{}),i&&this.selectadjacentitem("next")},this.selecttopitembykeyboard=function(){this.selecttopitem({wasperiodpress:!0})},this.selectprevitem=function(){this.selectadjacentitem("prev")},this.selectnextitem=function(t,e){this.selectadjacentitem("next",e)},this.selectnextadjacentitem=function(){var t=this.$selected;this.selectadjacentitem("next"),t===this.$selected&&this.selectadjacentitem("prev")},this.selectnextitemnotfrom=function(t){for(var e="next" ,i=this.$selected;this.getuseridfromnode(this.$selected)===t;)if(this.selectadjacentitem(e),i===this.$selected){if("next"!==e)return;e="prev"}else i=this.$selected},this.getadjacentparentitem=function(t,e){var i=t.closest(".js-navigable-stream"),s=t;return i.length&&(t=i.closest(".js-stream-item"),s=t[e](),!s.length)?this.getadjacentparentitem(t,e):s},this.getadjacentchilditem=function(t,e){var i=t,s=i.hasclass("js-has-navigable-stream"),n="next"===e?"first-child":"last-child";return i.length&&s?(i=i.find(".js-navigable-stream").eq(0).find(">li:"+n),this.getadjacentchilditem(i,e)):i},this.selectadjacentitem=function(t,e){var i=void 0;if(i=this.$selected.length?this[t](this.$selected):this.select("firstitemselector").eq(0),i.length||(i=this.getadjacentparentitem(this.$selected,t)),i=this.getadjacentchilditem(i,t),i.length&&i.hasclass(this.attr.unselectableclass))return this.$selected=i,this.selectadjacentitem(t,e);this.selectitem(i);var s="next"===t?"uinextitemselected":"uipreviousitemselected";this.trigger(this.$selected,s),this.focusselected(),!i.length||e&&e.maintainposition||this.adjustscrollforselecteditem(e)},this.next=function(t){return t.next()},this.prev=function(t){return t.prev()},this.selectitem=function(t){t.length&&this.$selected!==t&&(this.clearselection(),this.$selected=t,this.$selected.addclass(this.attr.selectedclass),this.trigger(this.$selected,"uitimelineitemselected"))},this.focusselected=function(){var t=this;this.$selected.attr("tabindex",-1).focus(),settimeout(function(e){return t.trigger(e,"uiaftertimelineselectionfocused")},0,this.$previousselection)},this.deselect=function(e){var i=-1!==["html","body"].indexof(e.target.tagname),s="page-outer"===e.target.id&&!t(e.target).parents("#page-container").length;(i||s)&&this.clearselection()},this.muteuser=function(){this.triggerblockactiononnode(this.$selected,"uididmuteuser")},this.blockuser=function(){this.triggerblockactiononnode(this.$selected,"uiopenblockuserdialog")},this.updateafterblock=function(e,i){var s=i.userid.tostring()===t(this.attr.profileowneruseridselector).attr("data-user-id"),n=0!==t(this.attr.profilepageselector).length;s?this.trigger("uihideprofiletweets"):n||(this.selectnextitemnotfrom(i.userid),this.trigger("uiremovetweetsfromuser",i))},this.removetweetsandengagementsfromuser=function(t,e){this.selectnextitemnotfrom(e.userid),this.trigger("uiremovetweetsfromuser",e)},this.updateselectionbeforedelete=function(t,e){this.select("genericitemselector").length&&this.$selected.attr("data-item-id")===e.sourceeventdata.id.tostring()&&this.selectnextadjacentitem()},this.adjustscrollforitem=function(e,i){i&&i.scrolltotop?t(window).scrolltop(0):e.length&&t(window).scrolltop(e.offset().top-t(window).height()/10)},this.notifyexpansionrequest=function(e,i){var s=this.$selected.find(".tweet"),n=s.data("permalink-path"),o=s.data("conversation-id");n&&t(document).trigger("uinavigate",{href:n,conversation_id:o})},this.adjustscrollforselecteditem=function(t){this.adjustscrollforitem(this.$selected,t)},this.processactivenavigation=function(){settimeout(this.removeactivenavigationclass.bind(this),2e3)},this.setnavigationactive=function(){this.$linkclicked.addclass(this.attr.navigationactiveclass)},this.removeactivenavigationclass=function(){this.$node.find("."+this.attr.navigationactiveclass).removeclass(this.attr.navigationactiveclass)},this.handleevent=function(e){return function(){t("body").hasclass("modal-enabled")||this[e].apply(this,arguments)}},this.changeselection=function(e,i){var s=t(e.target);this.$selected.length&&(this.selectitem(s),i&&i.setfocus&&this.focusselected())},this.after("initialize",function(){this.$selected=this.$node.find(this.attr.selectedselector),this.$linkclicked=t(),this.on(document,"uishortcutselectprev",this.handleevent("selectprevitem")),this.on(document,"uishortcutselectnext uiselectnext",this.handleevent("selectnextitem")),this.on(document,"uiselectitem",this.handleevent("changeselection")),this.on(document,"uishortcutenter",this.handleevent("notifyexpansionrequest")),this.on(document,"uiselecttoptweet",this.handleevent("selecttopitemhandler")),this.on(document,"uishortcutgototopofscreen",this.handleevent("selecttopitembykeyboard")),this.on(document,"uigototopofscreen",this.handleevent("injectandpossiblyselecttopitem")),this.on(document,"uishortcutmuteuser",this.handleevent("muteuser")),this.on(document,"uishortcutblock",this.handleevent("blockuser")),this.on(document,"uiupdateafterblock",this.updateafterblock),this.on(document,"uiremovetweetsandengagementsfromuser",this.removetweetsandengagementsfromuser),this.on(document,"uibeforetweetremoved",this.updateselectionbeforedelete),this.on(document,"uiremovedsometweets",this.adjustscrollforselecteditem),this.on(document,"uibeforepagechanged uiclearselection",this.clearselection),this.on(document,"uipagechanged",this.processactivenavigation),this.on("click",{genericitemselector:this.moveselection}),this.on(document,"uinavigate",this.setnavigationactive),this.on(document,"click",this.deselect)})}var n=i("q9/c"),o=i("xopl");e.a=s}).call(e,i("4ksj"))},jhol:function(t,e,i){"use strict";function s(t){var e={woeid:-1,placetypecode:-1,name:object(o.default)("no results were found. try selecting from a list.")};this.attr={id:null,items:[],limit:10},this.attr=n.default.merge(this.attr,t),this.getremotesuggestions=function(t,e,i){return i},this.requiresremotesuggestions=function(t){return!1},this.getlocalsuggestions=function(t,i){var s=this.attr.items,n=function(t){return t.replace(/\s+/g,"").tolowercase()};if(t&&t.query){var o=n(t.query);s=this.attr.items.filter(function(t){return 0===n(t.name).indexof(o)})}i(s.length?s.slice(0,this.attr.limit):[e])},this.settrendlocations=function(t){this.attr.items=t.trendlocations}}var n=i("yzit"),o=i("0d4m");e.a=s},k6ly:function(t,e,i){"use strict";function s(){this.defaultattrs({blockuserlabelselector:".block-user-label",blockusertextselector:".block-user-text",blockbuttonselector:".block-button",blockinputselector:"input[name=block_user]"}),this.setupdialog=function(t,e){this.eventdata=e,this.settriggeredtarget(),this.setscreennametext(),this.iscomplete=!1,this.open()},this.settriggeredtarget=function(){"user"===this.eventdata.target?this.$node.addclass("block-from-user"):this.$node.removeclass("block-from-user")},this.setscreennametext=function(){this.select("blockuserlabelselector").text(object(o.default)("block @{{screenname}}?",this.eventdata)),this.select("blockusertextselector").text(object(o.default)("@{{screenname}} will no longer be able to follow or message you, and you will not see notifications from @{{screenname}}.",this.eventdata))},this.submitblock=function(){this.trigger("uiblockaction",{eventdata:this.eventdata,tweetid:this.eventdata.tweetid,userid:this.eventdata.userid,screenname:this.eventdata.screenname,impressionid:this.eventdata.impressionid,disclosuretype:this.eventdata.disclosuretype,scribecontext:{component:"block_dialog",element:"user"===this.eventdata.target?"user":"tweet"}}),this.trigger("uididtriggerblockingaction",{userid:this.eventdata.userid}),this.iscomplete=!0,this.close()},this.around("close",function(t){this.isopen()&&!this.iscomplete&&this.trigger("uiblockdialogcancel",this.eventdata),t()}),this.after("initialize",function(){this.on(document,"uineedsblockdialog",this.setupdialog),this.on("click",{blockbuttonselector:this.submitblock})})}var n=i("dbjh"),o=i("0d4m"),a=i("uhc7"),r=object(n.default)(a.a,s);e.a=r},kqm4:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({disablekeyboardshortcuts:!0,globaltweetboxdialogselector:"#global-tweet-dialog",globaltweetboxselector:"#global-tweet-dialog form.tweet-form",globaltweetformgifpickerselector:".tweet-form .found-media-search",top:"20%"}),this.openreply=function(t,e){this.displaytweet(e.retweetid||e.id,{modal:"reply"});var i={},s=e.isreplylinkclick&&e.canbeselfthreaded;i.htmltitle=s?object(r.default)("add another tweet"):l.a.render({in_reply_to_user:e.replytousers[0]}),e.semanticannotationids&&(i.semanticannotationids=e.semanticannotationids),this.opentweetdialog(t,h({},e,i))},this.opentweetdialog=function(e,i){var s=t(this.attr.globaltweetboxselector),n=void 0;if(i&&i.htmltitle?this.select("modaltitleselector").html(i.htmltitle):this.select("modaltitleselector").text(i&&i.title||object(r.default)("compose new tweet")),this.tweetboxready||(n={autoplaydisabled:this.attr.autoplaydisabled,eventdata:{scribecontext:{component:"tweet_box_dialog"}},thumbnailsize:"large",environment:this.attr.environment,videosupport:!0,tweetboxdialogselector:this.attr.globaltweetboxdialogselector,tweetboxdialogtype:"tweet_box_dialog"},this.trigger(s,"uiinittweetbox",n),this.tweetboxready=!0),i){if(!i.id){var o=null;i.screennames?o=i.screennames:i.screenname&&(o=[i.screenname]),o&&(i.defaulttext="@"+o.join(" @")+" ")}i.text&&(i.defaulttext=" "+i.text),this.trigger(s,"uioverridetweetboxoptions",i)}if(this.open(),this.trigger(s,"uicomposerresetandfocus"),i&&i.attachimageurls){var a=this;t.each(i.attachimageurls,function(t,e){a.trigger(a.select("globaltweetformgifpickerselector"),"uiattachimageurl",{url:e,isimage:!0,mediacategoryprefix:"tweet_",skipsourceurl:!0})})}},this.preventdefaultdialogfocus=function(t){this.isopen()&&this.$dialog.is(t.target)&&t.preventdefault()},this.after("initialize",function(){this.on(document,"uidialoginitialfocus",this.preventdefaultdialogfocus),this.on(document,"uiopentweetdialog",this.opentweetdialog),this.on(document,"uiopenreplydialog",this.openreply),this.on("uitweetsent",this.close),this.on("uidialogclosed",this.removetweet)})}var n=i("dbjh"),o=i("uhc7"),a=i("wqlg"),r=i("0d4m"),c=i("zlk3"),l=i.n(c),h=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},d=object(n.default)(s,o.a,a.a);e.a=d}).call(e,i("4ksj"))},kunr:function(t,e,i){"use strict";function s(){this.defaultattrs({retweetstatselector:".js-stat-retweets a",favoritestatselector:".js-stat-favorites a",tweetstatcountselector:"data-tweet-stat-count",displaycountselector:"strong"}),this.updatesocialproofstats=function(t,e){var i=this;t.target===document&&e.stats&&e.stats.foreach(function(t){var e=i.findtweetorretweet(t.status_id),s=e.find(i.socialproofstatelementselectorfor(t.name));i.updatesocialproofstat(s,t)})},this.socialproofstatelementselectorfor=function(t){return{retweet:this.attr.retweetstatselector,favorite:this.attr.favoritestatselector}[t]},this.updatesocialproofstat=function(t,e){t.attr(this.attr.tweetstatcountselector,e.count),t.find(this.attr.displaycountselector).text(e.commaized_count)},this.after("initialize",function(){this.on("datagottweetstats",this.updatesocialproofstats)})}e.a=s},kaxq:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("<div class="dmsendingstateindicator">\n <span>sending message '),s.b(s.v(s.f("current",t,e,0))),s.b(" of "),s.b(s.v(s.f("total",t,e,0))),s.b("</span>\n <span>...</span>\n</div>"),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},kbkg:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({dmimagepreviewselector:".dm-media-preview",dmpreviewselector:".dm-media"}),this.loadimage=function(e,i){var s=this,n=t('<img class="dm-media-image" />'),o=this.select("dmimagepreviewselector");o.empty(),n.on("load",function(t){o.empty().append(n),n.attr({"data-height":n[0].height,"data-width":n[0].width}),r.a.resizemedia(n,s.select("dmpreviewselector")),s.position();var e=parsefloat(n.css("margin-top"));e&&n.css("margin-bottom",e),s.trigger("uidmmedialoaded",{url:n.attr("src"),id:i})}),n.on("error",function(t){return s.trigger("uidmmediafailed",{url:n.attr("src"),id:i})}),n.attr("src",e),o.addclass("js-initial-focus")},this.opendialog=function(t,e){this.calculatescrollbarwidth(),r.a.resetminsize(this.select("dmpreviewselector")),this.loadimage(e.imgurl,e.dmid),this.open()},this.renderconversation=function(t,e){this.trigger("uidmdialogmediapreviewclosed")},this.after("initialize",function(){this.on(document,"uidmdialogmediapreview",this.opendialog),this.on("uidialogcloserequested",this.renderconversation)})}var n=i("dbjh"),o=i("uhc7"),a=i("mrbi"),r=i("hotm");e.a=object(n.default)(s,o.a,a.a)}).call(e,i("4ksj"))},kczs:function(t,e,i){"use strict";function s(){this.defaultattrs({mutebuttonnotificationsselector:".dm-mute-notifications-dialog .modal-submit",mutedurationradioselector:'input[name="dm[mute_notifications_duration]"]:checked',defaultcheckedradioselector:'input[name="dm[mute_notifications_duration]"][value="1"]'}),this.opendialog=function(t,e){this.select("defaultcheckedradioselector").prop("checked",!0),this.conversationid=e.conversation_id,this.open()},this.submitmutenotifications=function(){var t=this.select("mutedurationradioselector").val();this.trigger("uitogglenotifications",{conversation_id:this.conversationid,enable_notifications:!1,mute_duration:this.select("mutedurationradioselector").val()}),this.trigger("uidmupdatenotificationsstate",a({},this.getmutedata(t),{is_muted:!0}))},this.getmutedata=function(t){var e={1:1,2:8,3:168},i=e[t];return{mute_expiration_time:i?date.now()+i*r:null,is_short_interval:i?i<=24:null}},this.after("initialize",function(){this.on(document,"uidmdialogmutenotifications",this.opendialog),this.on(this.attr.mutebuttonnotificationsselector,"click",this.submitmutenotifications)})}var n=i("dbjh"),o=i("uhc7"),a=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t};e.a=object(n.default)(s,o.a);var r=36e5},kjck:function(t,e,i){"use strict";(function(t){function s(){this.checkscrollposition=function(){var t=this.webkitfullscreenelement();if(!t||this.node===t||t.contains(this.$content[0])){var e=this.$content.height(),i=void 0;this.__immediatelyrequestmoreitems?(this.__immediatelyrequestmoreitems=!1,i="uinearthebottom",this.__lasttriggerfrom=1):this.intriggerrange(0)&&(e>this.__lasttriggeredheight||this.lasttriggeredfrom(1))?(i="uinearthetop",this.__lasttriggerfrom=0):this.intriggerrange(1)&&(e>this.__lasttriggeredheight||this.lasttriggeredfrom(0))&&(i="uinearthebottom",this.__lasttriggerfrom=1),i&&(this.__lasttriggeredheight=e,this.trigger(i))}},this.intriggerrange=function(t){var e=this.$content.height(),i=this.$node.scrolltop(),s=i+this.$node.height(),n=math.abs(math.min(s-e,0)),o=this.$node.height()/2;return i<o&&0===t||n<o&&1===t},this.lasttriggeredfrom=function(t){return this.__lasttriggerfrom===t},this.resetscrollstate=function(){this.__lasttriggeredheight=0,this.__lasttriggerfrom=-1},this.webkitfullscreenelement=function(){return document.webkitfullscreenelement},this.after("initialize",function(){this.resetscrollstate(),this.__immediatelyrequestmoreitems=this.attr.immediatelyrequestmoreitems,this.$content=this.attr.contentselector?this.select("contentselector"):t(document),this.on("scroll",o.default.throttle(this.checkscrollposition.bind(this),100)),this.on("uitimelinereset",this.resetscrollstate),this.on("uiswiftloaded uipagechanged",this.checkscrollposition)})}var n=i("dbjh"),o=i("yzit"),a=object(n.default)(s);e.a=a}).call(e,i("4ksj"))},lsuw:function(t,e,i){"use strict";function s(t){return n.a.getdimensions(t.thumbnail.src).then(function(e){var i={thumbnail:{width:e.width,height:e.height}};return o.a.update(t.fileid,i)})}var n=i("ogfk"),o=i("h6fk");e.a=s},lvmq:function(t,e,i){"use strict";function s(){n.default.mixin(this,[a.a]),this.defaultattrs({foundmediasearch:".found-media-search"}),this.attachedimageurl=function(t,e){this.foundmediainfo=e},this.removedattachment=function(){this.foundmediainfo=void 0},this.after("initialize",function(t){this.attachchild(o.a,this.select("foundmediasearch"),{autoplaydisabled:this.attr.autoplaydisabled,eventdata:this.attr.eventdata,preferredgravity:this.attr.preferredgravity,preferredweight:this.attr.preferredweight,preventdropdownsopeningup:this.attr.preventdropdownsopeningup,restorefocusonclose:!0,scribecontext:this.attr.scribecontext,mediacategoryprefix:this.attr.dmonly?"dm_":"tweet_"}),this.on("uiattachimageurl",this.attachedimageurl),this.on("uipreviewthumbnailremove uipreviewthumbnailremoveall",this.removedattachment)})}var n=i("q9/c"),o=i("gahx"),a=i("ajan");e.a=s},lywl:function(t,e,i){"use strict";function s(t,e){if(!(t instanceof e))throw new typeerror("cannot call a class as a function")}var n=i("cztd"),o=i.n(n),a=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),object.defineproperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),r={},c=function(){function t(){s(this,t),this.polloptions=["",""],this.validoptions=[],this.isvalid=!1,this.customduration=null}return a(t,[{key:"addpolloption",value:function(t){this.length<4&&(this.polloptions.push(t||""),this._validateoptions())}},{key:"deletepolloption",value:function(t){this.length>2&&(this.polloptions.splice(t,1),this._validateoptions())}},{key:"updatepolloption",value:function(t,e){this.polloptions[t]=e,this._validateoptions()}},{key:"_validateoptions",value:function(){var t=this,e=this.polloptions.some(this._invalidrule);this.validoptions=this.polloptions.filter(function(e){return e.trim().length&&!t._invalidrule(e)}).map(function(t){return t.trim()}),this.isvalid=!(e||this.validoptions.length<2)}},{key:"_invalidrule",value:function(t){return o.a.getunicodetextlength(t)>25}},{key:"_getcardname",value:function(t){return"poll"+t+"choice_text_only"}},{key:"_getchoicename",value:function(t){return"twitter:string:choice"+t+"_label"}},{key:"length",get:function(){return this.polloptions.length}},{key:"createdata",get:function(){var t=this;if(this.isvalid){var e={"twitter:card":this._getcardname(this.validoptions.length),"twitter:api:api:endpoint":"1"};return this.validoptions.foreach(function(i,s){e[t._getchoicename(s+1)]=i},this),this.customduration&&(e["twitter:long:duration_minutes"]=this.customduration),e}}}]),t}(),l={getpoll:function(t){return t in r||(r[t]=new c),r[t]},putpoll:function(t,e){r[t]=e},deletepoll:function(t){t in r&&delete r[t]},deleteallpoll:function(){var t=!0,e=!1,i=void 0;try{for(var s,n=object.keys(r)[symbol.iterator]();!(t=(s=n.next()).done);t=!0){var o=s.value;delete r[o]}}catch(t){e=!0,i=t}finally{try{!t&&n.return&&n.return()}finally{if(e)throw i}}},max_option_length:25,min_option_count:2,max_option_count:4};e.a=l},lcya:function(t,e,i){"use strict";(function(t){function s(t,e,i){var s=0,n="";return e(t).foreach(function(e){n+=t.slice(s,e.indices[0])+i(t.slice(e.indices[0],e.indices[1])),s=e.indices[1]}),n+t.slice(s)}function n(){this.defaultattrs({isrtl:"rtl"===t("body").attr("dir"),rtlcharregex:/[\u0600-\u06ff]|[\u0750-\u077f]|[\u0590-\u05ff]|[\ufe70-\ufeff]/gm,dirmarkregex:/\u200e|\u200f/gm,rtlthreshold:.3}),this.shouldbertl=function(t,e,i){void 0===i&&(i=t.match(this.attr.rtlcharregex));var s=t.trim();if(!s)return this.attr.isrtl;if(!i)return!1;var n=s.length-e;return n>0&&i.length/n>this.attr.rtlthreshold},this.removemarkers=function(t){return t.replace(this.attr.dirmarkregex,"")},this.setmarkersandrtl=function(t,e){var i=e.match(this.attr.rtlcharregex),n=0;if(i){t=e,t=s(t,a.a.extractmentionswithindices,function(t){return n+=t.length+1,""+t+""});var o=this.attr.rtlcharregex;t=s(t,a.a.extracthashtagswithindices,function(t){return t[1].match(o)?t:""+t}),t=s(t,a.a.extracturlswithindices,function(t){return n+=t.length+2,t+""})}var r=this.shouldbertl(e,n,i);return this.$text.attr("dir",r?"rtl":"ltr"),t},this.erasepastmarkers=function(t){var e=void 0;if(8===t.which)e=-1;else{if(46!==t.which)return;e=0}var i=r.a.getposition(this.$text[0]),s=this.$text.val(),n=0,o=void 0;do{(o=s[i+e]||"")&&(i+=e,n++,s=s.slice(0,i)+s.slice(i+1))}while(o.match(this.attr.dirmarkregex));n>1&&(this.$text.val(s),r.a.setposition(this.$text[0],i),t.preventdefault(),this.detectupdatedtext())},this.around("cleantext",function(t,e){var i=this.removemarkers(t(e)),s=this.setmarkersandrtl(e,i);if(s!==e){var n=this.$text[0],o=r.a.getposition(n);this.$text.val(s),this.prevtext=s,r.a.setposition(n,o+s.length-e.length)}return i}),this.after("inittextnode",function(){this.on(this.$text,"keydown",this.erasepastmarkers)})}var o=i("cztd"),a=i.n(o),r=i("mj5m");e.a=n}).call(e,i("4ksj"))},lrhz:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({tcoselector:".js-display-url",appendtarget:"head"}),this.preconnect=function(e){var i=e.target.parentnode,s=i&&i.href,n=i&&i.getattribute("data-expanded-url");n&&s&&0===s.indexof("https://t.co/")&&t('<link rel="preconnect">').attr({href:n}).appendto(this.attr.appendtarget)},this.after("initialize",function(){this.on("click",{tcoselector:this.preconnect})})}var n=i("dbjh"),o=object(n.default)(s);e.a=o}).call(e,i("4ksj"))},ltqk:function(t,e,i){"use strict";function s(){this.defaultattrs({hoverfetchdelay:100,noshowerror:!0,statsname:"swift_profile_popup"}),this.usercache={screennames:object.create(null),ids:object.create(null)},this.socialproofcache={screennames:object.create(null),ids:object.create(null)},this.savetocache=function(t,e){t.ids[e.user_id]=e,t.screennames[e.screen_name]=e},this.retrievefromcache=function(t,e){var i=void 0;return e.userid?i=t.ids[e.userid]:e.user_id?i=t.ids[e.user_id]:e.screenname?i=t.screennames[e.screenname]:e.screen_name&&(i=t.screennames[e.screen_name]),i},this.invalidatecaches=function(t,e){var i=void 0,s=void 0,n=void 0;e.userid?(i=e.userid,n=this.usercache.ids[i],s=n&&n.screen_name):(s=e.screenname,n=this.usercache.screennames[s],i=n&&n.user_id),i&&delete this.usercache.ids[i],i&&delete this.socialproofcache.ids[i],s&&delete this.usercache.screennames[s],s&&delete this.socialproofcache.screennames[s]},this.getprofilepopupmain=function(t,e){var i=this,s=function(t){i.savetocache(i.usercache,t),i.trigger("dataprofilepopupsuccess",t);var e=i.retrievefromcache(i.socialproofcache,t);e&&i.trigger("datasocialproofsuccess",e)},n=function(t){return i.trigger("dataprofilepopupfailure",t)},o=this.retrievefromcache(this.usercache,t);if(o)return o.sourceeventdata=t,void s(o);var a=function(){i.pendingremoterequest=null,i.get({url:"/i/profiles/popup",data:e,eventdata:t,cache:!1,success:s,error:n})};e.wants_hovercard?this.pendingremoterequest=settimeout(a,this.attr.hoverfetchdelay):a()},this.getprofilepopup=function(t,e){var i={};e.screenname?i.screen_name=e.screenname:e.userid&&(i.user_id=e.userid),e.ishoverrequest&&(i.wants_hovercard=!0),this.getprofilepopupmain(e,i)},this.hideprofilehover=function(){this.pendingremoterequest&&(cleartimeout(this.pendingremoterequest),this.pendingremoterequest=null)},this.after("initialize",function(){this.on("uiwantsprofilepopup",this.getprofilepopup),this.on("uihideprofilehover",this.hideprofilehover),this.on(document,"datafollowstatechange datauseractionsuccess datadidmuteuser datadidunmuteuser",this.invalidatecaches)})}var n=i("dbjh"),o=i("vtwx"),a=object(n.default)(s,o.a);e.a=a},mc7r:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({supportedchallengetypes:["captcha"],captchaname:"captcha",defaultcompletionmessage:object(o.default)("challenge completed."),recaptchaloadtime:100,maxcaptchaloadretries:3}),this.hitchallengeendpoint=function(t){this.get({url:"/account/challenge",data:{challenge:t.challenge,response:t.response,challenge_name:t.challengename},success:this.handlesuccessresponse.bind(this),error:this.handleerrorresponse.bind(this)})},this.handleerrorresponse=function(t){this.closecurrentchallenge(),this.resetchallengeparams()},this.closecurrentchallenge=function(){this.currentchallenge&&this.trigger("uiclosespam"+this.currentchallenge+"challenge")},this.allchallengescompleted=function(t){return!t.challengename},this.isvalidchallengetype=function(t){return-1!==this.attr.supportedchallengetypes.indexof(t.challengename)},this.needtorefreshcaptchachallenge=function(t){return this.currentchallenge===this.attr.captchaname&&t.challengename===this.attr.captchaname},this.handlesuccessresponse=function(t){this.allchallengescompleted(t)?(this.closecurrentchallenge(),this.sendcompletionmessage(),this.resetchallengeparams()):this.needtorefreshcaptchachallenge(t)?this.trigger("uirefreshspamcaptchachallenge"):this.isvalidchallengetype(t)?(this.closecurrentchallenge(),this.setandopennewchallenge(t)):(this.closecurrentchallenge(),this.resetchallengeparams())},this.setandopennewchallenge=function(t){this.setchallengeparams(t.challengename,t.completionmessage),this.trigger("uiopenspam"+this.currentchallenge+"challenge",t)},this.sendcompletionmessage=function(){this.trigger("uishowmessage",{message:this.getcompletionmessage()})},this.getcompletionmessage=function(){return this.completionmessage||this.attr.defaultcompletionmessage},this.createinitialchallenge=function(t,e){this.needtocreaterecaptchawidget(e)?this.fetchrecaptchascript(t,e):this.setandopennewchallenge(e)},this.needtocreaterecaptchawidget=function(t){return t.challengename===this.attr.captchaname&&!this.isrecaptchaobjectdefined()},this.isrecaptchaobjectdefined=function(){return"undefined"!=typeof recaptcha},this.fetchscriptdone=function(t,e,i){"success"===i?this.ensurerecaptchacreatedandloadchallenge(t):this.trigger(document,"uishowerror",{message:"internal server error."})},this.fetchscriptfailure=function(t,e,i){this.trigger(document,"uishowerror",{message:"internal server error."})},this.fetchrecaptchascript=function(e,i){t.getscript(this.attr.recaptchaapiurl).done(this.fetchscriptdone.bind(this,i)).fail(this.fetchscriptfailure.bind(this))},this.ensurerecaptchacreatedandloadchallenge=function(t){if(this.isrecaptchaobjectdefined())return void this.setandopennewchallenge(t);this.loadattempts=this.attr.maxcaptchaloadretries,this.recaptchaloadinterval=setinterval(this.checkifrecaptchacreated.bind(this,t),this.attr.recaptchaloadtime)},this.clearrecaptchloadinterval=function(){clearinterval(this.recaptchaloadinterval)},this.clearloadattempts=function(){this.loadattempts=void 0},this.isloadattemptsdefined=function(){return void 0!==this.loadattempts},this.checkifrecaptchacreated=function(t){this.isloadattemptsdefined()&&this.loadattempts--,this.isrecaptchaobjectdefined()&&(this.clearrecaptchloadinterval(),this.setandopennewchallenge(t),this.clearloadattempts()),(!this.isloadattemptsdefined()||this.loadattempts<=0)&&(this.clearrecaptchloadinterval(),this.clearloadattempts(),this.trigger(document,"uishowerror",{message:"internal server error."}))},this.submitchallenge=function(t,e){this.hitchallengeendpoint(e)},this.resetchallengeparams=function(){this.setchallengeparams()},this.setchallengeparams=function(t,e){this.currentchallenge=t,this.completionmessage=e},this.after("initialize",function(){this.on("uisubmitspamchallenge",this.submitchallenge),this.on("datainitialchallengeneeded",this.createinitialchallenge)})}var n=i("dbjh"),o=i("0d4m"),a=i("vtwx");e.a=object(n.default)(s,a.a)}).call(e,i("4ksj"))},mrdm:function(t,e,i){"use strict";function s(t,e,i){this.tocss=function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"rgba("+[parseint(t),parseint(e),parseint(i),s].join()+")"},this.darker=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;return new s(t*n,e*n,i*n)}}function n(){this.defaultattrs({gallerystyleselector:".gallery-styles"}),this.setdominantcolorformedia=function(t){var e=t?t.data("dominant-color"):[];this.dominantcolor=this._getdominantcolor(e),this._applydominantcolor(this.dominantcolor),this._appendhoverruletag(this.dominantcolor)},this._getdominantcolor=function(t){if(array.isarray(t)&&3===t.length)return new s(t[0],t[1],t[2])},this._applydominantcolor=function(t){t?(this.select("gallerymediaselector").css("background-color",t.tocss()),this.select("galleryselector").css("background-color",t.tocss())):(this.select("gallerymediaselector").css("background-color",""),this.select("galleryselector").css("background-color",""))},this._appendhoverruletag=function(t){var e=this.select("gallerystyleselector")[0];if(t&&e){var i=t.tocss(.7),s="\n .gallery.with-tweet .gallerytweet .tweet,\n .gallery.with-tweet .gallery-content:hover .gallerytweet.enable-fade .tweet {\n background-color: "+i+";\n }\n ";e.sheet.insertrule(s,e.sheet.cssrules.length)}else if(e)for(var n=e.sheet.cssrules.length;n>0;n--)e.sheet.deleterule(n-1)},this.applydominantcolortoborder=function(){var t=this.select("gallerytweetselector");if(this.dominantcolor){var e=this.dominantcolor.darker(.75).tocss(.8);t.find(".stream-item-footer").css("border-color",e)}else t.find(".stream-item-footer").css("border-color","")}}e.a=n},mzzr:function(t,e,i){"use strict";function s(){this.defaultattrs({successfromendpoints:{destroy:"datadiddeletetweet",retweet:"datadidretweet",like:"datadidfavoritetweet",unretweet:"datadidunretweet",unlike:"datadidunfavoritetweet",report:"datadidreporttweet",pin:"datadiduserpintweet",unpin:"datadiduserunpintweet"},errorsfromendpoints:{destroy:"datafailedtodeletetweet",retweet:"datafailedtoretweet",like:"datafailedtofavoritetweet",unretweet:"datafailedtounretweet",unlike:"datafailedtounfavoritetweet",report:"datafailedtoreporttweet",pin:"datafailedtouserpintweet",unpin:"datafailedtouserunpintweet"},statsname:"swift_tweet_actions"});var t={like:{path:"/favorites/create.json",countername:"favorite"},unlike:{path:"/favorites/destroy.json",countername:"favorite"},retweet:{path:"/statuses/retweet.json",countername:"retweet"},unretweet:{path:"/statuses/unretweet.json",countername:"retweet"}};this.takeaction=function(e,i,s){var n=this,o=t[e],l=!!o,h=function(t){t&&t.message&&this.trigger("uishowmessage",{message:t.message}),this.trigger(this.attr.successfromendpoints[e],t);var i=t.profile_stats,s=t.tweet_stats;l&&(i=a.a.normalizeprofilestats(t,o,r.a.language),s=a.a.normalizetweetstats(t,o,r.a.language)),i&&this.trigger("datagotprofilestats",{stats:i}),s&&this.trigger("datagottweetstats",{stats:s})},d=void 0;d=("like"===e||"retweet"===e)&&"retweetid"in s?{id:s.retweetid}:"report"===e?{tweet_id:s.tweetid,user_id:s.userid,screen_name:s.screenname,block_user:s.blockuser,report_type:s.reporttype}:{id:s.id},s.tweetstatcount&&(d.tweet_stat_count=s.tweetstatcount),s.impressionid&&(d.impression_id=s.impressionid,s.disclosuretype&&(d.earned="earned"===s.disclosuretype)),s.featurecontext&&(d.feature_context=s.featurecontext);var u={destroy:"delete",unretweet:"delete"},p={url:function(t,e){return t?n.apiendpointurl(o.path):"/i/tweet/"+e}(l,e),data:d,eventdata:s,success:h.bind(this),error:this.attr.errorsfromendpoints[e],retryifunavailable:!0,statssubcategory:e,useoauthsessionauth:l};"like"===e&&(this.trigger("uiabimpression",{experiment:"like_over_http_client_6421"}),c.a.getdecider("like_over_http_client")&&(p.usehttpclient=!0,p.endpoint=e)),this.jsonrequest(p,u[e]||"post")},this.hitendpoint=function(t){return this.takeaction.bind(this,t)},this.gettweet=function(t,e){var i={id:e.id};e.modal&&(i.modal=e.modal),this.get({url:e.hasstickers?"/i/tweet/stickershtml":"/i/tweet/html",statssubcategory:"html",data:i,eventdata:e,success:"datagottweet",error:"datafailedtogettweet"})},this.after("initialize",function(){this.on("uididretweet",this.hitendpoint("retweet")),this.on("uididunretweet",this.hitendpoint("unretweet")),this.on("uididdeletetweet",this.hitendpoint("destroy")),this.on("uididfavoritetweet",this.hitendpoint("like")),this.on("uididunfavoritetweet",this.hitendpoint("unlike")),this.on("uididblockorreport uididreporttweet",this.hitendpoint("report")),this.on("uigettweet",this.gettweet),this.on("uididuserpintweet",this.hitendpoint("pin")),this.on("uididuserunpintweet",this.hitendpoint("unpin"))})}var n=i("dbjh"),o=i("vtwx"),a=i("ychi"),r=i("v9eu"),c=i("iamj"),l=object(n.default)(s,o.a);e.a=l},mjoy:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<li class="promptbirdprompt-streamitem js-stream-item js-prompt-layout-container separated-module" data-item-type="prompt" data-item-id=""),s.b(s.v(s.f(" prompt_id",t,e,0))),s.b('">\n <div class="js-prompt-layout-content"></div>\n</li>'),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},mmtz:function(t,e,i){"use strict";function s(){this.defaultattrs({alertselector:".lifeline-alert-status-btn.is-thread"}),this.changealertstatus=function(){this.hasalert=!this.hasalert,this.select("alertselector").toggleclass("enabled",this.hasalert),this.focus(),this.detectupdatedtext(!0)},this.around("addhiddentext",function(t,e){return t(e)+(this.hasalert?n:"")}),this.before("reset",function(){this.hasalert=!1,this.select("alertselector").toggleclass("enabled",!1)}),this.after("initialize",function(){this.on(this.select("alertselector"),"click",this.changealertstatus)})}e.a=s;var n=" #alert"},mmtj:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({warningselector:".suspicious-content-warning",messageselector:".dm",conversationselector:".js-dm-conversation",reportbuttonsselector:".suspicious-content-response",reportasspamselector:".js-message-is-spam",reportassafeselector:".js-message-is-safe"}),this.showmessage=function(e,i){e.preventdefault();var s=t(e.target),n=s.prev(this.attr.messageselector);s.hide(),n.show()},this.reportmessage=function(e,i,s){var n=t(i.target),o=n.closest(this.attr.messageselector).attr("data-message-id"),a=n.closest(this.attr.conversationselector).attr("data-thread-id");this.trigger("uidmdialogreportdm",{id:o,conversation_id:a,report_as:e}),this.select("reportbuttonsselector").hide(),this.trigger("uidminboxwantsrefreshed")},this.after("initialize",function(){this.on("uirevealsuspiciousdm",this.showmessage),this.on("uireportdmasspam",this.reportmessage.bind(this,"spam")),this.on("uireportdmassafe",this.reportmessage.bind(this,"not_spam")),this.on("click",{warningselector:"uirevealsuspiciousdm",reportasspamselector:"uireportdmasspam",reportassafeselector:"uireportdmassafe"})})}var n=i("dbjh"),o=object(n.default)(s);e.a=o}).call(e,i("4ksj"))},moyp:function(t,e,i){"use strict";function s(){this.defaultattrs({tweetselector:".tweet",tweetformselector:".tweet-form",conversationmoduleselector:".conversation-module",animatedgifselector:".animated-gif"})}var n=i("dbjh"),o=i("preb"),a=i("dumm"),r=i("f/mh"),c=i("hjqc"),l=i("o/dd"),h=i("hker");e.a=object(n.default)(s,o.a,r.a,c.a,a.a,h.a,l.a)},mzrw:function(t,e,i){"use strict";function s(){this.before("togglefavorite",function(t,e,i){return i.tweetdata.tweetstatcount=i.$tweet.find(".profiletweet-action--favorite .profiletweet-actioncount").attr("data-tweet-stat-count")}),this.before("toggleretweet",function(t,e,i){return i.tweetdata.tweetstatcount=i.$tweet.find(".profiletweet-action--retweet .profiletweet-actioncount").attr("data-tweet-stat-count")})}e.a=s},nwi8:function(t,e,i){"use strict";function s(){this.renderactionprompt=function(t,e,i){this.renderdelayedpromptforaction(i.sourceeventdata.id,t)},this.renderdelayedpromptforaction=function(t,e){var i=this.getdelayedpromptforaction(e);i&&(i.pointertweetid=t,this.renderprompt(i))},this.getdelayedpromptforaction=function(t){var e=this.attr.delayedprompts.filter(function(e){return e.trigger===t})[0];if(e){var i=this.attr.delayedprompts.indexof(e);this.attr.delayedprompts.splice(i,1)}return e},this.after("initialize",function(){this.on(document,"datadidretweet",this.renderactionprompt.bind(this,"retweet")),this.on(document,"datadidfavoritetweet",this.renderactionprompt.bind(this,"favorite"))})}e.a=s},nkyg:function(t,e,i){"use strict";function s(){this.defaultattrs({triedshowaddtweettooltip:!1,selectoraddtweetbutton:".js-add-tweet"}),this.validateaddtweetbutton=function(){if(this.$addtweetbutton){var t=this.isempty();this.$addtweetbutton.toggleclass("disabled",t).prop("disabled",t)}},this.maybetriggertooltip=function(){!this.attr.triedshowaddtweettooltip&&n.a.getdecider("enable_tweetstorm_tooltip")&&this.getvisibletext().length>n.a.getdecidervalue("text_length_for_tweetstorm_tooltip")&&this.$addtweetbutton&&this.$addtweetbutton.is(":visible")&&!this.$addtweetbutton.is(":disabled")&&(this.attr.triedshowaddtweettooltip=!0,this.trigger(this.$addtweetbutton,"uishowaddanothertweettooltip"))},this.after("initialize",function(){this.$addtweetbutton=this.select("selectoraddtweetbutton")})}e.a=s;var n=i("iamj")},nqh4:function(t,e,i){"use strict";function s(){this.after("initialize",function(){this.scribeonevent("uidmdialogsharedtweetclick",{element:"shared_tweet_dm",action:"click"})})}var n=i("dbjh"),o=i("3odc"),a=object(n.default)(s,o.a);e.a=a},nsfj:function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in a)e[s]||(e[s]=a[s]);return r.render(t,e,i)}var n=i("opvs").default,o={emojified_text:i("mdlq")},a=n(o),r=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.s(s.f("emojified_name",t,e,1),t,e,0,19,38,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.rp("<emojified_text0",t,e,""))}),t.pop()),s.fl()},partials:{"<emojified_text0":{name:"emojified_text",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:a,render:s}}).call(e,i("jtwp"))},"ny+n":function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({favoriteselector:".js-toggle-fav a, .js-actionfavorite",replyselector:".js-actionreply",retweetselector:".js-togglert a:not([aria-disabled=true]), .js-actionretweet:not(:disabled)",quickpromoteselector:".js-actionquickpromote",permalinkselector:".tweet .js-permalink",tweetitemselector:".tweet",retweetinlineselector:".js-actioninlineretweet",togglabletweetactionsselector:"a:visible",togglecontainerselector:".js-togglestate",otherreplyusersselector:".js-other-reply-users",anyloggedinactionselector:".js-togglert a:not([aria-disabled=true]), .js-toggle-fav a, .js-actionreply, .js-actionretweet, .js-actionfavorite, .js-actioncount",favoritedtweetclass:"favorited",retweetedtweetclass:"retweeted"}),this.handletransition=function(e,i){var s=this;return function(n,a){var c=object(o.b)(a);if(c!==o.a.duplicatefavorite&&c!==o.a.alreadyretweeted){var l=a.id||a.sourceeventdata.id,h=object(r.a)(s.$node,s.attr.tweetitemselector,l),d=h[0],u=document.activeelement,p=void 0;d&&t.contains(d,u)&&(p=t(u).closest(s.attr.togglecontainerselector)),h[e](i),p&&p.find(s.attr.togglabletweetactionsselector).focus()}}},this.getdataforreply=function(t){var e=t.closest("[data-semantic-annotation-ids]").attr("data-semantic-annotation-ids"),i=void 0;try{i=json.parse(t.attr("data-reply-to-users-json")||"[]")}catch(t){}return array.isarray(i)||(i=[]),c.default.merge({isreplylinkclick:!0,replytousers:i,retweetid:t.attr("data-retweet-id"),semanticannotationids:e},!0)},this.togglefavorite=function(t,e,i){var s=i.$tweet.hasclass(this.attr.favoritedtweetclass)?"uididunfavoritetweet":"uididfavoritetweet";this.trigger(i.$tweet,s,i.tweetdata)},this.toggleretweet=function(t,e,i){var s=i.$tweet.hasclass(this.attr.retweetedtweetclass)?"uididunretweet":"uiopenretweetdialog";this.trigger(i.$tweet,s,i.tweetdata)},this.uiopensignupdialog=function(e,i,s){var n=t(i.el),o=void 0;o=n.is(this.attr.replyselector)?"reply":n.is(this.attr.retweetselector)?"retweet":n.is(this.attr.favoriteselector)?"favorite":"default",this.trigger("uiopensignupdialog",{screenname:s.tweetdata.screenname,action:o})},this.handleloggedoutfavoriteclick=function(t,e,i){this.trigger("uiloggedoutactionattempt",f({},i.tweetdata,{action:"favorite_attempt"}))},this.handleloggedoutretweetclick=function(t,e,i){this.trigger("uiloggedoutactionattempt",f({},i.tweetdata,{action:"retweet_attempt"}))},this.handleloggedoutreplyclick=function(t,e,i){this.trigger("uiloggedoutactionattempt",f({},i.tweetdata,{action:"reply_attempt"}))},this.otherreplyuserspopup=function(t,e,i){this.trigger(i.$tweet,"uirequestactivitypopup",{component:"people_in_conversation_popup",contentid:i.tweetdata.tweetid,htmltitle:object(n.default)("people in this conversation")})},this.after("initialize",function(){var t=this.mktweetdatacollectorforaction(this.interactiondatawithcard);if(!this.attr.loggedin)return void this.on("click",{anyloggedinactionselector:this.composehandler(this.preventdefault,this.getclosesttweet,t,this.uiopensignupdialog),favoriteselector:this.composehandler(this.preventdefault,this.getclosesttweet,t,this.handleloggedoutfavoriteclick),retweetselector:this.composehandler(this.preventdefault,this.getclosesttweet,t,this.handleloggedoutretweetclick),replyselector:this.composehandler(this.preventdefault,this.getclosesttweet,t,this.handleloggedoutreplyclick)});var e=this.mktweetdatacollectorforaction(this.interactiondatawithcard,this.getdataforreply);this.on("click",{favoriteselector:this.composehandler(this.preventdefault,this.getclosesttweet,t,this.togglefavorite),retweetselector:this.composehandler(this.preventdefault,this.getclosesttweet,t,this.toggleretweet),replyselector:this.composehandler(this.preventdefault,this.getclosesttweet,e,this.triggertweetaction("uireplytotweet")),quickpromoteselector:this.composehandler(this.preventdefault,this.getclosesttweet,this.triggertweetaction("uiopenquickpromotedialog")),permalinkselector:this.composehandler(this.getclosesttweet,t,this.triggertweetaction("uipermalinkclick")),otherreplyusersselector:this.composehandler(this.getclosesttweet,t,this.otherreplyuserspopup)}),this.on(document,"uididfavoritetweet datafailedtounfavoritetweet",this.handletransition("addclass",this.attr.favoritedtweetclass)),this.on(document,"uididunfavoritetweet datafailedtofavoritetweet",this.handletransition("removeclass",this.attr.favoritedtweetclass)),this.on(document,"uididretweet datafailedtounretweet",this.handletransition("addclass",this.attr.retweetedtweetclass)),this.on(document,"uididunretweet datafailedtoretweet",this.handletransition("removeclass",this.attr.retweetedtweetclass))})}var n=i("0d4m"),o=i("2doy"),a=i("dbjh"),r=i("xo2u"),c=i("yzit"),l=i("rhwy"),h=i("alsu"),d=i("mzrw"),u=i("qlgi"),p=i("ofhf"),f=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},m=object(a.default)(s,l.a,h.a,d.a,u.a,p.a);e.a=m}).call(e,i("4ksj"))},o9cj:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("<strong title=""),s.b(s.v(s.f(" localized_number",t,e,0))),s.b('" class="js-mini-profile-stat">'),s.b(s.v(s.f("localized_compact_number",t,e,0))),s.b("</strong>"),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},oyls:function(t,e,i){"use strict";function s(t){this.attr={id:null,maxlength:100,querysource:"typed_query",items:[]},this.attr=n.default.merge(this.attr,t),this.getremotesuggestions=function(t,e,i){return i},this.requiresremotesuggestions=function(){return!1},this.removeallselectedusers=function(){this.attr.items=[]},this.getlocalsuggestions=function(t,e){e(this.attr.items.slice(0,this.attr.maxlength))},this.updateselectedusers=function(t){this.attr.items=t.items}}var n=i("yzit");e.a=s},ofhf:function(t,e,i){"use strict";(function(t){function i(){this.addcancelhoverstyleclass=function(e,i,s){var n=t(e.target).closest(this.attr.tweetitemselector),o=t(e.target).closest(this.attr.togglecontainerselector);if("click"!==e.type||n.hasclass(this.attr.favoritedtweetclass)||n.hasclass(this.attr.retweetedtweetclass))return void o.removeclass("is-hoverstatecancelled");o.addclass("is-hoverstatecancelled"),o.one("mouseleave",function(){return o.removeclass("is-hoverstatecancelled")})},this.after("togglefavorite",this.addcancelhoverstyleclass),this.after("toggleretweet",this.addcancelhoverstyleclass)}e.a=i}).call(e,i("4ksj"))},ogfk:function(t,e,i){"use strict";var s={getdimensions:function(t){return new promise(function(e,i){var s=new image;s.onload=function(){e({height:s.height,width:s.width})},s.onerror=i,s.src=t})},getthumbnailoffset:function(t,e,i){var s=void 0;if(e=+e,t=+t,i=+i,e===t&&e>=i&&t>=i)return{height:i,width:i,"margin-left":0,"margin-top":0};if(t<i||e<i)s={height:t,width:e,"margin-top":(i-t)/2,"margin-left":(i-e)/2};else if(e>t){var n=i/t*e;s={height:i,width:n,"margin-left":-(n-i)/2,"margin-top":0}}else if(t>e){var o=i/e*t;s={height:o,width:i,"margin-top":-(o-i)/2,"margin-left":0}}return s}};e.a=s},p2na:function(t,e,i){"use strict";var s=i("+dwm"),n={max_dimension:4096,getusermedia:function(){var t=navigator.getusermedia||navigator.webkitgetusermedia||navigator.mozgetusermedia||navigator.msgetusermedia;return!!t&&t.bind(navigator)}(),hascanvas:function(){var t=document.createelement("canvas");return!(!t.getcontext||!t.getcontext("2d"))},supportscropper:function(){return this.hascanvas()&&s.a.hasfilereader()}};e.a=n},p9c3:function(t,e,i){"use strict";function s(){this.defaultattrs({heartbeat:0,doc:document,isie:object(n.a)().msie});var t=void 0,e=!1;this.visibilitychange=function(i){var s=void 0;switch(i.type){case"focus":case"focusin":s=!1;break;case"blur":case"focusout":s=!0;break;case"beforeunload":case"uibeforeunload":this.trigger("uipageunload");break;default:t&&(s=this.attr.doc[t]&&!this.attr.doc.hasfocus())}!0===s?(e=!0,this.trigger("uipagehidden")):!1===s&&(e=!1,this.trigger("uipagevisible"))},this.focustick=function(){e||this.trigger("uipagevisible")},this.after("initialize",function(){var e={hidden:"visibilitychange",mozhidden:"mozvisibilitychange",webkithidden:"webkitvisibilitychange",mshidden:"msvisibilitychange"},i=!1;for(var s in e)if(s in this.attr.doc){t=s,this.on(this.attr.doc,e[t],this.visibilitychange),i=!0;break}i||(this.attr.isie?this.on(this.attr.doc,"focusin focusout",this.visibilitychange):this.on(window,"focus focusin blur focusout",this.visibilitychange)),this.on(window,"beforeunload uibeforeunload",this.visibilitychange),this.attr.heartbeat&&(this.timer=o.default.setintervalevent("uipagefocustick",this.attr.heartbeat),this.on("uipagefocustick",this.focustick))})}var n=i("rw6j"),o=i("r8bt"),a=i("dbjh");e.a=object(a.default)(s)},pom1:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({noshowerror:!0,profilesearchthrottle:35}),this.isinstate=function(t){return t.split(" ").indexof(this.state)>=0},this.isenabled=function(t){return!this.isinstate("disabled enabling enableisunavailable")},this.setinitialstate=function(){this.attr.geoenabled?this.state="1"===l.webclientcookie()?"enabledturnedon":"enabledturnedoff":this.state="disabled"},this.requeststate=function(t,e){this.shouldlocate()?this.locate(t.target):this.sendstate(t.target,this.state)},this.shouldlocate=function(){return this.isinstate("locating changing enabledturnedon locateisunavailable")||this.isinstate("located locationunknown")&&(!this.lastlocationtime||this.now()-this.lastlocationtime>h)},this.locate=function(t,e){var i=this;this.sendstate(t,e?"changing":"locating");var s=function(e){return i.sendstate(t,i.locateorenablestate(e)||"locateisunavailable")},n=function(){return i.sendstate(t,"locateisunavailable")},o={override_place_id:e};this.post({url:"/account/geo_locate",data:o,echoparams:{spoof_ip:!0},eventdata:o,success:s,error:n})},this.locateorenablestate=function(t){switch(t.status){case"ok":return this.place_id=t.place_id,this.place_name=t.place_name,this.places_html=t.html,this.lastlocationtime=this.now(),"located";case"unknown":return this.lastlocationtime=this.now(),"locationunknown"}},this.now=function(){return(new date).gettime()},this.sendstate=function(e,i){i&&(this.state=i);var s={state:this.state};"located"===this.state&&(s.place_id=this.place_id,s.place_name=this.place_name,s.places_html=this.places_html),t(e).trigger("datageostate",s)},this.turnon=function(t){this.isenabled()&&(l.webclientcookie("1"),this.locate(t.target))},this.turnoff=function(t){this.isenabled()&&(l.webclientcookie(null),this.sendstate(t.target,"enabledturnedoff"))},this.enable=function(t,e){var i=this;if(this.isinstate("disabled enableisunavailable")){this.sendstate(t.target,"enabling");var s=function(e){l.webclientcookie("1"),i.sendstate(t.target,i.locateorenablestate(e)||"enableisunavailable")},n=function(){return i.sendstate(t.target,"enableisunavailable")};this.post({url:"/account/geo_locate",data:{enable:"1"},echoparams:{spoof_ip:!0},eventdata:e,success:s,error:n})}},this.change=function(t,e){this.isenabled()&&this.locate(t.target,e.placeid)},this.search=function(t,e){var i=this;if(this.searching)return void(this.pendingsearchdata=e);this.pendingsearchdata=null;var s=function(){if(i.searching=!1,i.pendingsearchdata)return i.search(t,i.pendingsearchdata),!0},n=e.query.trim(),o=[n,e.placeid,e.isprefix].join(","),a=function(t){i.searchcache[o]=t,t=c({},t,{sourceeventdata:e}),s()||i.trigger("datageosearchresults",t)},r=function(){s()||i.trigger("datageosearchresultsunavailable")};if(!n)return void a({html:""});var l=this.searchcache[o];if(l)return void a(l);this.searching=!0,this.get({url:"/account/geo_search",data:{query:n,place_id:e.placeid,is_prefix:e.isprefix?"1":"0"},eventdata:e,success:a,error:r})},this.profilesearch=function(t,e){var i=this,s=e.query.trim(),n=s,o=function(t){i.profilesearchcache[n]=t,t=c({},t,{sourceeventdata:e}),i.trigger("dataprofilegeosearchresults",t)},a=this.profilesearchcache[n];if(a)return void o(a);this.get({url:"/account/geo_profile",data:{query:s},eventdata:e,success:o,error:"dataprofilegeosearchresultsunavailable"})},this.requestdefaultprofilelocations=function(t,e){this.get({url:"/account/geo_profile",eventdata:e,success:"datadefaultprofilelocations",error:"dataprofilegeosearchresultsunavailable"})},this.after("initialize",function(){this.searchcache={},this.profilesearchcache={},this.setinitialstate(),this.on("uirequestgeostate",this.requeststate),this.on("uigeopickerenable",this.enable),this.on("uigeopickerturnon",this.turnon),this.on("uigeopickerturnoff",this.turnoff),this.on("uigeopickerchange",this.change),this.on("uigeopickersearch",this.search),this.on("uirequestdefaultprofilelocations",this.requestdefaultprofilelocations),this.on("uigeoprofilesearch",o.default.throttle(this.profilesearch.bind(this),this.attr.profilesearchthrottle))})}var n=i("dbjh"),o=i("yzit"),a=i("dsp6"),r=i("vtwx"),c=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},l=object(n.default)(s,r.a),h=9e5;e.a=l,l.webclientcookie=function(t){return void 0===t?object(a.a)("geo_webclient"):object(a.a)("geo_webclient",t,{expires:3650,path:"/"})}}).call(e,i("4ksj"))},"pp1+":function(t,e,i){"use strict";function s(){this.updateyoufollow=function(t,e){this.$node.find("[data-user-id="+t+"][data-you-follow]").attr("data-you-follow",e)},this.updateyoublock=function(t,e){this.$node.find("[data-user-id="+t+"][data-you-block]").attr("data-you-block",e)},this.setviewerfollowstate=function(t){return function(e,i){this.updateyoufollow(i.userid,t)}},this.setviewerblockstate=function(t){return function(e,i){this.updateyoublock(i.userid,t)}},this.onfollowstatechange=function(t,e){var i=e.userid,s=e.newstate;"following"===s?(this.updateyoufollow(i,!0),this.updateyoublock(i,!1)):"not-following"===s?(this.updateyoufollow(i,!1),this.updateyoublock(i,!1)):"blocked"===s&&(this.updateyoufollow(i,!1),this.updateyoublock(i,!0))},this.after("initialize",function(){this.on(document,"uifollowaction",this.setviewerfollowstate(!0)),this.on(document,"uiunfollowaction uiblockaction uireportspamaction uididtriggerblockingaction",this.setviewerfollowstate(!1)),this.on(document,"uiblockaction uireportspamaction uididtriggerblockingaction",this.setviewerblockstate(!0)),this.on(document,"datafollowstatechange",this.onfollowstatechange)})}e.a=s},pqps:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("<div class="js-prompt-layout-container">\n <div class="js-prompt-layout-content"></div>\n</div>'),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},qfjf:function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in a)e[s]||(e[s]=a[s]);return r.render(t,e,i)}var n=i("opvs").default,o={"dialogs/close_button":i("38hd")},a=n(o),r=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div id="keyboard-shortcut-dialog" class="modal-container">\n <div class="modal modal-large draggable">\n <div class="modal-content">\n'),s.b(s.rp("<dialogs/close_button0",t,e," ")),s.b("\n"+i),s.b(' <div class="modal-header">\n'),s.b(' <h3 class="modal-title">keyboard shortcuts</h3>\n </div>\n\n'),s.b(' <div class="modal-body">\n\n <div class="keyboard-shortcuts clearfix" id="keyboard-shortcut-menu">\n <p class="visuallyhidden">\n note: to use these shortcuts, users of screen readers may need to toggle off the virtual navigation.\n </p>\n'),s.s(s.f("keyboard_shortcuts",t,e,1),t,e,0,780,1478,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <table class="modal-table" summary=""),i.b(i.v(i.f(" description",t,e,0))),i.b('">\n'),i.s(i.f("name",t,e,1),t,e,0,870,1031,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(' <thead>\n <tr>\n <th colspan="2">'),i.b(i.v(i.f("name",t,e,0))),i.b("</th>\n </tr>\n </thead>\n")}),t.pop()),i.b(" <tbody>\n"),i.s(i.f("shortcuts",t,e,1),t,e,0,1093,1409,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(' <tr>\n <td class="shortcut">\n'),i.s(i.f("keys",t,e,1),t,e,0,1190,1265,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(' <b class="sc-key">'),i.b(i.v(i.d(".",t,e,0))),i.b("</b>\n")}),t.pop()),i.b(' </td>\n <td class="shortcut-label">'),i.b(i.v(i.f("description",t,e,0))),i.b("</td>\n </tr>\n")}),t.pop()),i.b(" </tbody>\n </table>\n")}),t.pop()),s.b(" </div>\n </div>\n </div>\n </div>\n</div>\n\n\n"),s.fl()},partials:{"<dialogs/close_button0":{name:"dialogs/close_button",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:a,render:s}}).call(e,i("jtwp"))},qir8:function(t,e,i){"use strict";(function(t){function s(){this.attributes({notice:".dmnotice",dismiss:".dmnotice-dismiss, .dmnotice-cancel",needsexplicitdismiss:".dmnotice--explicitdismiss",toast:".dmnotice--toast",toastmessage:".dmnotice--toast .dmnotice-message"}),this.findnotice=function(t){return this.select("notice").filter(t)},this.show=function(e,i){this.dismissall(!0),(i&&i.notice?this.findnotice(i.notice):t(e.target).closest(this.attr.notice)).slidedown()},this.dismiss=function(e,i){(i&&i.notice?this.findnotice(i.notice):t(e.target).closest(this.attr.notice)).slideup()},this.dismissall=function(t){var e=this.select("notice").not(this.attr.needsexplicitdismiss);t?e.slideup():e.hide()},this.showtoast=function(t,e){var i=e.message,s=e.timeout||3e3;this.select("toastmessage").text(i),this.dismissall(!0);var n=this.select("toast");n.slidedown(),cleartimeout(this.toasttimeout),this.toasttimeout=settimeout(function(){return n.slideup()},s)},this.after("initialize",function(){this.on("uishowdmnotice",this.show),this.on("uidismissdmnotice",this.dismiss),this.on(document,"uidismissalldmnotices",this.dismissall.bind(this,!1)),this.on(document,"uidmshowtoast",this.showtoast),this.on("click",{dismiss:"uidismissdmnotice"})})}var n=i("dbjh");e.a=object(n.default)(s)}).call(e,i("4ksj"))},qpfa:function(t,e,i){"use strict";function s(){this.resendconfirmationemail=function(t,e){var i=function(t){this.trigger("uishowmessage",{message:t.messageforflash})},s=function(){this.trigger("uishowmessage",{message:object(a.default)("oops! there was an error sending the confirmation email.")})};this.post({url:"/account/resend_confirmation_email",eventdata:null,data:e&&e.unsuspend?{unsuspend:!0}:{},success:i.bind(this),error:s.bind(this)})},this.resetbouncescore=function(){var t=function(){this.trigger("uishowmessage",{message:object(a.default)("your email notifications should resume shortly.")})},e=function(){this.trigger("uishowmessage",{message:object(a.default)("oops! there was an error sending email notifications.")})};this.post({url:"/bouncers/reset",eventdata:null,data:null,datatype:this.data_types.text,success:t.bind(this),error:e.bind(this)})},this.after("initialize",function(){this.on("uiresendconfirmationemail",this.resendconfirmationemail),this.on("uiresetbouncelink",this.resetbouncescore)})}var n=i("dbjh"),o=i("vtwx"),a=i("0d4m");e.a=object(n.default)(s,o.a)},qxjx:function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in a)e[s]||(e[s]=a[s]);return r.render(t,e,i)}var n=i("opvs").default,o={"promptbird/templates/dismiss_button":i("02ms"),"promptbird/templates/title":i("orcd"),"promptbird/templates/explanation":i("7sib"),"promptbird/templates/call_to_action":i("hk7e"),"promptbird/templates/second_call_to_action":i("8t/i")},a=n(o),r=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("<div class="promptbirdprompt promptbirdprompt--abovetimeline" data-prompt-id=""),s.b(s.v(s.f(" prompt_id",t,e,0))),s.b('">\n <div class="promptbirdprompt-content "),s.b(s.v(s.f("prompt_css_class",t,e,0))),s.b(" "),s.s(s.f("background_image_url",t,e,1),t,e,0,179,189,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b("with-image")}),t.pop()),s.b('"\n '),s.s(s.f("data_attributes",t,e,1),t,e,0,240,260,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" "),i.b(i.v(i.f("key",t,e,0))),i.b('=""),i.b(i.v(i.f(" value",t,e,0))),i.b('"')}),t.pop()),s.b("\n"+i),s.b(" "),s.s(s.f("background_image_url",t,e,1),t,e,0,310,367,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' style="background-image: url("),i.b(i.v(i.f("background_image_url",t,e,0))),i.b(");"")}),t.pop()),s.b(">\n\n"),s.b(s.rp("<promptbird/templates/dismiss_button0",t,e," ")),s.b(s.rp("<promptbird/templates/title1",t,e," ")),s.b(s.rp("<promptbird/templates/explanation2",t,e," ")),s.b(s.rp("<promptbird/templates/call_to_action3",t,e," ")),s.b(s.rp("<promptbird/templates/second_call_to_action4",t,e," ")),s.b(" </div>\n</div>\n"),s.fl()},partials:{"<promptbird/templates/dismiss_button0":{name:"promptbird/templates/dismiss_button",partials:{},subs:{}},"<promptbird/templates/title1":{name:"promptbird/templates/title",partials:{},subs:{}},"<promptbird/templates/explanation2":{name:"promptbird/templates/explanation",partials:{},subs:{}},"<promptbird/templates/call_to_action3":{name:"promptbird/templates/call_to_action",partials:{},subs:{}},"<promptbird/templates/second_call_to_action4":{name:"promptbird/templates/second_call_to_action",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:a,render:s}}).call(e,i("jtwp"))},qlgi:function(t,e,i){"use strict";(function(t){function i(){this.defaultattrs({tweetactioncontainerselector:".profiletweet-action",animationstateclass:"is-animating",animationtweetselector:".tweet",animationname:"heart-burst"}),this.gettweetactions=function(t){return t.find(this.attr.tweetactioncontainerselector)},this.istweetanimating=function(t){return this.gettweetactions(t).find(this.animationstateclass)},this.cleanupanimation=function(t){this.istweetanimating(t)&&(this.gettweetactions(t).removeclass(this.attr.animationstateclass),this.trigger("uianimationend"))},this.completeanimation=function(e){e.originalevent&&e.originalevent.animationname===this.attr.animationname&&this.cleanupanimation(t(e.target).closest(this.attr.animationtweetselector))},this.unfavoritehandler=function(e){this.cleanupanimation(t(e.target))},this.animateaction=function(e,i){this.gettweetactions(t(e.target)).addclass(this.attr.animationstateclass)},this.after("initialize",function(){this.on(document,"uididfavoritetweet",this.animateaction),this.on(document,"uididunfavoritetweet",this.unfavoritehandler),this.on("webkitanimationend oanimationend oanimationend msanimationend animationend",{animationtweetselector:this.completeanimation})})}e.a=i}).call(e,i("4ksj"))},qo7l:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({confirmdialogselector:"#confirm_dialog",cancelselector:"#confirm_dialog_cancel_button",submitselector:"#confirm_dialog_submit_button",modalsizes:{small:"modal-small",medium:"modal-medium",large:"modal-large"}}),this.openwithoptions=function(e,i){if(!this.openstate){this.attr.eventparams={action:i.action},this.attr.top=i.top,this.eventnode=e.target;var s={title_text:i.titletext,body_text:i.bodytext,cancel_text:i.canceltext,submit_text:i.submittext,danger:!!i.danger},n=c.a.render(s);t("#confirm_dialog").length?t("#confirm_dialog").replacewith(n):t("body").append(n),this.$dialogcontainer=t("#confirm_dialog"),this.$dialog=this.$dialogcontainer.find(this.attr.modalselector);var o=this.attr.modalsizes[i.modalsize];void 0!==o&&this.$dialog.addclass(o),this.open()}},this.submit=function(t,e){this.trigger(this.eventnode,"ui{{action}}confirm"),this.close()},this.cancel=function(t,e){this.trigger(this.eventnode,"ui{{action}}cancel"),"click"===t.type&&this.close()},this.after("initialize",function(){this.on(document,"uiopenconfirmdialog",this.openwithoptions),this.on("click",{submitselector:this.submit,cancelselector:this.cancel}),this.on("uidialogcloserequested",{confirmdialogselector:this.cancel})})}var n=i("dbjh"),o=i("uhc7"),a=i("5kfr"),r=i("bugu"),c=i.n(r);e.a=object(n.default)(s,o.a,a.a)}).call(e,i("4ksj"))},qwum:function(t,e,i){"use strict";function s(){this.after("insertprompt",function(){this.select("promptselector").slidedown()})}e.a=s},"r/ik":function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("\n"+i),s.b(" "),s.s(s.f("user_count_one",t,e,1),t,e,0,22,51,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b("seen by "),i.b(i.v(i.f("user_count",t,e,0))),i.b(" person")}),t.pop()),s.b("\n"+i),s.b(" "),s.s(s.f("user_count_other",t,e,1),t,e,0,94,123,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b("seen by "),i.b(i.v(i.f("user_count",t,e,0))),i.b(" people")}),t.pop()),s.b("\n"),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},rqvs:function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in a)e[s]||(e[s]=a[s]);return r.render(t,e,i)}var n=i("opvs").default,o={"dialogs/close_button":i("38hd")},a=n(o),r=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("<div id="copy-found-media-link-dialog" class="modal-container">\n <div class="modal modal-medium draggable">\n'),s.b(s.rp("<dialogs/close_button0",t,e," ")),s.b(' <div class="modal-content">\n <div class="modal-header">\n <h3 class="modal-title">gif provided by <span class="provided-by">'),s.b(s.v(s.f("attribution_name",t,e,0))),s.b('</span></h3>\n </div>\n <div class="modal-body">\n <div class="copy-found-media-link-container">\n <textarea class="found-media-link-destination js-initial-focus u-dir" readonly>'),s.b(s.v(s.f("details_url",t,e,0))),s.b("</textarea>\n </div>\n </div>\n </div>\n </div>\n</div>\n"),s.fl()},partials:{"<dialogs/close_button0":{name:"dialogs/close_button",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:a,render:s}}).call(e,i("jtwp"))},rbio:function(t,e,i){"use strict";function s(){this.defaultattrs({noshowerror:!0}),this.addparticipants=function(t,e){e=e||{},this.post({url:"/i/direct_messages/add_participants",data:{id:e.conversation_id,participant_ids:e.participant_ids},eventdata:e,success:r(t.target,"datadmconversationresult"),error:r(t.target,"datadmerror")})},this.after("initialize",function(){this.on("uiaddconversationparticipants",this.addparticipants)})}var n=i("dbjh"),o=i("vtwx"),a=i("ldny"),r=a.a.triggerfn;e.a=object(n.default)(s,o.a)},rgul:function(t,e,i){"use strict";function s(){this.defaultattrs({noshowerror:!0}),this.reportmessage=function(t,e){e=e||{},this.post({url:"/i/direct_messages/report",data:{id:e.id,conversation_id:e.conversation_id,report_as:e.report_as},eventdata:e,success:r(t.target,["datadmreportsuccess","datadmconversationresult"]),error:c(r(t.target,"datadmreportfailed",e),r(t.target,"datadmerror"))})},this.after("initialize",function(){this.on("uidmdialogreportdm",this.reportmessage)})}var n=i("dbjh"),o=i("ldny"),a=i("vtwx"),r=o.a.triggerfn,c=o.a.chain;e.a=object(n.default)(s,a.a)},rhwy:function(t,e,i){"use strict";(function(t){function i(){this.preventdefault=function(t,e,i){t.preventdefault()},this.composehandler=function(){var t=arguments,e={};return function(i,s){for(var n=0,o=t.length;n<o&&!1!==t[n].call(this,i,s,e);n++);}},this.gettweetforevent=function(e,i){var s=t(e.target),n=void 0;return s.is(this.attr.tweetitemselector)&&(n=s),n||(n=s[i](this.attr.tweetitemselector)),n},this.getclosesttweet=function(t,e,i){var s=this.gettweetforevent(t,"closest"),n=!!s.length;return n&&(i.$tweet=s),n},this.getdatafortweet=function(t){return{id:t.attr("data-tweet-id"),screenname:t.attr("data-screen-name"),istweetproof:"true"===t.attr("data-is-tweet-proof"),viewerfollowsauthor:"true"===t.attr("data-you-follow"),viewerblocksauthor:"true"===t.attr("data-you-block"),featurecontext:t.attr("data-feature-context"),mediatype:this.getmediatype(t),photocount:t.find(".animated-gif, .js-adaptive-photo, .adaptivestreamgridimage").length,momentid:t.attr("data-moment-id")}},this.getmediatype=function(t){var e="" ;return 0!==t.find(".js-adaptive-photo").length?e="image":"player"===t.attr("data-card2-type")?e="video":(t.attr("data-has-cards")||t.hasclass("has-content"))&&(e="media"),e},this.mktweetdatacollector=function(){var t=this,e=arguments;return function(i){for(var n={},o=0,a=e.length;o<a;o++)n=s({},n,e[o].call(t,i));n=s({},n,t.getdatafortweet(i));for(var r in n)void 0===n[r]&&delete n[r];return n}},this.mktweetdatacollectorforaction=function(){var t=this.mktweetdatacollector.apply(this,arguments);return function(e,i,s){return s.tweetdata=t(s.$tweet),!0}},this.triggertweetaction=function(t){return function(e,i,s){var n="function"==typeof t?t.call(this,e,i,s):t;this.trigger(s.$tweet,n,s.tweetdata)}}}var s=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t};e.a=i}).call(e,i("4ksj"))},rxx0:function(t,e,i){"use strict";function s(){this.handlemessage=function(t){try{var e=json.parse(t.data),i=e.event,s=e.data;this.trigger(i,s)}catch(t){}},this.after("initialize",function(){navigator.serviceworker&&navigator.serviceworker.addeventlistener("message",this.handlemessage.bind(this))})}var n=i("dbjh"),o=object(n.default)(s);e.a=o},sfzm:function(t,e,i){"use strict";function s(t){n.a.attachto(document,t),a.a.attachto(document,t),o.a.attachto(r,t,{initialfocusselector:".modal-close"})}var n=i("0t9i"),o=i("1c4y"),a=i("7tgm"),r="#activity-popup-dialog";e.a=s},sjmd:function(t,e,i){"use strict";e.a=function(){var t=/^\s*$/;this.defaultattrs({top:90,saveselector:".update-custom-timeline-button",nameselector:"[name=name]",descriptionselector:"[name=custom-timeline-description]",dialogtitleselector:".modal-title",maxreachedselector:".max-reached"}),this.params=function(){return{name:this.$name.val(),description:this.$description.val(),order:this.select("orderselector").val()}},this.savecustomtimeline=function(t,e){this.disablesavebutton(),this.trigger(this.attr.createorupdateeventname,this.params())},this.disablesavebutton=function(){this.$savebutton.prop("disabled",!0)},this.togglesavebutton=function(e,i){var s=t.test(this.$name.val()),n=this.select("maxreachedselector").length>0;this.$savebutton.prop("disabled",s||n)},this.after("open",function(){this.$savebutton=this.select("saveselector"),this.$name=this.select("nameselector"),this.$description=this.select("descriptionselector"),this.togglesavebutton()}),this.after("initialize",function(){this.on(document,"datacustomtimelineupdated",this.close),this.on("click",{saveselector:this.savecustomtimeline}),this.on("input",{nameselector:this.togglesavebutton}),this.on("uitextchanged",this.togglesavebutton)})}},"sr+t":function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("\n"+i),s.b(" "),s.s(s.f("intnumber_one",t,e,1),t,e,0,21,47,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.v(i.f("localized_number",t,e,0))),i.b(" tweet")}),t.pop()),s.b("\n"+i),s.b(" "),s.s(s.f("intnumber_other",t,e,1),t,e,0,88,115,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.v(i.f("localized_number",t,e,0))),i.b(" tweets")}),t.pop()),s.b("\n"),s.b("\n"),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},swj0:function(t,e,i){"use strict";var s=i("rwgq");e.a=function(){this.defaultattrs({drafttweetttl:864e5}),this.getdrafttweet=function(){return this.drafttweetid&&this.drafttweets().getitem(this.drafttweetid)},this.hasdrafttweet=function(){return!!this.getdrafttweet()},this.savedrafttweet=function(t,e){if(this.drafttweetid&&this.hasfocus()){var i=e.text.trim();i&&!this.isempty(!0)?this.drafttweets().setitem(this.drafttweetid,i,this.attr.drafttweetttl):this.drafttweets().removeitem(this.drafttweetid)}},this.before("clear",function(){this.drafttweetid&&this.drafttweets().removeitem(this.drafttweetid)}),this.overridedrafttweetid=function(t,e){var i=e&&e.drafttweetid||this.attr.drafttweetid;this.drafttweetid!==i&&(this.drafttweetid=i,this.resettweettext())},this.drafttweets=function(){if(!this.drafttweetsstore){var t=object(s.a)({withexpiry:!0});this.drafttweetsstore=new t("draft_tweets")}return this.drafttweetsstore},this.after("resettweettext",function(){var t=this.getdrafttweet();t&&(this.setvisibletext(t),this.trigger("uisaveundostate"),this.trigger("uipreparegeopicker"))}),this.initdrafttweets=function(){this.drafttweetid=this.attr.drafttweetid,this.on("uitextchanged",this.savedrafttweet),this.on("uioverridetweetboxoptions",this.overridedrafttweetid)}}},ss9a:function(t,e,i){"use strict";function s(){this.attributes({notice:".dmdeletemessage",confirm:".dmdeletemessage-confirm",cancel:".dmdeletemessage-cancel"}),this.showconfirmation=function(){this.select("notice").trigger("uishowdmnotice")},this.hideconfirmation=function(){this.select("notice").trigger("uidismissdmnotice")},this.state=function(t,e){return this._state=e||this._state||{},this._state},this.deletemessage=function(){var t=this.state();this.trigger("uidmdialogdeletemessage",{id:t.messageid,conversation_id:t.conversationid}),this.hideconfirmation(),this.trigger("uidminboxwantsrefreshed")},this.after("initialize",function(){this.on("uishowdmdeletemessageconfirmation",this.state),this.on("uishowdmdeletemessageconfirmation",this.showconfirmation),this.on("click",{confirm:this.deletemessage,cancel:this.hideconfirmation})})}var n=i("dbjh"),o=object(n.default)(s);e.a=o},swew:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({overrideusercssselector:"#user-style-me",screenname:"me",usercolor:r.a.twitterblue}),this.getlighterblendcolor=function(){return c.a.user.nightmodeactivated?r.a.nightpanelbackground:r.a.white},this.getdarkerblendcolor=function(){return c.a.user.nightmodeactivated?r.a.white:r.a.nightpanelbackground},this.getpagepanelbackgroundcolor=function(){return this.getlighterblendcolor()},this.hasrequiredcontrast=function(t){return object(a.a)(t,this.getpagepanelbackgroundcolor())>1.5},this.getlinkcolor=function(t){return this.hasrequiredcontrast(t)?t:r.a.twitterblue},this.override=function(e,i){var s=i?i.color.replace(d,""):this.attr.usercolor,n=""===s?r.a.black:s;this.attr.usercolor=n;var a=this.getlinkcolor(n),c={screen_name:"override-"+this.attr.screenname,logged_in:!0,user_color_lightest:object(o.a)(a,.1,this.getlighterblendcolor()),user_color_lighter:object(o.a)(a,.25,this.getlighterblendcolor()),user_color_light:object(o.a)(a,.4,this.getlighterblendcolor()),user_color_medium:object(o.a)(a,.8,this.getlighterblendcolor()),user_color:a,user_color_dark:object(o.a)(a,.8,this.getdarkerblendcolor()),user_color_darker:object(o.a)(a,.6,this.getdarkerblendcolor()),rgba_user_color_lightest:object(o.c)(a,.1),rgba_user_color_lighter:object(o.c)(a,.25),rgba_user_color_light:object(o.c)(a,.4),rgba_user_color_medium:object(o.c)(a,.7),page_panel_background_color:this.getpagepanelbackgroundcolor()},l=h.a.render(c);t("#user-style-override-"+this.attr.screenname).remove(),t("#user-style-"+this.attr.screenname).after(l)},this.after("initialize",function(){this.on(document,"uioverrideusercss",this.override)})}var n=i("dbjh"),o=i("9f29"),a=i("uvly"),r=i("wmi3"),c=i("iamj"),l=i("opmg"),h=i.n(l),d=/^#/;e.a=object(n.default)(s)}).call(e,i("4ksj"))},t2va:function(t,e,i){"use strict";function s(){this.defaultattrs({tweetboxselector:".tweet-box",tweetactionselector:".tweet-action",discardtweet:".dmcomposer-discardtweet",imagedataselector:".file-data",removetweetevents:"uidmdialogopenedconversationlist uidmdialogclosed uidmsendmessage datafailedtogettweet",gifsupport:!0,videosupport:!0,sruallmedia:!0,preferredgravity:"vertical",preferredweight:"right",composealttext:!1,typingpublishinterval:2e3}),this.isempty=function(){return!(this.hasattachment()||this.getvisibletext().trim())},this.hasattachment=function(){return!1},this.getmediadata=function(){var t=this.gettweetboxid(),e=r.a.keys().filter(function(e){return r.a.get(e).tweetboxid===t})[0],i=r.a.get(e)||{};return{fileid:i.fileid,filetype:i.filetype,mediacategory:i.mediacategory,trimrange:i.trimrange,uploadid:i.uploadid,foundmediainfo:this.foundmediainfo,sourceurl:i.sourceurl,mediatype:i.mediatype}},this.createdataforsending=function(){return t({conversation_id:this.conversationid,media_data:this.hasmedia?this.getmediadata():void 0,recipient_ids:this.conversationid?[]:this.recipientids,screen_name:this.conversationid||this.recipientids?[]:this.screennames,text:this.addhiddentext(this.getvisibletext()),tweetboxid:this.gettweetboxid(),tweet_id:this.hastweetattachment()?this.tweetattachmentid:void 0,message_me_scribe_data:this.messagemescribedata,card_uri:this.carduri},this.getquickreplyresponsedata())},this.senddm=function(){this.detectupdatedtext(),this.trigger("uidmsendmessage",this.createdataforsending()),this.removetextinputquickreply(),delete this.recipientids,delete this.screennames,this.revertcomposer()},this.gettweetboxid=function(){return this.tweetboxid=this.tweetboxid||"swift_tweetbox_"+ +new date,this.tweetboxid},this.isowntweetbox=function(t,e){return(e.tweetboxid||e.sourceeventdata&&e.sourceeventdata.tweetboxid)===this.gettweetboxid()},this.cansend=function(){var t=this.conversationid||this.recipientids||this.screennames;return!this.isempty()&&!this.maxreached()&&t},this.updatesendbutton=function(){this.cansend()?this.enable():this.disable()},this.enable=function(){this.select("tweetactionselector").removeclass("disabled").attr("aria-disabled",!1)},this.disable=function(){this.select("tweetactionselector").addclass("disabled").attr("aria-disabled",!0)},this.initializecomposer=function(t,e){e=e||{},this.conversationid=e.conversation_id,this.recipientids=e.recipient_ids,this.screennames=e.screen_names,this.revertcomposer(e.retain_tweet_attachment),this.setvisibletext(e.default_composer_text||""),this.$text.attr("aria-label",object(n.default)("message to {{name}}",{name:e.name})),this.focus()},this.revertcomposer=function(t){!0!==t&&this.handletweetremoval(),this.reset(),this.updatesendbutton(),this.handleattachmentchange(),this.focus()},this.reset=function(){this.setvisibletext("")},this.handlekeyboardsubmit=function(){this.select("tweetactionselector").hasclass("disabled")||this.senddm()},this.handletweetremoval=function(){this.removetweet(),this.removetweetattachment(),this.focus()},this.handleattachmentchange=function(){var t=this.hasattachment()?object(n.default)("add a comment..."):void 0,e=this.hasattachment()?"uicomposerdisableexclusiveattachments":"uicomposerenableexclusiveattachments";this.trigger("uiupdatecomposerplaceholder",{placeholdertext:t}),this.trigger(e)},this.showquickreplyconditionally=function(t,e){var i=e&&e.qrjson,s=e&&e.isfirstresult;!this.isempty()&&s||this.handleshowquickreply(i)},this.broadcasttyping=function(){this.conversationid&&this.trigger("uidmusertyping",{conversation_id:this.conversationid})},this.unfocus=function(){this.select("composereditorselector").blur()},this.after("initialize",function(){this.inittextnode(),this.updatesendbutton(),this.on(this.select("tweetactionselector"),"click",this.handlekeyboardsubmit),this.on("uisendqroptionresponse",this.senddm),this.on("uishortcutenter uishortcutcmdenter",this.handlekeyboardsubmit),this.on("uiemojisuggestion","uiinserttext"),this.on("uitextchanged uiattachmentchanged",this.updatesendbutton),this.on("keydown",{tweetboxselector:object(o.a)(this.broadcasttyping.bind(this),this.attr.typingpublishinterval,this.attr.typingpublishinterval,!0)}),this.on("uiattachmentchanged",this.handleattachmentchange),this.on("click",{discardtweet:this.handletweetremoval}),this.on("uiinitializedmcomposer",this.initializecomposer),this.on("uirevertcomposer",this.revertcomposer),this.on(document,"uidmdialogclosed",this.revertcomposer),this.on(document,"uishowquickreply",this.showquickreplyconditionally),this.on("uishowquickreplyoptionpanel",this.unfocus)})}var n=i("0d4m"),o=i("zytg"),a=i("dbjh"),r=i("h6fk"),c=i("6n1l"),l=i("fbsa"),h=i("zg5a"),d=i("cedb"),u=i("wqlg"),p=i("+hbl"),f=i("lcya"),m=i("84/5"),g=i("pul/"),v=i("zo2h"),b=i("taxt"),w=i("lvmq"),s=i("dzhj"),c=i("nub0"),y=i("btbl"),t=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},d=object(a.default)(s,g.a,l.a,f.a,h.a,u.a,v.a,b.a,c.a,p.a,m.a,d.a,w.a,s.a,c.a,y.a);e.a=d},tbnr:function(t,e,i){"use strict";function s(){this.proxyiframeevents=function(t){if(t){var e={};if(t.originalevent&&(t=t.originalevent),object(n.a)(t.origin,window.location)&&"string"==typeof t.data)try{e=json.parse(t.data),e&&e.name&&"b2c"===e.name&&e.eventname&&this.trigger(e.eventname,e.data)}catch(t){}}}}var n=i("hc4n");e.a=s},tcn1:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({playerselector:".playablemedia-player",placeholderclass:"playablemedia--placeholder",externalurlblock:"a.playablemedia-externalurlblock",autoplayonhover:!1,playerloadedclass:"playable-media-loaded",livevideocontinueplayingbehindmodalsenabled:!1}),this.autoplay=function(){this.player?this.player.playpreview():this.autoplayoninit=!0},this.autoplaystop=function(){this.player?this.player.pausepreview():this.autoplayoninit=!1},this.loadmedia=function(){var t=this;if(!this.$node.hasclass(this.attr.placeholderclass)){this.$node.addclass(this.attr.playerloadedclass),this.scribecontext=this.getscribecontext();var e=void 0;void 0!==this.tweetid&&(e=this.requestdynamicvideoad.bind(this));var s={scribecontext:this.scribecontext,promotedcontext:this.getpromotedcontext(),hidecontrols:this.$playercontainer.hasclass("hide-controls"),adrequestcallback:e,borderradius:this.getborderradius(this.$playercontainer),ignorefinegraingeoblocking:this.shouldignorefinegraingeoblocking()};if(this.shouldusereactplayer){var n=this.shouldusebversionofreactplayer?"0.11.0":"0.8.5",o=function(e,i,s){var o=t.getvideoid(i);s(t,e,o,t.playercontainer,t.requestdynamicvideoad.bind(t),t.$playercontainer.hasclass("hide-controls"),function(e){t.player=e,t.registerplayerlisteners(t.$playercontainer),t.onplayerready(t.$playercontainer)},n)};i.e(13).then(function(t){var e=i("zobu").default,s=i("ofwy");o(s.default,s.videoid,e)}.bind(null,i)).catch(i.oe)}else{var a=this.getplayerconstructor(this.playercontainer);this.player=a(s),this.registerplayerlisteners(this.$playercontainer)}}},this.registerplayerlisteners=function(t){this.player.on("playbackcomplete",this.onplaybackcomplete.bind(this)).on("mute",this.trigger.bind(this,"uiplayablemediamute")).on("unmute",this.trigger.bind(this,"uiplayablemediaunmute")).on("play",this.trigger.bind(this,"uiplayablemediaplay")).on("pause",this.trigger.bind(this,"uiplayablemediapause")).on("ready",this.onplayerready.bind(this,t)).on("livestarted",this.trigger.bind(this,"uilivebroadcastshowbadge")).on("liveended",this.trigger.bind(this,"uilivebroadcasthidebadge")).on("nocookieserror",this.trigger.bind(this,"uiplayablemedianocookieserror")).on("geoblockerror",this.trigger.bind(this,"uiplayablemediageoblockerror"))},this.getborderradius=function(t){var e=parseint(t.attr("data-border-top-left-radius")),i=parseint(t.attr("data-border-top-right-radius")),s=parseint(t.attr("data-border-bottom-left-radius")),n=parseint(t.attr("data-border-bottom-right-radius"));return{topleft:isnan(e)?void 0:e,topright:isnan(i)?void 0:i,bottomleft:isnan(s)?void 0:s,bottomright:isnan(n)?void 0:n}},this.shouldignorefinegraingeoblocking=function(){return this.$playercontainer.attr("data-ignore-fine-grain-geoblocking")},this.getplayersurface=function(e){return t(e).data("player-surface")},this.getrequestedtimecode=function(e){return t(e).data("requested-timecode")},this.getvideoid=function(t){return void 0!==this.livevideoid?t.forliveevent(this.livevideoid,this.tweetid,this.impressionid):void 0!==this.broadcastid?t.forbroadcast(this.broadcastid,this.tweetid,this.impressionid):void 0!==this.dmid?t.fordm(this.dmid):t.fortweet(this.tweetid,this.impressionid,this.$node.attr("data-video-index"))},this.createanalyticsinstance=function(t,e){var i=this,s=this.getplayercontext();return new t({log:function(t){i.trigger(document,"scribe",{scribeevent:u({component:i.scribecontext.component},t.namespace),scribedata:u({_category_:t.category},t.data)})}},{log:function(t){i.trigger(document,"uilogpromotedevent",t)}},e,s)},this.getplayerconstructor=function(t){return void 0!==this.livevideoid?d.a.createplayerforlivevideo.bind(this,t,this.livevideoid):void 0!==this.dmid?d.a.createplayerfordm.bind(this,t,this.dmid):d.a.createplayerfortweet.bind(this,t,this.tweetid)},this.getpromotedcontext=function(){if(this.impressionid)return{impressionid:this.impressionid,disclosuretype:this.$node.closest("[data-disclosure-type]").attr("data-disclosure-type")}},this.getplayercontext=function(){var t=this.$node.closest("[data-player-component-context]").attr("data-player-component-context")||"";return{scribecontext:this.scribecontext,periscopecomponent:t,cardtype:this.$node.closest("[data-card2-type]").attr("data-card2-type")}},this.getscribecontext=function(){var t=void 0;return void 0!==this.tweetid&&(t="tweet"),u({client:"web"},a.a.scribecontext,{component:this.$node.closest("[data-component-context]").attr("data-component-context")||t})},this.onplayerready=function(t){this.playoninit||t.hasclass("play-on-init")?(this.player.play(),this.muteoninit&&this.player.mute()):(this.autoplayoninit||this.$node.closest("[data-autoplaying-media=true]").length>0)&&this.player.playpreview(),this.trigger("uiplayablemediaready"),this.livevideoid&&!this.shouldusereactplayer&&this.player.updatelayoutbreakpoint({breakpoint:this.getbreakpoint()})},this.pausemedia=function(){this.player?this.player.pause():(this.autoplayoninit=!1,this.playoninit=!1)},this.playmedia=function(){this.player?this.player.play():(this.autoplayoninit=!1,this.playoninit=!0)},this.mutemedia=function(){this.muteoninit=!0,this.player&&this.player.mute()},this.unmutemedia=function(){this.muteoninit=!1,this.player&&this.player.unmute()},this.requestdynamicvideoad=function(){return this.getdynamicvideoad({id:this.tweetid,promoted_id:this.impressionid})},this.onplaybackcomplete=function(){this.trigger("uiplayablemediaplaybackcomplete"),this.trigger("uilivebroadcasthidebadge")},this.removeplayer=function(){this.$node.removeclass(this.attr.playerloadedclass),this.player&&(this.playerwrapper&&this.reactdom?(this.reactdom.unmountcomponentatnode(this.playerwrapper),this.playerwrapper.parentnode&&this.playerwrapper.parentnode.removechild(this.playerwrapper),this.playerwrapper=void 0):this.player.teardown(),this.player=void 0)},this.before("teardown",function(){this.removeplayer()}),this.teardownifpresent=function(){0===this.$node.closest("body").length&&this.teardown()},this.updateposition=function(t,e){!this.player||e.tweetid!==this.tweetid&&e.tweetid!==this.tweetnonce||this.player.updateposition(e.positiondata)},this.updatelayoutbreakpoint=function(t,e){this.livevideoid&&this.player&&!this.shouldusereactplayer&&this.player.updatelayoutbreakpoint(e)},this.onpauseallmedia=function(){(this.livevideoid||this.broadcastid)&&this.attr.livevideocontinueplayingbehindmodalsenabled||this.pausemedia()},this.exitfullscreen=function(){this.livevideoid&&this.player.exitfullscreen()},this.externalurlblockclick=function(t,e){var i=u({},this.getscribecontext(),{action:"click"});this.haspartnervideo&&(i.element="partner_video_card_content"),this.scribe(i,e,{id:this.tweetid})},this.loadplayer=function(e,i){"tweetid"in i&&(i.tweetid===this.tweetid||i.tweetid===this.tweetnonce)&&("index"in i&&this.$node.attr("data-video-index",i.index),this.$node.removeclass(this.attr.placeholderclass),this.loadmedia(),t(document).trigger("uiwatchplayablemedia"))},this.teardownplayer=function(t,e){"tweetid"in e&&e.tweetid===this.tweetid&&this.removeplayer()},this.after("initialize",function(){var t=this.$node.closest("[data-tweet-id]");this.tweetid=t.attr("data-tweet-id"),this.tweetnonce=t.attr("data-tweet-nonce"),this.haspartnervideo=t.attr("data-has-partner-video"),this.dmid=this.$node.closest("[data-message-id]").attr("data-message-id"),this.livevideoid=this.$node.closest("[data-live-video-id]").attr("data-live-video-id"),this.impressionid=this.$node.closest("[data-impression-id]").attr("data-impression-id"),this.broadcastid=this.$node.closest("[data-broadcast-id]").attr("data-broadcast-id"),this.$playercontainer=this.select("playerselector"),this.playercontainer=this.$playercontainer.get(0),this.shouldusereactplayer=this.playercontainer.hasattribute("data-use-react-player"),this.shouldusebversionofreactplayer=this.playercontainer.hasattribute("data-use-b-version-of-react-player"),this.shoulduseplayerprecache=this.playercontainer.hasattribute("data-use-player-precache"),this.shouldserveadsinplayer=this.playercontainer.hasattribute("data-serve-ads-in-player"),this.on("click",{externalurlblock:this.externalurlblockclick}),this.attr.autoplayonhover&&(this.on("mouseenter",this.autoplay),this.on("mouseleave",this.autoplaystop)),this.on("uiloadplayablemedia",this.loadmedia),this.on("uiunloadplayablemedia",this.removeplayer),this.on("uiunmutemedia",this.unmutemedia),this.on("uimutemedia",this.mutemedia),this.on("uiplaymedia",this.playmedia),this.on("uipausemedia",this.pausemedia),this.on("uiautoplaymedia",this.autoplay),this.on("uistopautoplayingmedia",this.autoplaystop),this.on(document,"uipauseallmedia",this.onpauseallmedia),this.on(document,"uiplayablemediapositionchange",this.updateposition),this.on(document,"uiwatchplayablemedia uioverlayclosed",this.teardownifpresent),this.on(document,"uilivevideobreakpointupdate",this.updatelayoutbreakpoint),this.on(document,"uilivevideoexitfullscreen",this.exitfullscreen),this.on(document,"uiloadplayer",this.loadplayer),this.on(document,"uiteardowncardplayer",this.teardownplayer)})}var n=i("dbjh"),o=i("vuuo"),a=i("nnes"),r=i("jkw3"),c=i("ttv8"),l=i("3odc"),h=i("7j8l"),d=i.n(h),u=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t};e.a=object(n.default)(s,o.a,r.a,c.a,l.a)}).call(e,i("4ksj"))},tito:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({deleteselector:".dmdeletemessageaction",reportselector:".dmreportmessageaction"}),this.hidemessage=function(t,e){if("not_spam"!==e.report_as){this.hiddenmessages=this.hiddenmessages||{};var i=".dmconversation [data-message-id=""+e.id+""] {display: none !important;}";this.hiddenmessages[e.id]=this.insertcssrule(this.stylesheet,i)}},this.unhidemessage=function(t,e){this.hiddenmessages=this.hiddenmessages||{};var i=this.hiddenmessages[e.id];null!=i&&this.removecssrule(this.stylesheet,i)},this.messageaction=function(e,i){var s=t(i.target);this.trigger(e,{messageid:s.closest("[data-message-id]").attr("data-message-id"),senderid:s.closest("[data-sender-id]").attr("data-sender-id"),conversationid:s.closest("[data-thread-id]").attr("data-thread-id"),is_group:!s.closest("[data-is-oto]").data("is-oto")})},this.after("initialize",function(){this.stylesheet=this.createstylesheet("hidden-dms"),this.on("uidmdialogreportdm uidmdialogdeletemessage",this.hidemessage),this.on("datadmdeletefailed datadmreportfailed",this.unhidemessage);var t=void 0;t=a.a.getdecider("dm_report_webview_macaw_swift_enabled")?"uidmlaunchdmreportwebview":"uishowdmreportmessageconfirmation",this.on("click",{deleteselector:this.messageaction.bind(this,"uishowdmdeletemessageconfirmation"),reportselector:this.messageaction.bind(this,t)})})}var n=i("dbjh"),o=i("9qtu"),a=i("iamj"),r=object(n.default)(s,o.a);e.a=r}).call(e,i("4ksj"))},tnqm:function(t,e,i){"use strict";var s=i("dbjh"),n=i("3odc");e.a=object(s.default)(n.a,function(){this.defaultattrs({nightmodeactivated:!1}),this.scribeforeground=function(){this.scribe({element:this.attr.nightmodeactivated?"nightmode":"normal",action:"foreground"})},this.updatenightmode=function(t,e){this.attr.nightmodeactivated=e.nightmodeactivated},this.after("initialize",function(t){this.on("uipagevisible",this.scribeforeground),this.on("uinightmodechanged",this.updatenightmode)})})},ttv8:function(t,e,i){"use strict";function s(){n.default.mixin(this,[o.a,a.a]),this.getdynamicvideoad=function(t){var e=this.adcachekey({id:t.id,promoted_id:t.promoted_id}),i=this.getdynamicvideoadfromcache(e);return this.trigger("uirefreshvideoadcache",{tweet:t,triggerad:i}),i||{}}}var n=i("q9/c"),o=i("rmeb"),a=i("tvrk");e.a=s},txp3:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({scribecontext:{component:"profile_hover"}}),this.scribeprofilepopupopen=function(e,i){if(i.ishoverrequest){i.user_id=i.user_id||t(e.target).attr("data-user-id"),-1!==["profile","me"].indexof(this.clientevent.scribecontext.page)&&this.clientevent.scribedata.profile_id||(this.clientevent.scribedata.profile_id=i.user_id);var s=r({},this.attr.scribecontext,{action:"open"});this.scribeinteraction(s,i)}},this.cleanupprofilepopupscribing=function(t,e){this.clientevent.scribedata.profile_id&&-1===["profile","me"].indexof(this.clientevent.scribecontext.page)&&delete this.clientevent.scribedata.profile_id},this.after("initialize",function(){this.clientevent=a.a,this.on(document,"uihideprofilehover",this.cleanupprofilepopupscribing),this.on(document,"uihovershown",this.scribeprofilepopupopen)})}var n=i("dbjh"),o=i("gcfh"),a=i("nnes"),r=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t};e.a=object(n.default)(s,o.a)}).call(e,i("4ksj"))},tceo:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({weights:{cached_profile_visit:10,uncached_profile_visit:75,follow:100}}),this.cleanupuserdata=function(t){this.shoulduseindexeddb()?this.removeaccountasync(parseint(t,10)):this.removeaccount(t),this.addtouserblacklist(t)},this.onfollowstatechange=function(t,e){if(e.userid){switch(e.newstate){case"blocked":case"not-following":this.cleanupuserdata(e.userid);break;case"following":e.user&&(this.adjustscoreboost(e.user,this.attr.weights.follow),this.shoulduseindexeddb()?this.addaccountforfollowasync(e.user):this.addaccount(e.user,"following"),this.removeuserfromblacklist(e.userid))}this.shoulduseindexeddb()||this.updatelocalstorage()}},this.onprofilevisit=function(t,e){this.shoulduseindexeddb()?this.handleprofilevisitasync(e):this.handleprofilevisitsync(e)},this.handleprofilevisitasync=function(t){this.datasources.accounts.getaccounts([t.id]).then(this.processuserasync.bind(this,t)).then(this.datasources.accounts.addaccount.bind(this.datasources.accounts))},this.processuserasync=function(t,e){e=o.a.compact(e);var i=0!==e.length,s=i?this.attr.weights.cached_profile_visit:this.attr.weights.uncached_profile_visit,a=i?e[0].account:t;return this.adjustscoreboost(a,s),i||(a.tokens=["@"+a.screen_name,a.screen_name].concat(n.a.tokenizetext(a.name))),a},this.handleprofilevisitsync=function(t){var e=this.datasources.accounts.userhash[t.id];this.processusersync(t,e)},this.processusersync=function(t,e){e?this.adjustscoreboost(e,this.attr.weights.cached_profile_visit):(this.adjustscoreboost(t,this.attr.weights.uncached_profile_visit),this.addaccount(t,"visit")),this.updatelocalstorage()},this.updatelocalstorage=function(){this.datasources.accounts.storage.setitem("userhash",this.datasources.accounts.userhash,this.datasources.accounts.attr.ttl),this.datasources.accounts.storage.setitem("adjacencylist",this.datasources.accounts.adjacencylist,this.datasources.accounts.attr.ttl),this.datasources.accounts.storage.setitem("version",this.datasources.accounts.attr.version,this.datasources.accounts.attr.ttl)},this.removeaccount=function(t){if(this.datasources.accounts.userhash[t]){this.datasources.accounts.userhash[t].tokens.foreach(function(e){var i=this.datasources.accounts.adjacencylist[e.charat(0)];if(i){var s=i.indexof(t);-1!==s&&i.splice(s,1)}},this),delete this.datasources.accounts.userhash[t]}},this.removeaccountasync=function(t){this.datasources.accounts.removeaccount(t)},this.adjustscoreboost=function(t,e){t.score_boost?t.score_boost+=e:t.score_boost=e},this.addaccount=function(t,e){this.datasources.accounts.userhash[t.id]=t,t.tokens=["@"+t.screen_name,t.screen_name].concat(n.a.tokenizetext(t.name)),t.social_proof="following"===e?1:0,t.tokens.foreach(function(e){var i=e.charat(0);if(e.trim().length)return this.datasources.accounts.adjacencylist[i]?void(-1===this.datasources.accounts.adjacencylist[i].indexof(t.id)&&this.datasources.accounts.adjacencylist[i].push(t.id)):void(this.datasources.accounts.adjacencylist[i]=[t.id])},this)},this.addaccountforfollowasync=function(t){t.tokens=["@"+t.screen_name,t.screen_name].concat(n.a.tokenizetext(t.name)),t.social_proof=1,this.datasources.accounts.addaccount(t)},this.removeoldaccountsinblacklist=function(){var t=void 0,e=void 0,i=0,s=this.datasources.accounts.attr.maxlengthblacklist||100,n=this.datasources.accounts.socialcontextblacklist,o=(new date).gettime(),a=this.datasources.accounts.attr.ttl_ms;for(e in n){n[e]+a<o?delete n[e]:(t=t||e,t=n[t]>n[e]?e:t,i+=1)}s<i&&delete n[t]},this.updateblacklistlocalstorage=function(t){this.datasources.accounts.storage.setitem("userblacklist",t,this.attr.ttl)},this.addtouserblacklist=function(t){var e=this.datasources.accounts.socialcontextblacklist;e[t]=(new date).gettime(),this.removeoldaccountsinblacklist(),this.updateblacklistlocalstorage(e)},this.removeuserfromblacklist=function(t){var e=this.datasources.accounts.socialcontextblacklist;this.removeoldaccountsinblacklist(),e[t]&&(delete e[t],this.updateblacklistlocalstorage(e))},this.checkitemtypeforrecentsearch=function(t){return"saved_search"===t||"topics"===t||"recent_search"===t},this.addsavedsearch=function(t,e){this.datasources.savedsearches.addsavedsearch(e)},this.removesavedsearch=function(t,e){this.datasources.savedsearches.removesavedsearch(e)},this.addrecentsearch=function(t,e){"search"===e.source?this.datasources.recentsearches.addrecentsearch({query:e.query}):this.checkitemtypeforrecentsearch(e.source)&&e.issearchinput&&this.datasources.recentsearches.addrecentsearch({query:e.query})},this.removerecentsearch=function(e,i){i.deleteall?this.datasources.recentsearches.removeallrecentsearches():this.datasources.recentsearches.removeonerecentsearch(i),t(e.target).trigger("datatypeaheadrecentsearchdeleted")},this.updateselectedusers=function(t,e){this.datasources.selectedusers.updateselectedusers(e)},this.settrendlocations=function(t,e){this.datasources.trendlocations.settrendlocations(e)},this.updateprefill=function(t,e){this.datasources.prefillusers.updaterecentlyselectedusers(e)},this.checkdmconversationfreshness=function(t,e){this.datasources.dmconversations.repopulateifstale(e&&e.trusted.groups)},this.addfollowedsearches=function(t,e){this.datasources.followedsearches&&this.datasources.followedsearches.additems(e)},this.removefollowedsearch=function(t,e){this.datasources.followedsearches&&this.datasources.followedsearches.removeitem(e)},this.setupeventlisteners=function(t){switch(t){case"accounts":this.on("datafollowstatechange",this.onfollowstatechange),this.on("profilevisit",this.onprofilevisit);break;case"savedsearches":this.on(document,"dataaddedsavedsearch",this.addsavedsearch),this.on(document,"dataremovedsavedsearch",this.removesavedsearch);break;case"followedsearches":this.on(document,"uiswiftloaded","datagetfollowsearchlist"),this.on(document,"datagetfollowsearchlistsuccess dataaddfollowsearchtotypeaheadlist",this.addfollowedsearches),this.on(document,"dataremovefollowsearchfromtypeaheadlist",this.removefollowedsearch);break;case"recentsearches":this.on("uisearchquery uitypeaheaditemselected",this.addrecentsearch),this.on("uitypeaheaddeleterecentsearch",this.removerecentsearch);break;case"trendlocations":this.on(document,"dataloadedtrendlocations",this.settrendlocations);break;case"selectedusers":this.on("uiupdatedselectedusers",this.updateselectedusers);break;case"prefillusers":this.on("uiupdaterecenttags",this.updateprefill);break;case"dmconversations":this.on("datadmconversationlistresult",this.checkdmconversationfreshness)}}}var n=i("pfsh"),o=i("kgvp");e.a=s}).call(e,i("4ksj"))},"thx/":function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({locationattachmentselector:".dmlocationattachment",expandedmapuridata:"expanded-url",headerselector:".dmlocationattachment-textheader",bylineselector:".dmlocationattachment-byline",headertextdata:"header-text",bylinetextdata:"byline-text"}),this.getclosestexpandedmapuri=function(t){return t.closest(this.attr.locationattachmentselector).data(this.attr.expandedmapuridata)},this.handleclick=function(e,i){e.preventdefault();var s=t(e.target),n=s.closest(this.attr.locationattachmentselector),o=this.getclosestexpandedmapuri(s),a=n.find(this.attr.headerselector).data(this.attr.headertextdata),r=n.find(this.attr.bylineselector).data(this.attr.bylinetextdata);o&&this.trigger("uilocationattachmentclicked",{src:o,blackline:a,grayline:r})},this.after("initialize",function(){this.on("click",{locationattachmentselector:this.handleclick})})}var n=i("dbjh"),o=object(n.default)(s);e.a=o}).call(e,i("4ksj"))},tkyg:function(t,e,i){"use strict";(function(t){var s=i("dbjh"),n=i("fnwm"),o=i("a0ja"),a=i("uhc7"),r=i("wqlg"),c=i("ajan"),l=i("jfpi"),h="function"==typeof symbol&&"symbol"==typeof symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof symbol&&t.constructor===symbol&&t!==symbol.prototype?"symbol":typeof t};e.a=object(s.default)(a.a,c.a,r.a,function(){this.defaultattrs({replycontextselector:".tweetstormdialog-reply-context",tweetstormcontexttweettype:"thread_context",top:"5%"}),this.attachtweetstomui=function(){this.tweetboxready||(this.attachchild(n.a,t(this.node),{composealttext:this.attr.composealttext,typeaheaddata:this.attr.typeaheaddata}),this.tweetboxready=!0)},this.displayreplycontext=function(t,e){"id"in e&&"tweet_html"in e&&"sourceeventdata"in e&&e.sourceeventdata.modal===this.attr.tweetstormcontexttweettype&&this.select("replycontextselector").removeclass("hidden")},this.opentweetstormdialog=function(t,e){this.attachtweetstomui(),this.trigger("uitweetstorminit",e),"object"===(void 0===e?"undefined":h(e))&&e.previousstatusidinthread&&this.displaytweet(e.previousstatusidinthread,{modal:this.attr.tweetstormcontexttweettype}),this.open()},this.restoredialogfromuploaderror=function(t,e){var i=this;this.trigger("uitweetstormrestoreonerror",e),"object"===(void 0===e?"undefined":h(e))&&e.previousstatusidinthread&&this.displaytweet(e.previousstatusidinthread,{modal:this.attr.tweetstormcontexttweettype}),this.isopen()?settimeout(function(){return i.open()},800):this.open()},this.restoredialogfromdraft=function(t,e){this.attachtweetstomui(),this.trigger("uitweetstormrestoredraft",e),this.open()},this.around("close",function(t,e,i){o.a.isallempty||"uiclosetweetstormdialogconfirm"===e.type||"datatweetstormuploadstart"===e.type?("datatweetstormuploadstart"!==e.type&&this.trigger("uitweetstormabandon"),this.trigger("uitweetstormremovedbthread"),this.select("replycontextselector").addclass("hidden"),t(e)):o.a.length>1?this.trigger("uiopenconfirmdialog",l.e):this.trigger("uiopenconfirmdialog",l.f)}),this.after("initialize",function(){this.on(document,"datagottweet",this.displayreplycontext),this.on(document,"uiopentweetstormdialog",this.opentweetstormdialog),this.on(document,"uirestoretweetstormdialog",this.restoredialogfromdraft),this.on(document,"datatweetstormuploaderror",this.restoredialogfromuploaderror),this.on(document,"datatweetstormuploadstart",this.close),this.on(document,"uiclosetweetstormdialogconfirm",this.close)})})}).call(e,i("4ksj"))},tuog:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({streamitemselector:"> .js-stream-item",streamitemcontainerselector:"> .js-stream-item",scrolldebounceinterval:100}),this.enabledscrollcheck=function(t){var e=this,i=this.getpromptidfromnode(t);settimeout(function(){return e.updatevisibility(t)},0),this.on(window,"scroll.prompt"+i,a.default.debounce(this.updatevisibility.bind(this,t),this.attr.scrolldebounceinterval))},this.disablescrollcheck=function(t){var e=t.data("prompt-id");this.off(window,"scroll.prompt"+e)},this.updatevisibility=function(e,i,s){var n=r.a.iswithinbounds(t(window),e),o=this.getpromptidfromnode(e);!this.promptvisibility[o]&&n&&this.trigger("uiinlinepromptscrolledin",this.triggerdata(o)),this.promptvisibility[o]=n},this.insertpromptatindex=function(e,i,s){var n=s?"before":"after",o=t(e.html);this.select("streamitemcontainerselector").eq(i)[n](o),this.enabledscrollcheck(o)},this.before("removeprompt",this.disablescrollcheck),this.after("initialize",function(){this.attr.triggerimpressiononinsert=!1,this.promptvisibility={}})}var n=i("k7b4"),o=i("bn2o"),a=i("yzit"),r=i("/lrg");e.a=n.a.mixin(s,o.a)}).call(e,i("4ksj"))},twgl:function(t,e,i){"use strict";function s(t){n.a.attachto(document,t),o.a.attachto(document,t),a.a.attachto(document,t),r.a.attachto("#global-tweet-dialog",{autoplaydisabled:t.autoplaydisabled,environment:t.environment}),c.a.attachto("#global-new-tweet-button",{eventdata:{scribecontext:{component:"top_bar",element:"tweet_button"}},isglobaltweetbutton:!0,defaulttext:t.query,cursorposition:t.query?0:void 0}),l.a.attachto(document,t),h.a.attachto(document,t)}var n=i("pom1"),o=i("esrd"),a=i("wvpq"),r=i("kqm4"),c=i("fuor"),l=i("r8vg"),h=i("ec06");e.a=s},"u8+l":function(t,e,i){"use strict";function s(){this.scribecreatemoment=function(t,e){var i=e&&e.scribecontext&&e.scribecontext.component;this.scribe({component:i,element:"create_moment_button",action:"click"})},this.after("initialize",function(){this.on("uimomentmakercreatemoment",this.scribecreatemoment)})}var n=i("dbjh"),o=i("3odc");e.a=object(n.default)(s,o.a)},ufzu:function(t,e,i){"use strict";function s(){this.attributes({addparticipantsselector:".dmaddparticipants",addparticipantsinputselector:".tokenizedmultiselect-input",addparticipantsdoneselector:".dmaddparticipants-done",dialogbodyselector:".dmaddparticipants-content",spinnerselector:".dmaddparticipants-spinner"}),this.setparticipants=function(t,e){this.conversationid&&this.conversationid===e.conversation_id&&(this.resetdmtypeahead(e),this.select("dialogbodyselector").css("visibility","visible"),this.select("spinnerselector").addclass("u-hidden"),this.select("addparticipantsinputselector").focus())},this.resetdmtypeahead=function(t){var e=t||{},i=e.participants&&e.participants.map(function(t){return t.id});this.trigger(this.attr.addparticipantsselector,"uiinitializedmtypeahead",{preselecteditems:i,maxitems:e.additional_participants_allowed})},this.prepareaddparticipants=function(t,e){this.conversationid=e.conversation_id,this.select("dialogbodyselector").css("visibility","hidden"),this.select("spinnerselector").removeclass("u-hidden"),this.resetdmtypeahead(),this.trigger("uineedsdmconversation",{conversation_id:e.conversation_id})},this.addparticipants=function(){this.conversationid&&this.selectedaccounts.length&&this.trigger("uiaddconversationparticipants",{conversation_id:this.conversationid,participant_ids:this.selectedaccounts}),this.trigger("uidmaddparticipantsdone")},this.handleselecteditems=function(t,e){var i=e&&e.accounts&&e.accounts.length?e.accounts:[];this.selectedaccounts=i.map(function(t){return t.id})},this.possibleaddparticipants=function(t,e){("click"===t.type||"keydown"===t.type&&t.which===a.a.enter)&&this.addparticipants()},this.after("initialize",function(){this.attachchild(o.a,this.select("addparticipantsselector")),this.selectedaccounts=[],this.on("uidmtypeaheadselecteditemschanged",this.handleselecteditems),this.on(document,"datadmconversationresult",this.setparticipants),this.on("uiaddparticipants",this.prepareaddparticipants),this.on("click keydown",{addparticipantsdoneselector:this.possibleaddparticipants})})}var n=i("dbjh"),o=i("7vcw"),a=i("i3qs"),r=i("ajan");e.a=object(n.default)(s,r.a)},"unb/":function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div class="dmtrustrequest">\n <div class="dmtrustrequest-message">\n'),s.s(s.f("is_oto",t,e,1),t,e,0,83,304,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" do you want to allow "),i.b(i.v(i.f("conversation_title",t,e,0))),i.b(" to message you? they won't know you've seen their request until you choose to accept. <button class=\"js-actionreportconversation btn-link\">flag conversation</button>\n")}),t.pop()),s.b("\n"+i),s.s(s.f("is_oto",t,e,1),t,e,1,0,0,"")||s.b(" do you want to participate in this group? they won't know you've seen the request until you choose to accept. <button class=\"js-actionreportconversation btn-link\">flag conversation</button>\n"),s.b(' </div>\n <div class="dmtrustrequest-actions">\n'),s.s(s.f("is_oto",t,e,1),t,e,0,608,709,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <button class="js-actiondeleteconversation edgebutton edgebutton--danger">delete</button>\n')}),t.pop()),s.s(s.f("is_oto",t,e,1),t,e,1,0,0,"")||s.b(' <button class="js-actiondeleteconversation edgebutton edgebutton--danger">leave</button>\n'),s.b(' <button class="dmtrustrequest-confirm edgebutton edgebutton--primary">accept</button>\n </div>\n</div>'),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},unvb:function(t,e,i){"use strict";e.a={clientsideuser:0,serversideuser:1,clientsideapp:2,serversideapp:3}},uvly:function(t,e,i){"use strict";function s(t){var e=object(r.b)(t),i=c(e,3),s=i[0],n=i[1],a=i[2],l={r:.2126,g:.7152,b:.0722};return l.r*o(s/255)+l.g*o(n/255)+l.b*o(a/255)}function n(t,e){return s(t)>s(e)}function o(t){return t<=.03928?t/12.92:math.pow((t+.055)/1.055,2.4)}function a(t,e){return n(t,e)?(s(t)+.05)/(s(e)+.05):(s(e)+.05)/(s(t)+.05)}i.d(e,"a",function(){return a});var r=i("9f29"),c=function(){function t(t,e){var i=[],s=!0,n=!1,o=void 0;try{for(var a,r=t[symbol.iterator]();!(s=(a=r.next()).done)&&(i.push(a.value),!e||i.length!==e);s=!0);}catch(t){n=!0,o=t}finally{try{!s&&r.return&&r.return()}finally{if(n)throw o}}return i}return function(e,i){if(array.isarray(e))return e;if(symbol.iterator in object(e))return t(e,i);throw new typeerror("invalid attempt to destructure non-iterable instance")}}()},uxvi:function(t,e,i){"use strict";var s={getid:function(t){return t.attr("data-user-id")},getname:function(t){return t.data("name")},getscreenname:function(t){return t.data("screen-name")}};e.a=s},"uaj/":function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({applybuttonselector:".mediaeditdialog-applyalttextbutton",alttexttextareaselector:".mediaeditdialog-alttexttextarea",donetargetselector:".js-done",closetargetselector:".js-close",photocontainerselector:".mediaeditdialog-photocontainer",videotrimselector:".videotrim",videotitleselector:".mediaeditform-title",videodescriptionselector:".mediaeditform-description",videoctaselectselector:".mediaeditform-ctaselect",videoctaurlselector:".mediaeditform-ctaurl",videoembeddableselector:".mediaeditform-embeddable",videotitlecharcounterselector:".mediaeditform-titlecharcounter",videodescriptioncharcounterselector:".mediaeditform-descriptioncharcounter",videotitlemaxlength:70,videodescriptionmaxlength:200}),this.fileid=0,this.rendermediaeditdialog=function(t){var e=this.advancedvideofeatures,i=t.advanced||{},s={alt_text:t.alttext,can_compose_alt_text:this.cancomposealttext(),has_cta:""!==i.ctatype,is_cta_visit_site:"visit_site"===i.ctatype,is_cta_watch_now:"watch_now"===i.ctatype,is_gif:this.isgif,is_photo:this.isphoto,is_video:this.isvideo,is_video_embeddable:i.embeddable||void 0===i.embeddable,title:this.gettitle(),video_ctl_url:i.ctaurl,video_title:i.title,video_description:i.description,whitelisted_video_user:e},o=m.a.render(s);this.$node.html(o),this.$dialog=this.$dialogcontainer.find(this.attr.modalselector),this.isvideo&&(this.attachchild(h.a,this.select("videotrimselector"),{maxselectionduration:k,maxvisibleduration:1.2*k,defaultselectionduration:x}),e&&(this.attachchild(n.a,this.select("videotitlecharcounterselector"),{maxlength:this.attr.videotitlemaxlength}),this.attachchild(n.a,this.select("videodescriptioncharcounterselector"),{maxlength:this.attr.videodescriptionmaxlength})))},this.openmediaeditdialog=function(t,e){var i=e.fileid,s=c.a.get(i);if(s&&(this.fileid=i,this.isvideo=s.isvideo,this.isgif=s.isgif,this.isimage=s.isimage,this.composealttext=e.composealttext,this.advancedvideofeatures=l.a.getdecidervalue("web_upload_video_advanced"),this.rendermediaeditdialog(s),this.open(),this.loadmedia(s),this.cancomposealttext())){var n=this.select("alttexttextareaselector")[0],o=n.value;this.initialalttext=o,this.resizealttextinput(),n.selectionstart=n.selectionend=o.length}},this.loadmedia=function(t){this.isvideo?(this.loadvideo(t),this.trigger(this.select("videotitlecharcounterselector"),"uicharactercounterupdate"),this.trigger(this.select("videodescriptioncharcounterselector"),"uicharactercounterupdate")):this.loadphoto(t.thumbnail.src)},this.loadvideo=function(e){this.mediaobjecturl=a.a.getobjecturl(e.filehandle),this.trigger(this.select("videotrimselector"),"uiloadvideo",{videosrc:this.mediaobjecturl,initialtrimrange:e.trimrange}),t(document).trigger("uipauseallmedia")},this.sizeandposition=function(){var t=this.select("photocontainerselector").find("img");r.a.resetminsize(this.$dialog),r.a.resizemedia(t,this.$dialog,!1,".modal-footer",!1),this.position()},this.loadphoto=function(e){var i=t("<img>",{class:"mediaeditdialog-photo",src:e,on:{load:this.sizeandposition.bind(this)}});this.select("photocontainerselector").html(i)},this.expandvideodescription=function(){var t=3*parseint(this.select("videodescriptionselector").css("line-height"));this.off(this.select("videodescriptionselector"),"focus",this.expandvideodescription),this.select("videodescriptionselector").height(t)},this.cancomposealttext=function(){return!this.isvideo&&!this.isgif&&this.composealttext},this.gettitle=function(){var t=void 0;return this.isvideo?t=this.advancedvideofeatures?s:c:this.isgif?t=y:this.isimage&&(t=this.cancomposealttext()?d:t),t},this.displayvideoctaurl=function(){var t=""===this.select("videoctaselectselector").val();this.select("videoctaselectselector").toggleclass("u-inactive",t),this.select("videoctaurlselector").toggleclass("u-hidden",t),t?this.select("videoctaurlselector").removeattr("data-valid"):(this.validatevideoctaurl(),this.select("videoctaurlselector").focus()),this.trigger("uivalidateform")},this.validateform=function(){var t=this.isvalidinput("videoctaurlselector"),e=this.isvalidinput("videotitleselector")&&this.isvalidinput("videodescriptionselector")&&t;return e?this.select("donetargetselector").prop("disabled",!1):(this.select("donetargetselector").prop("disabled",!0),!t&&this.select("videoctaurlselector").val().length&&(this.trigger(document,"uishowmessage",{message:w}),this.select("videoctaurlselector").focus())),e},this.isvalidinput=function(t){return"false"!==this.select(t).attr("data-valid")},this.validatevideoctaurl=function(){var t=this.select("videoctaurlselector").val(),e=this.isvalidurl(t);return this.select("videoctaurlselector").attr("data-valid",e),this.trigger("uivalidateform"),e},this.isvalidurl=function(t){return b.test(t.trim())},this.notifyeditdone=function(){this.trigger("uimediaeditdialogdone",{fileid:this.fileid})},this.updatevideoinfo=function(t,e){var i=g({},e,{duration:t.trimend-t.trimstart});return c.a.update(t.fileid,i)},this.editdone=function(){var t=this.isvideo,e=t?{trimstart:this.trimstart,trimend:this.trimend,trimrange:this.trimrange}:{},i=t&&this.advancedvideofeatures?{advanced:{title:this.select("videotitleselector").val(),description:this.select("videodescriptionselector").val(),ctatype:this.select("videoctaselectselector").val(),ctaurl:this.select("videoctaurlselector").val(),embeddable:this.select("videoembeddableselector").is(":checked")}}:{},s=this.cancomposealttext()?{alttext:(this.select("alttexttextareaselector").val()||"").trim()}:{},n=g({},e,i,s),o=c.a.update(this.fileid,n);t?a.a.getvideoinfo(o.filehandle,this.trimstart).then(this.updatevideoinfo.bind(this,o)).then(this.notifyeditdone.bind(this)):this.notifyeditdone()},this.closemediaeditdialog=function(e,i){this.isvideo&&(this.trigger(this.select("videotrimselector"),"uiunloadvideo"),this.mediaobjecturl&&(a.a.revokeobjecturl(this.mediaobjecturl),this.mediaobjecturl=null)),this.cancomposealttext()&&this.select("alttexttextareaselector").val(""),this.close(),this.activeel?t(this.activeel).closest(".tweet-form, .modal").find(".tweet-box").focus():this.restorepreviousfocus()},this.updatetrimrange=function(t,e){this.trimstart=e.trimstart,this.trimend=e.trimend,this.trimrange=e.trimrange},this.resizealttextinput=function(t){var e=this.select("alttexttextareaselector"),i=e[0],s=e.innerheight()-e.height(),n=this.select("applybuttonselector"),o=n.outerheight()-4;e.height(1);var a=math.max(i.scrollheight,o);e.height(math.min(a-s,i)),i.style.display="none",i.offsetheight,i.style.display=""},this.toggleapplybuttonstate=function(e){var i=t(e.target).val();this.select("applybuttonselector").prop("disabled",!(this.initialalttext!==i))},this.after("initialize",function(){this.on(document,"uiopenmediaeditdialog",this.openmediaeditdialog),this.on("uishortcutesc uidialogclosed uimediaeditdialogdone",this.closemediaeditdialog),this.on("uitrimrangechanged",this.updatetrimrange),this.on("click",{donetargetselector:this.editdone,closetargetselector:this.closemediaeditdialog}),this.on("uishortcutcmdenter",this.editdone),this.on("change",{videotitleselector:this.validateform,videodescriptionselector:this.validateform,videoctaselectselector:this.displayvideoctaurl,videoctaurlselector:this.validatevideoctaurl}),this.on("input",{alttexttextareaselector:this.toggleapplybuttonstate}),this.on("uivalidateform",this.validateform),this.on("focusin",{videodescriptionselector:this.expandvideodescription}),this.on("input",{alttexttextareaselector:this.resizealttextinput})})}var n=i("wf2x"),o=i("dbjh"),a=i("+dwm"),r=i("hotm"),c=i("h6fk"),l=i("iamj"),h=i("t0ie"),d=i("uhc7"),u=i("ajan"),p=i("0d4m"),f=i("lsln"),m=i.n(f),g=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},v=object(o.default)(s,d.a,u.a,n.a),b=/^(https?:\/\/)?[a-z0-9-.]+\.[a-z]+\/?([^\s<>#%",{}\\|\\^[\]`]+)?$/,w=object(p.default)("url is not valid"),s=object(p.default)("edit"),c=object(p.default)("trim"),y=object(p.default)("gif"),t=object(p.default)("image"),d=object(p.default)("image description"),i=60,x=45,k=140;e.a=v}).call(e,i("4ksj"))},uchl:function(t,e,i){"use strict";(function(t){function i(){this.registeritem=function(e){var i=t(e),s=i.attr("data-item-id");s&&(this.idhash[s]?this.idhash[s]=!0:this.dedupitem(s))},this.dedupitem=function(e){this.select("genericitemselector").filter("[data-item-id="+e+"]").filter(function(e,i){return 0===t(i).closest(".js-no-dedup").length}).slice(1).remove()},this.registerinjecteditem=function(t,e){this.registeritem(t.target)},this.registerexistingitems=function(){var t=this;this.select("genericitemselector").get().foreach(function(e){return t.registeritem(e)})},this.after("initialize",function(){this.attr.usededuping&&(this.idhash={},this.registerexistingitems(),this.on("uihasinjectedtimelineitem",this.registerinjecteditem))})}e.a=i}).call(e,i("4ksj"))},ueze:function(t,e,i){"use strict";(function(t){function s(){this.viewporthelpers=o.a,this.defaultattrs({scrollthrottlems:200,mediaselectors:":not(.playablemedia--placeholder).playablemedia .playablemedia-player, :not(.with-inline-playable-media).js-macaw-cards-iframe-container.card-type-promo_video_convo, .js-macaw-cards-iframe-container.card-type-audio",tweetiddataattr:"data-tweet-id",tweetsselector:".tweet",permalinkoverlayselector:".permalinkoverlay",opendropdownselector:".dropdown.open .dropdown-menu",tweetnonceid:"data-tweet-nonce"}),this.notifyviewportpositionchange=function(){var t=this,e=o.a.getvisibleviewport(),i=this.getdropdownboundingrect();this.watchedmedia.filter(function(t){return 0!==t.mediaelement.children.length}).filter(function(e){return t.permalinkopen===e.inpermalink}).map(function(s){var n=s.mediaelement.getboundingclientrect(),o=!1;return i&&(o=0!==t.generatepercentvisible(n,i)),{tweetid:s.tweetid,parentviewportsize:e,positioninparent:object(r.a)(n),videohidden:t.pagehidden||t.modalwithinpermalinkopen||t.modalopen&&!s.inpermalink||o}}).foreach(function(e){return t.notifyviewportpositionchangeforelement(e.tweetid,e.parentviewportsize,e.positioninparent,e.videohidden)})},this.notifyviewportpositionchangeforelement=function(t,e,i,s){var n={parentviewportsize:e,positioninparent:object(r.a)(i),videohidden:s,percentvisible:s?0:this.generatepercentvisible(e,i),percentofviewportoccupied:s?0:this.generatepercentofviewportoccupied(e,i),sizesinfo:this.generatesizesinfo(e,i)};this.trigger("uiplayablemediapositionchange",{tweetid:t,positiondata:n})},this.generatepercentvisible=function(t,e){return this.generatepercentincontainer(e,t)},this.generatepercentofviewportoccupied=function(t,e){return this.generatepercentincontainer(t,e)},this.generatepercentincontainer=function(t,e){var i=t.bottom-t.top,s=t.right-t.left,n=s*i,o={top:math.max(t.top,e.top),left:math.max(t.left,e.left),bottom:math.min(t.bottom,e.bottom),right:math.min(t.right,e.right)},a=math.max(0,o.bottom-o.top),r=math.max(0,o.right-o.left),c=a*r;return document.fullscreenelement||document.webkitfullscreenelement||document.mozfullscreenelement||document.msfullscreenelement?1:0===n?0:c/n},this.generatesizesinfo=function(t,e){return{viewportsize:{width:t.right-t.left,height:t.bottom-t.top},mediasize:{width:e.right-e.left,height:e.bottom-e.top}}},this.ismediaelementwithinpermalink=function(t){return t.closest(this.attr.permalinkoverlayselector).length>0},this.updatetweetlist=function(){var e=this;this.updatepermalinkvisibility(),this.watchedmedia=this.select("mediaselectors").map(function(i,s){var n=t(s),o=e.permalinkopen&&e.ismediaelementwithinpermalink(n),a=n.closest(e.attr.tweetsselector);return{mediaelement:s,tweetid:a.attr(e.attr.tweetnonceid)||a.attr(e.attr.tweetiddataattr),inpermalink:o}}).get(),this.throttlednotifyviewportpositionchange()},this.updatepermalinkvisibility=function(){this.permalinkopen=this.$permalink.is(":visible")},this.updatepagevisibility=function(){var t=!document.hasfocus()||document.hidden;t!==this.pagehidden&&(this.pagehidden=t,this.throttlednotifyviewportpositionchange())},this.setmodalopen=function(){this.permalinkopen?this.modalwithinpermalinkopen=!0:this.modalopen=!0,this.throttlednotifyviewportpositionchange()},this.setmodalclosed=function(){this.modalwithinpermalinkopen?this.modalwithinpermalinkopen=!1:this.modalopen=!1,this.updatetweetlist()},this.getdropdownboundingrect=function(){return this.dropdownopen?this.dropdownopen.getboundingclientrect():null},this.setdropdownopen=function(){this.dropdownopen=this.select("opendropdownselector")[0],this.throttlednotifyviewportpositionchange()},this.setdropdownclosed=function(){this.dropdownopen=null,this.throttlednotifyviewportpositionchange()},this.after("initialize",function(){this.watchedmedia=[],this.pagehidden=!1,this.modalopen=!1,this.permalinkopen=!1,this.modalwithinpermalinkopen=!1,this.dropdownopen=null,this.throttlednotifyviewportpositionchange=a.default.throttle(this.notifyviewportpositionchange.bind(this),this.attr.scrollthrottlems),this.on(document,"scroll uidynamiccardloaded uidynamiccardunloaded uiplayablemediaready",this.throttlednotifyviewportpositionchange),this.on(window,"resize",this.throttlednotifyviewportpositionchange),this.on(document,"uipagehidden uipagevisible",this.updatepagevisibility),this.on(window,"focus focusin blur focusout",this.updatepagevisibility),this.$permalink=this.select("permalinkoverlayselector"),this.$permalink.on("scroll",this.throttlednotifyviewportpositionchange),this.on(document,"uidialogopened",this.setmodalopen),this.on(document,"uidialogclosed",this.setmodalclosed),this.on(document,"uidropdownopened",this.setdropdownopen),this.on(document,"uidropdownclosed",this.setdropdownclosed),this.on(document,"uiwatchplayablemedia",this.updatetweetlist),this.updatetweetlist()})}var n=i("dbjh"),o=i("/lrg"),a=i("yzit"),r=i("v+rc");e.a=object(n.default)(s)}).call(e,i("4ksj"))},"v+rc":function(t,e,i){"use strict";function s(t){return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}e.a=s},v93p:function(t,e,i){"use strict";function s(){this.scribesrustats=function(t,e){var i=["stats","sru",e.mediacategory,e.command,e.status],s={browser:object(n.a)(),append_byte_size:e.appendbytesize,total_duration_ms:e.totalduration,total_byte_size:e.totalbytesize};this.scribeperftown(i.join(":"),e.duration,s)},this.after("initialize",function(){r.a.getdecider("web_sru_stats")&&this.on("datasrustats",this.scribesrustats)})}var n=i("rw6j"),o=i("dbjh"),a=i("2coy"),r=i("iamj");e.a=object(o.default)(s,a.a)},vsco:function(t,e,i){"use strict";function s(){this.listmembershipcontent=function(t,e){this.get({url:"/i/"+e.userid+"/lists",datatype:"json",data:{},eventdata:e,success:"datagotlistmembershipcontent",error:"datafailedtogetlistmembershipcontent"})},this.addusertolist=function(t,e){this.post({url:"/i/"+e.userid+"/lists/"+e.listid+"/members",datatype:"json",data:{},eventdata:e,success:"datadidaddusertolist",error:"datafailedtoaddusertolist"})},this.removeuserfromlist=function(t,e){this.destroy({url:"/i/"+e.userid+"/lists/"+e.listid+"/members",datatype:"json",data:{},eventdata:e,success:"datadidremoveuserfromlist",error:"datafailedtoremoveuserfromlist"})},this.createlist=function(t,e){this.post({url:"/i/lists/create",datatype:"json",data:e,eventdata:e,success:"datadidcreatelist",error:"datafailedtocreatelist"})},this.after("initialize",function(){this.on("uineedslistmembershipcontent",this.listmembershipcontent),this.on("uiaddusertolist",this.addusertolist),this.on("uiremoveuserfromlist",this.removeuserfromlist),this.on("uicreatelist",this.createlist)})}var n=i("dbjh"),o=i("vtwx");e.a=object(n.default)(s,o.a)},vx1t:function(t,e,i){"use strict";function s(){this.defaultattrs({removeoptionselector:".pollingcardcomposer-removeoption",optionindexattr:"data-option-index"}),this.textchanged=function(){this.trigger("uipolloptiontextchange",{index:this.index,text:this.getvisibletext()})},this.removeoption=function(){this.trigger("uipolloptionremove",{index:this.index})},this.resetpollcomposeinput=function(){this.setvisibletext("")},this.updatepolloption=function(t,e){e&&"option"in e&&this.setvisibletext(e.option)},this.focuspollinput=function(){this.select("richeditortextselector").focus()},this.after("initialize",function(){this.index=this.$node.attr(this.attr.optionindexattr),this.inittextnode(),this.textchanged(),this.on("uitextchanged",this.textchanged),this.on("uipolloptionreset",this.resetpollcomposeinput),this.on("uipolloptionupdate",this.updatepolloption),this.on("uipolloptionfocus",this.focuspollinput),this.on("click",{removeoptionselector:this.removeoption})})}var n=i("dbjh"),o=i("+97u"),a=i("84/5"),r=i("lcya"),c=i("pul/"),l=i("+hbl"),h=object(n.default)(s,c.a,a.a,o.a,r.a,l.a);e.a=h},vl6w:function(t,e,i){"use strict";function s(){this.defaultattrs({noshowerror:!0}),this.dmsubscription=function(t,e){e=e||{};var i=void 0;i=!0===e.enable_subscriptions?"https://api.twitter.com/1.1/dm/subscriptions/new.json":"https://api.twitter.com/1.1/dm/subscriptions/destroy.json",this.post({acceptemptystringasjsonresponse:!0,url:i,data:{user_id:e.user_id},headers:{"content-type":"application/x-www-form-urlencoded"},useoauthsessionauth:!0})},this.after("initialize",function(){this.on("uitoggledmbroadcastsubscription",this.dmsubscription)})}var n=i("dbjh"),o=i("vtwx");e.a=object(n.default)(s,o.a)},"vnf/":function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({birdselector:"h1.bird-topbar-etched",spinnercontainer:"body",globalheadingselector:".global-nav h1",spinnerclass:"pushing-state",spinnerselector:".pushstate-spinner"}),this.showspinner=function(t,e){this.select("birdselector").removeattr("style"),this.select("spinnercontainer").addclass(this.attr.spinnerclass)},this.hidespinner=function(t,e){this.select("spinnercontainer").removeclass(this.attr.spinnerclass)},this.addspinner=function(){this.select("spinnerselector").length||t('<div class="pushstate-spinner"></div>').insertafter(this.select("globalheadingselector"))},this.after("initialize",function(){this.on("uiswiftloaded",this.addspinner),this.on("uishowgloballoadingindicator",this.showspinner),this.on("uihidegloballoadingindicator",this.hidespinner)})}var n=i("dbjh"),o=object(n.default)(s);e.a=o}).call(e,i("4ksj"))},vvp0:function(t,e,i){"use strict";function s(){this.gettweettranslation=function(t,e){var i=function(e){e&&e.message&&this.trigger("uishowmessage",{message:e.message}),this.trigger(t.target,"datatweettranslationsuccess",e)},s=function(i,s,n){this.trigger(t.target,"datatweettranslationerror",{id:e.id,status:s,errorthrown:n})},n={id:e.tweetid,dest:e.dest};this.get({url:"/i/translations/show.json",data:n,eventdata:e,success:i.bind(this),error:s.bind(this)})},this.after("initialize",function(){this.on("uineedstweettranslation",this.gettweettranslation)})}var n=i("dbjh"),o=i("vtwx"),a=object(n.default)(s,o.a);e.a=a},w0am:function(t,e,i){"use strict";function s(){this.defaultattrs({showunreadnotificationcount:!1,badgeaftertweetcount:!1}),this.addcount=function(t,e){this.trigger(document,{type:"uiupdatepagecount",defaultbehavior:this.updatecount.bind(this,e)})},this.updatecount=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.count,i=void 0===e?0:e,s=i;this.attr.badgeaftertweetcount&&this.attr.badgeaftertweetcount<=i&&(s="*"),document.title="("+s+") "+this.title},this.removecount=function(t,e){document.title=this.title},this.settitle=function(t,e){var i=e||t.originalevent.state;i&&i.title&&(document.title=this.title=i.title)},this.updatenotificationscount=function(t,e){e&&"number"==typeof e.count&&e.count>0?this.updatecount(o({},e,{count:e.localized_count})):this.removecount()},this.after("initialize",function(){this.title=document.title,this.attr.showunreadnotificationcount?this.on("uiupdateconnectbadge",this.updatenotificationscount):(this.on("uiaddpagecount",this.addcount),this.on("uihasinjectednewtimeline",this.removecount)),this.on(document,"uibeforepagechanged uiupdatepagetitle",this.settitle)})}var n=i("dbjh"),o=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},a=object(n.default)(s);e.a=a},w0o4:function(t,e,i){"use strict";function s(){this.accept=function(t,e){var i="https://api.twitter.com/1.1/dm/conversation/" +e.conversation_id+"/accept.json";this.post({url:i,useoauthsessionauth:!0,success:"datadmtrustrequestacceptsuccess"})},this.after("initialize",function(){this.on("uidmtrustrequestaccept",this.accept)})}var n=i("dbjh"),o=i("vtwx"),a=object(n.default)(s,o.a);e.a=a},w5ds:function(t,e,i){"use strict";function s(){this.defaultattrs({tweetformselector:".tweet-form"}),this.inittweetbox=function(t){var e=this.select("tweetformselector"),i=this.attr.preexpandtweetbox||!1;this.trigger(e,"uiinittweetbox",n({drafttweetid:this.attr.drafttweetid,condensable:!i,preexpandtweetbox:i,suppresssuccessmessage:this.attr.suppresssuccessmessage,eventdata:this.attr.eventdata},t))}}e.a=s;var n=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t}},whvx:function(t,e,i){"use strict";function s(){this.smsconfirmationajaxcall=function(t,e,i){function s(t){t.error?this.trigger("uialertbanner",t):this.trigger(i,{message:t.message})}var n=a({user_id:t.userid},t);this.post({url:e,data:n,success:s.bind(this),error:"datauseractionerror"})},this.sendpinaction=function(t,e){var i={phone_number:e.phone_number,country_code:e.country_code};this.smsconfirmationajaxcall(i,"/i/devices/sms_confirmation_begin","datasendpinsuccess")},this.resendpinaction=function(t,e){var i={phone_number:e.phone_number,country_code:e.country_code,resend:!0};this.smsconfirmationajaxcall(i,"/i/devices/sms_confirmation_begin","dataresendpinsuccess")},this.verifypinaction=function(t,e){var i={numeric_pin:e.numeric_pin,phone_number:e.phone_number,country_code:e.country_code};this.smsconfirmationajaxcall(i,"/i/devices/sms_confirmation_complete","dataverifypinsuccess")},this.after("initialize",function(){this.on(document,"uisendpinaction",this.sendpinaction),this.on(document,"uiresendpinaction",this.resendpinaction),this.on(document,"uiverifypinaction",this.verifypinaction)})}var n=i("dbjh"),o=i("vtwx"),a=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},r=object(n.default)(s,o.a);e.a=r},wkyg:function(t,e,i){"use strict";function s(t){return n.a.keys().filter(function(e){return n.a.get(e).tweetboxid===t}).map(n.a.get)}var n=i("h6fk");e.a=s},wlom:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({noshowerror:!0}),this.markdmsasread=function(e,i){i=i||{},i.retry=i.retry||void 0===i.retry;var s=t.noop,n=t.noop;i.from_notification?s=r(e.target,function(t){return"msgcount"in t?"uireadstatechanged":null}):(s=function(t){"success"!==t.text?n.call(this,t):this.trigger(e.target,"datadmreadsuccess",t)},n=function(t){i.retry?(i.retry=!1,this.trigger(e.target,"datamarkdmsasread",i)):this.trigger(e.target,"datadmreaderror",t)}),this.post({url:"/i/messages/mark_read",data:{last_message_id:i.last_message_id,recipient_id:i.recipient_id,recipient_name:i.recipient_name,get_count:i.from_notification},eventdata:i,success:s.bind(this),error:n.bind(this)})},this.after("initialize",function(){this.on("datamarkdmsasread",this.markdmsasread)})}var n=i("dbjh"),o=i("vtwx"),a=i("ldny"),r=a.a.triggerfn;e.a=object(n.default)(s,o.a)}).call(e,i("4ksj"))},wrdm:function(t,e,i){"use strict";var s=i("0d4m"),n=i("luie"),o={generateconversationname:function(t){return 1===t.length?t[0].name:2===t.length?object(s.default)("{{first}}, {{second}}",{first:t[0].name,second:t[1].name}):t.length>2?object(s.default)("{{first}} + {{count}}",{first:t[0].name,count:t.length-1}):void 0},generateconversationid:function(t,e){if(t&&e){var i=[t,e];return(n.a.compare(i[0],i[1])<0?i:i.reverse()).join("-")}},sortrecipients:function(t){return(t||[]).sort(function(t,e){return n.a.compare(t.id,e.id)})}};e.a=o},wrje:function(t,e,i){"use strict";function s(){this.defaultattrs({videoformats:['video/mp4; codecs="avc1.42e01e,mp4a.40.2" ','video/quicktime; codecs="avc1.42e01e,mp4a.40.2" ','video/x-m4v; codecs="avc1.42e01e,mp4a.40.2" '],videosupport:!1}),this.videoformats=function(t){return!t&&this.hasvideosupport()?this.canplayformats().join(","):""},this.canplayformats=function(){var t=this;return void 0!==this.supportedvideoformats?this.supportedvideoformats:function(){var e=document.createelement("video");return t.supportedvideoformats=t.attr.videoformats.filter(function(t){return!!e.canplaytype(t)}).map(function(t){return t.split(";")[0]})}()},this.hasvideosupport=function(){var t=this;return void 0!==this.hasvideosupportresult?this.hasvideosupportresult:function(){var e=document.createelement("video"),i=t.attr.videoformats.some(function(t){return!!e.canplaytype(t)});return t.hasvideosupportresult=o.a.hasfilereader()&&r.a.getdecider("web_upload_video")&&t.attr.videosupport&&i}()},this.gotvideo=function(t){var e={scribedata:{items:[{media_details:{duration:t.duration}}]}};r.a.getdecidervalue("web_upload_video_advanced")&&this.trigger("uivideopickerproadd",e),this.trigger("uivideopickeradd",e);var i=t.fileid,s=t.duration>45;s&&a.a.update(i,{duration:45}),this.notifyfileselected({fileid:i,uploadtype:this.attr.uploadtype}),s&&this.trigger(document,"uiopenmediaeditdialog",{fileid:t.fileid})},this.validatevideo=function(t){if(!this.hasvideosupport())return this.addfileerror(n.a.not_image),!1;if(-1===this.canplayformats().indexof(t.type))return this.addfileerror(n.a.file_unsupported),!1;var e=r.a.getdecidervalue("upload_video_size")||15;return!(t.size>1024*e*1024)||(this.addfileerror(n.a.video_too_large),!1)}}var n=i("jsdv"),o=i("+dwm"),a=i("h6fk"),r=i("iamj");e.a=s},"wre/":function(t,e,i){"use strict";(function(t){function s(){this.defaults={thumbselector:".composerthumbnail",thumbsselector:".composerthumbnails",thumbimageselector:".composerthumbnail-image",thumbremoveselector:".composerthumbnail-remove",composerselector:".tweet-form",attributionselector:".js-attribution",thumbnailsize:"small",composealttext:!1},this.update=function(t,e){var i=l.a.get(e.fileid);i&&(i.isvideo?this.updatevideothumbnail(i):!i.isgif&&i.isimage&&this.updatedescription(i),this.updatelabels())},this.updatevideothumbnail=function(t){var e=this.getbyfileid(t.fileid);e.length&&(e.find("img").attr("src",t.thumbnail.src),e.find(".composerthumbnail-duration").text(u.a.formatduration(t.duration)))},this.updatedescription=function(t){var e=t.alttext;if(void 0!==e){var i=this.getbyfileid(t.fileid),s=e||w;i.find(".composerthumbnail-description").text(s)}},this.updatelabels=function(){this.select("thumbselector").each(function(e){var i=t(this),s=i.find("img").attr("alt"),n=s||object(p.default)("image {{image_number}}",{image_number:e+1}),o=s?i:d;i.find(".composerthumbnail-ariadescription").text(o),i.attr("aria-label",n)})},this.getbyfileid=function(t){return this.select("thumbsselector").find(".composerthumbnail[data-file-id="+t+"]")},this.removeallblobs=function(){object(o.a)(this.attr.tweetboxid).foreach(function(t){return t.thumbnail&&a.a.revokeobjecturl(t.thumbnail.src)})},this.removeall=function(t,e){this.removeallblobs(),this.select("thumbsselector").empty(),this.select("attributionselector").empty(),this.removedynamicsizing(),this.$node.closest(this.attr.composerselector).removeclass(k).removeclass(m)},this.addplaceholder=function(t,e){var i=b({},e,{isplaceholder:!0});this.add(i),this.trigger("uipreviewthumbnailshow",i)},this.render=function(t){var e=t.isvideo,i=t.isgif,s=!e&&!i,n=x[this.attr.thumbnailsize],o=d.a.getdecidervalue("web_upload_video_advanced")?s:c,a=t.thumbnail,c=s?r.a.getthumbnailoffset(a.height,a.width,n):{},l=object.keys(c).map(function(t){return t+": "+c[t]+"px"}).join(";"),f=this.select("thumbselector").length,g=void 0;g=e?t:i?y:object(p.default)("image {{image_number}}",{image_number:f+1});var v={aria_description_id:object(h.a)(),aria_description:d,can_compose_alt_text:!e&&!i&&this.attr.composealttext,duration:u.a.formatduration(t.duration),edit_button_label:o,file_id:t.fileid,is_gif:i,is_large_size:!e&&!i&&"large"===this.attr.thumbnailsize,is_photo:s,is_placeholder:t.isplaceholder,is_video:e,offset_styles:l,label:g,src:a.src,whitelisted_video_user:d.a.getdecidervalue("web_upload_video_advanced")},b=this.select("thumbsselector");b.find(".composerthumbnail-loading").closest(".composerthumbnail").remove();var w=m.a.render(v);b.append(w)},this.add=function(t){var e=t.fileid,i=t.thumbnail.width,s=t.thumbnail.height,n=t.attribution,o=void 0!==n,a=this.$node.closest(this.attr.composerselector);a.toggleclass(m,o),this.render(t),o&&a.find(this.attr.attributionselector).attr("data-file-id",e).html(v.a.render(n)),t.isvideo?this.resize(s,i):t.isgif&&(a.addclass(k),this.resize(s,i,o)),this.trigger("uiupdatedthumbnails"),this.trigger(a,"uipreviewthumbnailadded",{fileid:e})},this.resize=function(e,i,s){var n=this.select("thumbselector"),o=this.$node.closest(this.attr.composerselector);if(!n.length)return this.removedynamicsizing(),void o.removeclass(k);var a={},r=void 0,c=void 0;e>i?(r=math.min(e,330),c=math.round(i*(r/e))):(c=math.min(i,330),r=math.round(e*(c/i))),a={height:r,width:c},o.addclass(p),n.each(function(){var e=t(this),i=e.find("img");e.add(i).add(i.closest(".composerthumbnail-imagecontainer")).css(a)})},this.removedynamicsizing=function(){var t=this.$node.closest(this.attr.composerselector);this.$node.removeattr("style"),t.find(".richeditor,.tweet-box").eq(0).removeattr("style"),t.find(".typeahead").removeattr("style"),t.removeclass(p).removeclass(m),this.$node.closest(".composerthumbnail--video").removeclass("composerthumbnail--video")},this.completeremoval=function(e){var i=t(e.target),s=i.attr("data-file-id"),n=l.a.get(s),o=n.thumbnail.height,a=n.thumbnail.width,c=x[this.attr.thumbnailsize];this.trigger("uipreviewthumbnailremove",{fileid:s}),i.remove(),this.trigger("uipreviewthumbnailremoved",{fileid:s}),n.isvideo||n.isgif?this.resize(o,a):i.find("img").css(r.a.getthumbnailoffset(o,a,c)),this.updatelabels(),l.a.remove(s)},this.remove=function(e){var i=t(e.target).closest(this.attr.thumbselector),s=i.attr("data-file-id"),n=l.a.get(s);if(n){a.a.revokeobjecturl(i.find("img").attr("src")),i.addclass("is-removing"),i.on("animationend",this.completeremoval.bind(this));var o=n.uploadid;o&&this.trigger(document,"uimediasrucancel",{uploadid:o}),this.trigger("uiimagepickerremove"),this.trigger("uiupdatedthumbnails")}},this.openmediaeditdialog=function(e){var i=t(e.target);if(!i.closest(this.attr.thumbremoveselector).length){if(!this.$node.closest(this.attr.composerselector).hasclass("tweeting")){var s=i.closest(this.attr.thumbselector),n=s.attr("data-file-id"),o=l.a.get(n);if(o){var a={fileid:n},r=o.isvideo||o.isgif?a:b({},a,{composealttext:this.attr.composealttext});this.trigger(document,"uiopenmediaeditdialog",r)}}}},this.showattributionlink=function(t){var e=t.target.getattribute("data-file-id");this.trigger("uineedscopyfoundmediadialog",{fileid:e})},this.handlekeyactions=function(t){a.indexof(t.keycode)>=0&&(t.preventdefault(),this.remove(t)),o.indexof(t.keycode)>=0&&this.openmediaeditdialog(t)},this.preventfocus=function(t){t.preventdefault()},this.after("initialize",function(){var t=this.$node.closest(this.attr.composerselector);this.on(t,"uifileselected",function(t,e){var i=l.a.get(e.fileid);i&&this.add(i)}),this.on(t,"uipreviewthumbnailplaceholderadd",this.addplaceholder),this.on(t,"uipreviewthumbnailremoveall",this.removeall),this.on("click",{attributionselector:this.showattributionlink,thumbselector:this.openmediaeditdialog,thumbremoveselector:this.remove}),this.on("keydown",{thumbselector:this.handlekeyactions}),this.on("mousedown",{thumbselector:this.preventfocus}),this.on(document,"uimediaeditdialogdone",this.update)})}var n=i("dbjh"),o=i("wkyg"),a=i("+dwm"),r=i("ogfk"),c=i("i3qs"),l=i("h6fk"),h=i("dsew"),d=i("iamj"),u=i("20ha"),p=i("0d4m"),f=i("i17q"),m=i.n(f),g=i("vdti"),v=i.n(g),b=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},w=object(p.default)("add description"),s=object(p.default)("edit"),c=object(p.default)("trim"),y=object(p.default)("gif thumbnail"),t=object(p.default)("video thumbnail"),d=object(p.default)("click to add description to image"),i=object(p.default)("click to edit description for image"),x={small:113,large:127},k="composerthumbnail--gif",m="has-attribution",p="dynamic-photos",a=[c.a.delete,c.a.backspace,c.a.clear],o=[c.a.enter,c.a.space];e.a=object(n.default)(s)}).call(e,i("4ksj"))},ws2j:function(t,e,i){"use strict";(function(t){function s(){n.default.mixin(this,[o.a]),this.defaultattrs({selectordropdown:".dropdown-menu"}),this.istexttypeahead=function(t){return t.hasclass("rich-editor")},this.isemojipicker=function(t){return t.hasclass("emojipicker")},this.isgifsearch=function(t){return t.hasclass("foundmediasearch")},this.isgeopicker=function(t){return t.hasclass("geo-picker")},this.isphototagging=function(t){return t.hasclass("js-open-user-select")},this.getdropdown=function(t){return this.isgifsearch(t)||this.isemojipicker(t)||this.isgeopicker(t)?t.find(this.attr.selectordropdown):this.istexttypeahead(t)?t.closest(".richeditor-container").find(this.attr.selectordropdown):this.isphototagging(t)?t.closest(".tweetboxattachments").find(this.attr.selectordropdown).first():null},this.setfixedposition=function(e){var i=t(e.target),s=this.getdropdown(i);if(s){var n=this.adjacent(s,i,{gravity:this.attr.preferredgravity||"vertical-north",weight:this.attr.preferredweight,position:"fixed"});this.isphototagging(i)&&(n.top+=10,n.left-=100),s.css({top:n.top+"px",left:n.left+"px",position:"fixed"})}},this.forceclosedropdowns=function(){this.trigger("uiforcedropdownclosed")},this.after("initialize",function(){this.on("uidropdownopened",this.setfixedposition),this.on("uidropdowncloseonscroll",this.forceclosedropdowns)})}var n=i("q9/c"),o=i("zvxx");e.a=s}).call(e,i("4ksj"))},wf2x:function(t,e,i){"use strict";function s(){this.attributes({maxlength:null}),this.render=function(){var t=!this.maxlengthexceeded();this.$node.toggleclass("is-maxexceeded",!t),this.$input.attr("data-valid",t),this.$counter.text(this.getremaininglength())},this.maxlengthexceeded=function(){return this.getremaininglength()<0},this.getremaininglength=function(){var t=this.getlength(this.$input.val());return this.attr.maxlength-t},this.getlength=function(t){return t.replace(/[\ud800-\udbff][\udc00-\udfff]/g,"x").length},this.after("initialize",function(){this.$input=this.$node.find(".charcounter-target"),this.$counter=this.$node.find(".charcounter-counter"),this.render(),this.on(this.$input,"input",this.render),this.on("uicharactercounterupdate",this.render)})}var n=i("dbjh"),o=object(n.default)(s);e.a=o},wmi3:function(t,e,i){"use strict";e.a={white:"fff",black:"000",nightpanelbackground:"1b2836",twitterblue:"1da1f2"}},wqlg:function(t,e,i){"use strict";function s(){this.defaultattrs({modaltweetcontainerselector:".modal-container",modaltweetloadingclass:"tweet-loading",modaltweetselector:".modal-tweet",modaltweetshowingclass:"tweet-showing",modaltweettimeselector:".time",modaltweettextselector:".js-tweet-text"}),this.modaltweetoptions={fetchindex:-1},this.turnonshowingtweetclass=function(){this.$node.addclass(this.attr.modaltweetshowingclass)},this.turnoffshowingtweetclass=function(){this.$node.removeclass(this.attr.modaltweetshowingclass)},this.turnonloadingtweetclass=function(){this.$node.addclass(this.attr.modaltweetloadingclass)},this.turnoffloadingtweetclass=function(){this.$node.removeclass(this.attr.modaltweetloadingclass)},this.requestfortweet=function(t,e){this.displaytweet(e.tweetid,e.tweetoptions)},this.displaytweet=function(t,e){this.retrievetweet(t,e)},this.retrievetweet=function(t,e){this.modaltweetoptions=n({fetchindex:++o},e),this.turnonloadingtweetclass(),this.trigger("uigettweet",{id:t,modal:this.modaltweetoptions.modal,fetchindex:this.modaltweetoptions.fetchindex})},this.gottweet=function(t,e){e.sourceeventdata.fetchindex===this.modaltweetoptions.fetchindex&&(this.turnoffloadingtweetclass(),e.id&&e.tweet_html&&(this.addtweet(e.tweet_html),this.modifytweetonrender(this.modaltweetoptions)))},this.failedtogettweet=function(t,e){e.sourceeventdata.fetchindex===this.modaltweetoptions.fetchindex&&this.removetweet()},this.modifytweetonrender=function(t){t.useronly&&(this.$node.find(this.attr.modaltweettimeselector).remove(),this.$node.find(this.attr.modaltweettextselector).remove()),t.disablelinks&&(this.select("modaltweetselector").addclass("disabled-links"),this.$node.find("a").attr("tabindex",-1).click(function(t){t.preventdefault(),t.stoppropagation()}))},this.addtweet=function(t){this.select("modaltweetselector").empty().append(t),this.turnonshowingtweetclass()},this.removetweet=function(){this.turnoffloadingtweetclass(),this.turnoffshowingtweetclass(),this.select("modaltweetselector").empty()},this.after("initialize",function(){this.on("uiwantstweet",this.requestfortweet),this.on(document,"datagottweet",this.gottweet),this.on(document,"datafailedtogettweet",this.failedtogettweet),this.on("uiactivitypopuprendered",this.modifytweetonrender.bind(this,this.modaltweetoptions)),this.on("uidialogclosed",this.removetweet)})}var n=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},o=0;e.a=s},wuto:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({showtweetselector:".js-show-tombstone-tweet",tweetcontainerselector:".stream-tombstone-container",tombstoneselector:".stream-tombstone-item",tweetselector:".threadedconversation-hiddentweetcontainer",hiddenclass:"u-hidden"}),this.showtweet=function(e){var i=t(e.target).closest(this.attr.tweetcontainerselector),s=i.find(this.attr.tombstoneselector),n=i.find(this.attr.tweetselector);s.addclass(this.attr.hiddenclass),n.removeclass(this.attr.hiddenclass)},this.after("initialize",function(){this.on("click",{showtweetselector:this.showtweet})})}var n=i("dbjh");e.a=object(n.default)(s)}).call(e,i("4ksj"))},wyka:function(t,e,i){"use strict";function s(){this.defaultattrs({noshowerror:!0}),this.conversation=function(t,e){e=e||{},this.get({url:"/messages/with/conversation",data:{id:e.conversation_id,max_entry_id:e.max_entry_id},eventdata:e,success:r(t.target,"datadmconversationresult"),error:c(r(t.target,"datadminvalidconversation",e),r(t.target,"datadmerror"))})},this.after("initialize",function(){this.on("uineedsdmconversation",this.conversation)})}var n=i("dbjh"),o=i("ldny"),a=i("vtwx"),r=o.a.triggerfn,c=o.a.chain;e.a=object(n.default)(s,a.a)},x4ka:function(t,e,i){"use strict";function s(){}var n=i("dbjh"),o=i("s0ux"),a=i("el2s");e.a=object(n.default)(s,a.a,o.a)},xg5f:function(t,e,i){"use strict";function s(){this.scribelocationdialogbuttonclick=function(t,e){e=e||{};var i=e.type,s=e.locationdata,n=void 0;switch(i){case"location_picker":"coord"===s.type?n=a:"place"===s.type&&s.issearched?n=c:"place"!==s.type||s.issearched||(n=r);break;case"location_attachment":n=l}void 0!==n&&this.scribe(n)},this.after("initialize",function(){this.scribeonevent("uilocationqrctaclicked",{page:"messages",section:"thread",element:"location_request_dm",action:"click"}),this.scribeonevent("uilocationattachmentclicked",{page:"messages",section:"thread",element:"shared_location_dm",action:"click"}),this.on(document,"uiscribelocationdialogbuttonclick",this.scribelocationdialogbuttonclick)})}var n=i("dbjh"),o=i("3odc"),a={page:"map_place_picker",element:"pinned_location",action:"share"},r={page:"map_place_picker",element:"poi_suggestion",action:"share"},c={page:"map_place_picker",element:"poi_searched",action:"share"},l={page:"map_place_viewer",element:"related_tweets",action:"click"};e.a=object(n.default)(s,o.a)},xna7:function(t,e,i){"use strict";function s(){this.scribesenddm=function(t,e){var i=e.conversation_id?"dm_existing_conversation_dialog":"dm_new_conversation_dialog",s=this.buildscribedata(e);if(this.scribe({component:i,action:"send_dm"},e,s),e.tweet_id&&this.scribe({component:i,action:"send_tweet_dm"},{conversation_id:e.conversation_id||e.recipient_ids,status_id:e.tweet_id},s),e.media_data&&e.media_data.filetype===o.a.gif){var n=!!e.media_data.foundmediainfo;this.scribe({component:i,element:n?"remote":"local",action:"send_gif_dm"})}},this.buildscribedata=function(t){var e={};if(t.message_me_scribe_data){if(t.message_me_scribe_data.userid){var i={item_type:r.a.user,id:t.message_me_scribe_data.userid};e.items=[i]}t.message_me_scribe_data.cardname&&(e.context=t.message_me_scribe_data.cardname),t.message_me_scribe_data.carduri&&(e.message=t.message_me_scribe_data.carduri)}return e},this.scribecardindmimpression=function(t,e){var i=e&&{items:[e.carditem]};this.scribe({component:"dm_existing_conversation_dialog",element:"platform_card",action:"show"},i)},this.scribetypingindicator=function(t,e){var i="uidmtypingindicatoravataradded"===t.type?"impression":"refresh";this.scribe({component:"dm_existing_conversation_dialog",element:"typing_indicator",action:i},e)},this.mutedurationscribeaction={0:"mute_dm_thread_forever",1:"mute_dm_thread_1h",2:"mute_dm_thread_8h",3:"mute_dm_thread_1w"},this.scribenotificationsmute=function(t,e){var i=this.mutedurationscribeaction[e.mute_duration];!1===e.enable_notifications&&i&&this.scribe({component:"dm_existing_conversation_dialog",action:i})},this.scribementionstoggle=function(t,e){var i=e.disable_mentions?"disable_mentions":"enable_mentions";this.scribe({component:"dm_existing_conversation_dialog",action:i})},this.after("initialize",function(){this.scribeonevent("uicomposenewdmwithtweet","share_via_dm"),this.scribeonevent("uidmdialogopenednewconversation","open"),this.scribeonevent("uidmdialogopenedconversation","open"),this.scribeonevent("uidmdialogopenedconversationlist","open"),this.scribeonevent("uidmdialogdeletemessage",{component:"dm_existing_conversation_dialog",action:"delete_dm"}),this.scribeonevent("uidmdialogmarkspam",{component:"dm_existing_conversation_dialog",action:"report_as_spam"}),this.scribeonevent("uidmdialogmarkmessage",{element:"mark_all_as_read",action:"click"}),this.scribeonevent("uidmmedialoaded","media_preview"),this.scribeonevent("uidmmediafailed","media_preview"),this.scribeonevent("uidmresendconfirm",{component:"dm_existing_conversation_dialog",element:"error",action:"retry"}),this.scribeonevent("datadmtypingpublished",{component:"dm_existing_conversation_dialog",action:"publish_typing"}),this.on("uidmsendmessage",this.scribesenddm),this.on("uinewdmcardloaded",this.scribecardindmimpression),this.on("uidmtypingindicatoravataradded uidmtypingindicatoravatarrefreshed",this.scribetypingindicator),this.on("uitogglenotifications",this.scribenotificationsmute),this.on("uitogglementions",this.scribementionstoggle)})}var n=i("dbjh"),o=i("pnul"),a=i("3odc"),r=i("rbkv"),c=object(n.default)(s,a.a);e.a=c},xpsf:function(t,e,i){"use strict";function s(){this.defaultattrs({tweetboxselector:".tweet-form",pollcreatorbuttonselector:".pollcreator-btn",enabledpollcreatorbuttonselector:".pollcreator-btn:not([disabled])",pollcreatorlabelselector:".pollcreator-label",disabledclass:"disabled",enabledclass:"enabled"}),this.activatepollcreator=function(){this.isactive=!0,this.updatelabel(object(n.default)("poll added")),this.$tweetbox.trigger("uicomposerdisableexclusiveattachments"),this.enablepollcreator(),this.showactivatedstate()},this.deactivatepollcreator=function(){this.isactive=!1,this.updatelabel(object(n.default)("add poll")),this.$tweetbox.trigger("uicomposerenableexclusiveattachments")},this.enablepollcreator=function(){this.$node.removeclass(this.attr.disabledclass),this.select("pollcreatorbuttonselector").prop("disabled",!1).prop("tabindex","0").removeclass(this.attr.disabledclass).removeclass(this.attr.enabledclass)},this.disablepollcreator=function(){this.$node.addclass(this.attr.disabledclass),this.select("pollcreatorbuttonselector").prop("disabled",!0).prop("tabindex","-1").addclass(this.attr.disabledclass)},this.triggertogglepollcomposer=function(){this.$tweetbox.trigger("uitogglepollcomposer")},this.showactivatedstate=function(){this.$node.addclass(this.attr.disabledclass),this.select("pollcreatorbuttonselector").prop("disabled",!1).prop("tabindex","-1").addclass(this.attr.enabledclass)},this.updatelabel=function(t){this.select("pollcreatorbuttonselector").attr("data-original-title",t)},this.after("initialize",function(){this.$tweetbox=this.$node.closest(this.attr.tweetboxselector),this.isactive=!1,this.on(this.$tweetbox,"uiactivatepollcomposer",this.activatepollcreator),this.on(this.$tweetbox,"uiresetpollcomposer",this.deactivatepollcreator),this.on(this.$tweetbox,"uicomposerenableexclusiveattachments",this.enablepollcreator),this.on(this.$tweetbox,"uicomposerdisableexclusiveattachments",this.disablepollcreator),this.on("click",{enabledpollcreatorbuttonselector:this.triggertogglepollcomposer})})}var n=i("0d4m"),o=i("dbjh"),a=object(o.default)(s);e.a=a},xtdv:function(t,e,i){"use strict";function s(){this.pollfornotifications=function(t,e){a.a.shouldpoll()&&this.trigger("uidmpoll")},this.resetdms=function(t,e){a.a.resetdmstate(t,e)},this.notifications=a.a,this.after("initialize",function(){a.a.init(this.attr),this.on(document,"uiresetdmpoll",this.resetdms),this.on(document,"uipollfornotifications",this.pollfornotifications),this.timer=object(o.a)("uipollfornotifications")})}var n=i("dbjh"),o=i("11yp"),a=i("5vls"),r=object(n.default)(s);e.a=r},y27k:function(t,e,i){"use strict";function s(){this.after("initialize",function(){this.scribeonevent("uirevealsuspiciousdm",{component:"rtf_message",action:"open"}),this.scribeonevent("uireportdmasspam",{component:"rtf_message",action:"report_as_spam"}),this.scribeonevent("uireportdmassafe",{component:"rtf_message",action:"report_as_ok"})})}var n=i("dbjh"),o=i("3odc"),a=object(n.default)(s,o.a);e.a=a},y2i5:function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in a)e[s]||(e[s]=a[s]);return r.render(t,e,i)}var n=i("opvs").default,o={"dm/dm_avatar":i("2g5l"),emojified_text:i("mdlq"),user_badges:i("yfcj"),user_name_break:i("gcfa"),screen_name:i("5hsp")},a=n(o),r=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("<div class="dmtypeaheaditem">\n <div class="dmtypeaheaditem-avatar" aria-hidden="true">\n'),s.s(s.f("avatar",t,e,1),t,e,0,103,120,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.rp("<dm/dm_avatar0",t,e,""))}),t.pop()),s.b(' </div>\n <div class="dmtypeaheaditem-body">\n <div class="dmtypeaheaditem-title account-group">\n'),s.s(s.f("title",t,e,1),t,e,0,248,519,"{{ }}")&&(s.rs(t,e,function(t,e,s){s.b(' <b class="fullname">'),s.s(s.f("rich_text",t,e,1),t,e,0,305,324,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.rp("<emojified_text1",t,e,""))}),t.pop()),s.s(s.f("rich_text",t,e,1),t,e,1,0,0,"")||s.b(s.v(s.f("text",t,e,0))),s.b("</b>"),s.b(s.rp("<user_badges2",t,e,"")),s.b(s.rp("<user_name_break3",t,e,"")),s.s(s.f("screen_name",t,e,1),t,e,0,480,496,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.rp("<screen_name4",t,e,""))}),t.pop()),s.b("\n"+i)}),t.pop()),s.b(" </div>\n"),s.s(s.f("has_business_context",t,e,1),t,e,0,603,718,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <div class="dmtypeaheaditem-context dmtypeaheaditem-businesscontext">\n provides support\n </div>\n')}),t.pop()),s.b(" </div>\n</div>\n"),s.fl()},partials:{"<dm/dm_avatar0":{name:"dm/dm_avatar",partials:{},subs:{}},"<emojified_text1":{name:"emojified_text",partials:{},subs:{}},"<user_badges2":{name:"user_badges",partials:{},subs:{}},"<user_name_break3":{name:"user_name_break",partials:{},subs:{}},"<screen_name4":{name:"screen_name",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:a,render:s}}).call(e,i("jtwp"))},y4bj:function(t,e,i){"use strict";function s(){this.defaultattrs({createcustomtimelineselector:".js-create-custom-timeline-button"}),this.opencreatedialog=function(){this.trigger("uiopencreatecustomtimelinedialog",{tweetid:this.tweetid,impressionid:this.impressionid})},this.after("initialize",function(){this.on("click",{createcustomtimelineselector:this.opencreatedialog})})}e.a=s},ychi:function(t,e,i){"use strict";function s(t,e){var i=e.countername+"_count",s=t.retweeted_status&&t.retweeted_status[i]?t.retweeted_status[i]:t[i];return"/statuses/unretweet.json"===e.path?s-1>=0?s-1:0:s}function n(t,e,i){var n=s(t,e),o=e.countername,r=t.retweeted_status&&t.retweeted_status.id_str?t.retweeted_status.id_str:t.id_str;if(void 0!==n&&r){var l=a.a.compactorcommaize(n,i),h=a.a.getcommaizedformat(n),d=o===c?a.a.getfavoritestattitle(n,h):a.a.getretweetstattitle(n,h);return[{status_id:r,name:o,count:n.tostring(),commaized_count:h,compact_count:l,title:d}]}}function o(t,e,i){if("object"===r(t.user)){var s=void 0,n=void 0,o=e.countername,u="\n",p=void 0,f=void 0;if(o===c){var m=t.user.favourites_count;f=a.a.getcommaizedformat(m),s=a.a.getfavoritestatphrase(m,f),n=a.a.getnumericstattext(m,f),p=h}else if(o===l){var g=t.user.statuses_count,v=a.a.compactorcommaize(g,i);f=a.a.getcommaizedformat(g),s=a.a.gettweetstatphrase(g,f),n=a.a.getnumericstattext(g,f),u=a.a.getprofiletweetstat(f,v),p=d}return[{highline_stat_phrase:s,highline_stat_value:n,html:u,stat:p,user_id:t.user.id_str}]}}var a=i("znut"),r="function"==typeof symbol&&"symbol"==typeof symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof symbol&&t.constructor===symbol&&t!==symbol.prototype?"symbol":typeof t},c="favorite",l="retweet",h="favorite",d="tweet";e.a={normalizetweetstats:n,normalizeprofilestats:o}},yfcj:function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in a)e[s]||(e[s]=a[s]);return r.render(t,e,i)}var n=i("opvs").default,o={verified_account_badge:i("hadd"),translator_account_badges:i("oh3l"),protected_account_badge:i("nffu")},a=n(o),r=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<span class="userbadges">'),s.b(s.rp("<verified_account_badge0",t,e,"")),s.b(s.rp("<translator_account_badges1",t,e,"")),s.b(s.rp("<protected_account_badge2",t,e,"")),s.b("</span>"),s.fl()},partials:{"<verified_account_badge0":{name:"verified_account_badge",partials:{},subs:{}},"<translator_account_badges1":{name:"translator_account_badges",partials:{},subs:{}},"<protected_account_badge2":{name:"protected_account_badge",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:a,render:s}}).call(e,i("jtwp"))},yx8t:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({dropdownselector:".user-select-container.dropdown-menu",openpopoverbuttonselector:".js-open-user-select",includepreviouslyselectedusers:!0,typeaheadsrc:"compose_media_tagging",datasourcefortagging:"mediatagaccounts",requesttype:"compose_media_tagging"}),this.showselectpopover=function(t){this.previouslyfocused=document.activeelement,this.$node.show(),this.trigger("uisetfocusinselecteduserinput")},this.hideselectpopover=function(e){if(e.target!==this.$node.get(0)&&!t.contains(this.$node.get(0),e.target)&&0===t(e.target).closest(this.attr.openpopoverbuttonselector).length){if(this.previouslyfocused&&"focusin"===e.type){var i=this.previouslyfocused;this.previouslyfocused=null,i.focus()}else this.previouslyfocused=null;this.forcehide()}},this.forcehide=function(t){this.$node.hide(),this.trigger("uitypeaheadsetpreventdefault",{preventdefault:!1,key:9}),this.trigger("uitypeaheadresultshidden")},this.hideandmanageesc=function(t){t.preventdefault(),t.stoppropagation(),this.forcehide()},this.after("initialize",function(){o.a.attachto(this.$node,{alwaysopen:!0,datasourcefortagging:this.attr.datasourcefortagging,includepreviouslyselectedusers:this.attr.includepreviouslyselectedusers,requesttype:this.attr.requesttype,typeaheadsrc:this.attr.typeaheadsrc}),this.on("uishowselectpopover",this.showselectpopover),this.on("uishortcutesc",this.hideandmanageesc),this.on(document,"mousedown : focusin",this.hideselectpopover)})}var n=i("dbjh"),o=i("tgdm"),a=object(n.default)(s);e.a=a}).call(e,i("4ksj"))},yeq4:function(t,e,i){"use strict";function s(){this.attributes({allowretryclass:"is-retryallowed",allowcopyclass:"is-copyallowed",cancel:".dmresendmessage-cancel",confirm:".dmresendmessage-confirm",copy:".dmresendmessage-copy",customerrormessage:".dmresendmessage-customerrormessage",dismiss:".dmresendmessage .dmnotice-dismiss",hasmessagetextclass:"has-messagetext",messagetext:".dmresendmessage-messagetext",messagetextcontainer:".dmresendmessage-messagetextcontainer",messagetextcopycontainer:".dmresendmessage-messagecopycontainer",notice:".dmresendmessage",copyconfirmation:".dmcopyconfirmation"}),this.resendableimageerrors=[o.a.internal_error,o.a.rate_limit,o.a.timeout],this.isretryallowed=function(t){return"media_upload"===t.type?!t.code||-1!==this.resendableimageerrors.indexof(t.code):"message_send"===t.type?!t.code||"500"===string(t.code):void 0},this.showconfirmation=function(t,e){var i=e.error||{},s=i.message,n=e.text||"",o=this.isretryallowed(i),a=!!n,r=this.iscopysupported()&&a;this.resendid=e.resend_id,this.select("messagetext").text(n),this.select("messagetextcopycontainer").val(n),this.select("customerrormessage").html(s),this.select("notice").toggleclass(this.attr.allowretryclass,o).toggleclass(this.attr.allowcopyclass,r).toggleclass(this.attr.hasmessagetextclass,a),this.select("notice").trigger("uishowdmnotice")},this.hideconfirmation=function(){this.trigger("uidmresenddiscard",{resend_id:this.resendid}),this.select("notice").trigger("uidismissdmnotice"),this.resendid=void 0},this.resendconfirmation=function(){this.select("notice").trigger("uidismissdmnotice"),this.trigger("uidmresendconfirm",{resend_id:this.resendid})},this.iscopysupported=function(){var t=!0;try{t=document.querycommandsupported("copy")}catch(e){t=!1}return t},this.copymessagetoclipboard=function(){this.iscopysupported()&&document.execcommand&&(this.select("messagetextcopycontainer").select(),document.execcommand("copy"))},this.handlecopy=function(t,e){this.copymessagetoclipboard(),this.hideconfirmation(),this.trigger("uidmshowtoast",{message:object(a.default)("message text copied to clipboard")})},this.after("initialize",function(){this.on("datadmsendfailed",this.showconfirmation),this.on("click",{confirm:this.resendconfirmation,cancel:this.hideconfirmation,dismiss:this.hideconfirmation,copy:this.handlecopy})})}var n=i("dbjh"),o=i("9tdk"),a=i("0d4m"),r=object(n.default)(s);e.a=r},yjbg:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({filetyperegexp:!1}),this.childhover=function(e){t.contains(this.$node.get(0),e.target)&&(e.stopimmediatepropagation(),this.inchild="dragenter"===e.type)},this.hover=function(t){if(t.preventdefault(),this.inchild)return!1;var e=this.preparedata(t);this.trigger("dragenter"===t.type?"uidragenter":"uidragleave",e)},this.finish=function(t){t.stopimmediatepropagation(),this.inchild=!1,this.trigger("uidragleave")},this.preventdefault=function(t){return t.preventdefault(),!1},this.detectdragend=function(e){this.detectingend||(this.detectingend=!0,t(document.body).one("mousemove",this.dragend.bind(this)))},this.dragend=function(){this.detectingend=!1,this.trigger("uidragend")},this.outofbounds=function(t){var e=t.originalevent.pagex,i=t.originalevent.pagey,s=document.body.clientwidth,n=document.body.clientheight;(e<=0||i<=0||i>=n||e>=s)&&this.dragend()},this.preparedata=function(t){var e=(t.originalevent||t).datatransfer,i={};i.types=array.prototype.slice.call(e.types,0);var s=e.items||e.files;if(s){i.items=[];for(var n=0;n<s.length;++n){var o=s[n];i.items.push({type:o.type})}}else i.items=null;return{datatransfer:i}},this.after("initialize",function(){this.inchild=!1,this.on(document.body,"dragenter dragover",this.detectdragend),this.on(document.body,"dragleave",this.outofbounds),this.on("dragenter dragleave",n.a.onlyhandleeventswithfiles(this.hover,this.attr.filetyperegexp)),this.on("dragover drop",n.a.onlyhandleeventswithfiles(this.preventdefault,this.attr.filetyperegexp)),this.on("dragenter dragleave",n.a.onlyhandleeventswithfiles(this.childhover,this.attr.filetyperegexp)),this.on(document,"uidragend drop",this.finish)})}var n=i("waph");e.a=s}).call(e,i("4ksj"))},ylce:function(t,e,i){"use strict";var s=i("0d4m"),n=i("jsdv"),o=i("iamj");e.a=function(t){switch(t){case n.a.not_image:case n.a.io_error:return object(s.default)("you did not select an image.");case n.a.file_too_large:return object(s.default)("sorry! the file is too big. maximum file size is 50mb.");case n.a.file_unsupported:return object(s.default)("that kind of file isn't supported yet. try uploading a gif, video, or picture instead.");case n.a.gif_limit:return object(s.default)("you cannot upload more gifs.");case n.a.gif_too_large:return object(s.default)("sorry! the file is too big. maximum file size is {{maxsize}}mb.",{maxsize:o.a.getdecidervalue("photosrugiflimitmb")});case n.a.gif_unsupported:return object(s.default)("gifs are not supported here.");case n.a.mixed_media:return object(s.default)("media of that type can not be added at this time.");case n.a.too_many_videos_1:return object(s.default)("you can only add one video.");case n.a.too_many_photos_1:return object(s.default)("you can only add one photo.");case n.a.too_many_photos:return object(s.default)("you must remove a photo before adding another one.");case n.a.video_too_large:return object(s.default)('your video file is too large. videos should be less than {{maxsize}} mb. <a href="https://support.twitter.com/articles/20172128#import-web" target="_blank">learn more</a>.',{maxsize:o.a.getdecidervalue("upload_video_size")});default:return}}},zdao:function(t,e,i){"use strict";var s=["2586390716:authenticated_web_view","3260518932:moment","3691233323:periscope_broadcast","app","direct_store_link_app","poll2choice_image","poll3choice_image","poll4choice_image","poll2choice_text_only","poll3choice_text_only","poll4choice_text_only","promo_website","summary","summary_large_image","unified_card"];e.a=s},zg5a:function(t,e,i){"use strict";(function(t){function s(){o.default.mixin(this,[f.a,p.a]),this.defaultattrs({thumbcontainerselector:".thumbnail-container",taggingselector:".photo-tagging-container",taggingbuttonselector:".js-open-user-select",taggedusersselector:".tagged-users",thumbselector:".composerthumbnail",photoselectorselector:".photo-selector"}),this.hasmedia=!1,this.isvideo=!1,this.isgif=!1,this.taggedusers=[],this.showpreview=function(t,e){this.isvideo=e.isvideo,this.isgif=e.isgif;var i=["has-thumbnail",this.attr.composealttext?"has-alt-text":"",this.isvideo?"has-video":""];this.stateclasses=i.join(" "),this.$node.addclass(this.stateclasses),this.hasmedia=!0,this.detectupdatedtext(!0);var s=this.select("taggingbuttonselector");this.isgif||this.isvideo?s.hide():s.show().prop("disabled",!1)},this.updatethumbnailcount=function(t){0!==this.select("thumbselector").length&&0!==this.taggedusers.length||this.trigger("uiupdatedselectedusers",{items:[]})},this.hidepreview=function(t,e){this.$node.removeclass(this.stateclasses),this.hasmedia=!1,this.isvideo=!1,this.isgif=!1,this.detectupdatedtext(!0),this.trigger("uiupdatedselectedusers",{items:[]}),this.select("taggingbuttonselector").prop("disabled",!0)},this.updatetaggedusers=function(t,e){var i=this.select("taggedusersselector"),s=this.select("taggingbuttonselector");if(this.taggedusers=e.items,0===e.items.length)return this.updatetagtext(),void s.addclass("no-users");s.removeclass("no-users"),i.html(this.gettaggedusersstring(e.items)),this.trigger("uitaggedusersupdated")},this.updatetagtext=function(){if(!this.taggedusers.length){var t=this.select("thumbselector").length,e=t>1?g:m;this.select("taggedusersselector").text(e)}},this.gettaggedusersstring=function(t){return 1===t.length?object(n.default)("{{name1}}",{name1:t[0].name}):2===t.length?object(n.default)("<span class="user-name">{{name1}}</span>and 1 other",{name1:t[0].name}):t.length>2?object(n.default)("<span class="user-name">{{name1}}</span>and {{count}} others",{name1:t[0].name,count:t.length-1}):void 0},this.after("reset",function(){var t=this.select("thumbselector").map(function(){return this.getattribute("data-file-id")}).get();this.trigger("uipreviewthumbnailhide"),this.trigger("uipreviewthumbnailremoveall"),this.trigger(this.select("taggingselector"),"uiresetselectedusercomposer"),!this.$node.attr("data-file-reuse-in-thread")&&t.foreach(function(t){h.a.remove(t)}),this.$node.removeattr("data-file-reuse-in-thread")}),this.around("createdataforsending",function(t){var e=t();return e.tagged_users=this.taggedusers.map(function(t){return t.id_str}).join(","),this.trigger("uiupdaterecenttags",{items:this.taggedusers}),e}),this.around("hasattachment",function(t){return this.hasmedia||t()}),this.getphotolimit=function(){return!this.attr.dmonly&&r.a.hasfilereader()&&c.a.hascanvas()?4:1},this.annotatethumbwithtweetboxid=function(t,e){var i=e.fileid;h.a.get(i)&&h.a.update(i,{tweetboxid:this.gettweetboxid()})},this.focusifnotcondensed=function(){this.iscondensed&&this.iscondensed()?t(document.activeelement).not("body").blur():this.focus()},this.after("initialize",function(t,e){this.attachchild(a.a,this.select("thumbcontainerselector"),{eventdata:this.attr.eventdata,composealttext:this.attr.composealttext,thumbnailsize:this.attr.thumbnailsize,tweetboxid:this.gettweetboxid()});var i={photolimit:this.getphotolimit(),gifsupport:!this.attr.dmonly,environment:e.environment};["filedatastring","filedataselector","fileinputstring","emptyfiledatastring","emptyfileinputstring","uploadtype","eventdata","gifsupport","videoformats","videosupport","sruallmedia","mediacategoryprefix"].foreach(function(t){t in this.attr&&(i[t]=this.attr[t])},this),this.attachchild(l.a,this.select("photoselectorselector"),i),this.on("uipreviewthumbnailshow",this.showpreview),this.on("uipreviewthumbnailhide",this.hidepreview),this.on("uiimagepickeradd uivideopickeradd uipreviewthumbnailremove",this.focus),this.on("uifileinputclicked",this.focusifnotcondensed),this.on("uipreviewthumbnailadded",this.annotatethumbwithtweetboxid),this.attachchild(d.a,this.select("taggingselector"),{includepreviouslyselectedusers:!0,eventdata:this.attr.eventdata}),this.attachchild(u.a,this.select("taggingselector")),this.on(this.select("taggingbuttonselector"),"click",function(){this.trigger(this.select("taggingselector"),"uishowselectpopover"),this.trigger(this.select("taggingbuttonselector"),"uidropdownopened")}),this.on("uiupdatedselectedusers",this.updatetaggedusers),this.on("uiupdatedthumbnails",this.updatethumbnailcount),this.on("uipreviewthumbnailremoved",this.updatetagtext)})}var n=i("0d4m"),o=i("q9/c"),a=i("wre/"),r=i("+dwm"),c=i("p2na"),l=i("+jq1"),h=i("h6fk"),d=i("yx8t"),u=i("mbsm"),p=i("g/am"),f=i("jona"),m=object(n.default)("who's in this photo?"),g=object(n.default)("who's in these photos?");e.a=s}).call(e,i("4ksj"))},"zk//":function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({dmlinkselector:".js-dm-dialog, .dm-button, .global-dm-nav"}),this.opendialog=function(e,i){e.preventdefault();var s=t(i.el);i={id:o.a.getid(s),screen_name:o.a.getscreenname(s),name:o.a.getname(s),oto_only:!0},this.trigger("uineedsdmdialog",i)},this.after("initialize",function(){this.on(document,"click",{dmlinkselector:this.opendialog})})}var n=i("dbjh"),o=i("uxvi");e.a=object(n.default)(s)}).call(e,i("4ksj"))},znut:function(t,e,i){"use strict";function s(t,e){return t>=1e3&&-1===h.indexof(e)}function n(t){return t<9950?1:t<1e6?0:1}function o(t){return v.format(t,{precision:n(t)})}function a(t){return q.format(t)}function r(t,e){return s(t,e)?o(t):a(t)}function c(t,e){var i={intnumber:t.count,localized_number:t.commaizedcount,localized_compact_number:t.compactcount};return i["intnumber_"+s.a.pluralrules.rule_for(t.count)]=!0,e.render(i).trim()}function l(t,e){return c({count:t,commaizedcount:e},x.a)}function h(t,e){return c({count:t,commaizedcount:e},m.a)}function d(t,e){return c({count:t,commaizedcount:e},y.a)}function u(t,e){return c({count:t,commaizedcount:e},r.a)}function p(t,e){return c({count:t,commaizedcount:e},d.a)}function f(t,e){return c({count:t,commaizedcount:e},a.a)}function m(t,e){return c({count:t,commaizedcount:e},e.a)}function g(t,e){return c({commaizedcount:t,compactcount:e},n.a)}function v(t,e){return c({commaizedcount:t,compactcount:e},$.a)}function b(t,e){return c({count:t,commaizedcount:e},u.a)}var w=i("zvsr"),s=i.n(w),c=i("/ju1"),y=i.n(c),t=i("yg/k"),d=i.n(t),i=i("zclm"),x=i.n(i),k=i("hyoy"),m=i.n(k),p=i("waah"),a=i.n(p),o=i("ehjk"),e=i.n(o),j=i("sr+t"),r=i.n(j),f=i("wq5j"),u=i.n(f),b=i("o9cj"),n=i.n(b),l=i("6ob2"),$=i.n(l),v=new s.a.shortdecimalformatter,q=new s.a.decimalformatter,h=["ja","ko","nl"];e.a={compactorcommaize:r,getcompactnumberprecision:n,getcommaizedformat:a,needscompacting:s,getfollowerstatphrase:l,getfollowingstatphrase:h,getfavoritestatphrase:d,getfavoritestattitle:p,gettweetstatphrase:u,getnumericstattext:b,getreplystattitle:f,getretweetstattitle:m,getprofiletweetstat:g,getprofilefollowingstat:v}},zvsr:function(t,e){(function(){var t,i,s,n,o={}.hasownproperty,a=function(t,e){function i(){this.constructor=t}for(var s in e)o.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t={},t.is_rtl=!1,t.locale="en",t.utilities=function(){function t(){}return t.from_char_code=function(t){return t>65535?(t-=65536,string.fromcharcode(55296+(t>>10),56320+(1023&t))):string.fromcharcode(t)},t.char_code_at=function(t,e){var i,s,n,o,a;for(t+="",s=t.length,a=/[\ud800-\udbff][\udc00-\udfff]/g;null!==a.exec(t)&&a.lastindex-2<e;)e+=1;return e>=s||e<0?nan:(i=t.charcodeat(e),55296<=i&&i<=56319?(n=i,o=t.charcodeat(e+1),1024*(n-55296)+(o-56320)+65536):i)},t.unpack_string=function(t){var e,i,s,n,o;for(s=[],i=n=0,o=t.length;(0<=o?n<o:n>o)&&(e=this.char_code_at(t,i));i=0<=o?++n:--n)s.push(e);return s},t.pack_array=function(t){var e;return function(){var i,s,n;for(n=[],i=0,s=t.length;i<s;i++)e=t[i],n.push(this.from_char_code(e));return n}.call(this).join("")},t.arraycopy=function(t,e,i,s,n){var o,a,r,c,l;for(l=t.slice(e,e+n),o=r=0,c=l.length;r<c;o=++r)a=l[o],i[s+o]=a},t.max=function(t){var e,i,s,n,o,a,r,c;for(s=null,n=o=0,r=t.length;o<r;n=++o)if(null!=(e=t[n])){s=e;break}for(i=a=n,c=t.length;n<=c?a<=c:a>=c;i=n<=c?++a:--a)t[i]>s&&(s=t[i]);return s},t.min=function(t){var e,i,s,n,o,a,r,c;for(s=null,n=o=0,r=t.length;o<r;n=++o)if(null!=(e=t[n])){s=e;break}for(i=a=n,c=t.length;n<=c?a<=c:a>=c;i=n<=c?++a:--a)t[i]<s&&(s=t[i]);return s},t.is_even=function(t){return t%2==0},t.is_odd=function(t){return t%2==1},t.remove_duplicates=function(t){return t.reduce(function(t,e){return t.indexof(e)<0&&t.push(e),t},[])},t.regex_escape=function(t){return t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},t.trim_string=function(t){return t.replace(/^\s+|\s+$/g,"")},t.clone=function(t){var e,i,s;if(null==t||"object"!=typeof t)return t;if(t instanceof date)return new date(t.gettime());if(t instanceof regexp)return e="" ,null!=t.global&&(e+="g"),null!=t.ignorecase&&(e+="i"),null!=t.multiline&&(e+="m"),null!=t.sticky&&(e+="y"),new regexp(t.source,e);s=new t.constructor;for(i in t)s[i]=this.clone(t[i]);return s},t.compute_cache_key=function(t){return null!=t&&t.length>0?t.join("|"):null},t.traverse_object=function(t,e){var i,s,n,o;if(s=t,0===e.length)return null;for(n=0,o=e.length;n<o;n++){if(i=e[n],null==s||!s.hasownproperty(i))return null;s=s[i]}return s},t}(),t.timespanformatter=function(){function e(){this.approximate_multiplier=.75,this.default_type="default",this.patterns={ago:{second:{default:{one:"{0} second ago",other:"{0} seconds ago"}},minute:{default:{one:"{0} minute ago",other:"{0} minutes ago"}},hour:{default:{one:"{0} hour ago",other:"{0} hours ago"}},day:{default:{one:"{0} day ago",other:"{0} days ago"}},week:{default:{one:"{0} week ago",other:"{0} weeks ago"}},month:{default:{one:"{0} month ago",other:"{0} months ago"}},year:{default:{one:"{0} year ago",other:"{0} years ago"}}},until:{second:{default:{one:"in {0} second",other:"in {0} seconds"}},minute:{default:{one:"in {0} minute",other:"in {0} minutes"}},hour:{default:{one:"in {0} hour",other:"in {0} hours"}},day:{default:{one:"in {0} day",other:"in {0} days"}},week:{default:{one:"in {0} week",other:"in {0} weeks"}},month:{default:{one:"in {0} month",other:"in {0} months"}},year:{default:{one:"in {0} year",other:"in {0} years"}}},none:{second:{default:{one:"{0} second",other:"{0} seconds"},short:{one:"{0} sec",other:"{0} secs"},abbreviated:{one:"{0}s",other:"{0}s"}},minute:{default:{one:"{0} minute",other:"{0} minutes"},short:{one:"{0} min",other:"{0} mins"},abbreviated:{one:"{0}m",other:"{0}m"}},hour:{default:{one:"{0} hour",other:"{0} hours"},short:{one:"{0} hr",other:"{0} hrs"},abbreviated:{one:"{0}h",other:"{0}h"}},day:{default:{one:"{0} day",other:"{0} days"},short:{one:"{0} day",other:"{0} days"},abbreviated:{one:"{0}d",other:"{0}d"}},week:{default:{one:"{0} week",other:"{0} weeks"},short:{one:"{0} wk",other:"{0} wks"}},month:{default:{one:"{0} month",other:"{0} months"},short:{one:"{0} mth",other:"{0} mths"}},year:{default:{one:"{0} year",other:"{0} years"},short:{one:"{0} yr",other:"{0} yrs"}}}},this.time_in_seconds={second:1,minute:60,hour:3600,day:86400,week:604800,month:2629743.83,year:31556926}}return e.prototype.format=function(e,i){var s,n,o,a;null==i&&(i={}),a={};for(s in i)o=i[s],a[s]=o;return a.direction||(a.direction=e<0?"ago":"until"),null!==a.unit&&void 0!==a.unit||(a.unit=this.calculate_unit(math.abs(e),a)),a.type||(a.type=this.default_type),a.number=this.calculate_time(math.abs(e),a.unit),n=this.calculate_time(math.abs(e),a.unit),a.rule=t.pluralrules.rule_for(n),this.patterns[a.direction][a.unit][a.type][a.rule].replace(/\{[0-9]\}/,n.tostring())},e.prototype.calculate_unit=function(t,e){var i,s,n,o;null==e&&(e={}),o={};for(i in e)n=e[i],o[i]=n;return null==o.approximate&&(o.approximate=!1),s=o.approximate?this.approximate_multiplier:1,t<this.time_in_seconds.minute*s?"second":t<this.time_in_seconds.hour*s?"minute":t<this.time_in_seconds.day*s?"hour":t<this.time_in_seconds.week*s?"day":t<this.time_in_seconds.month*s?"week":t<this.time_in_seconds.year*s?"month":"year"},e.prototype.calculate_time=function(t,e){return math.round(t/this.time_in_seconds[e])},e}(),t.numberformatter=function(){function e(){this.tokens=[],this.default_symbols={group:",",decimal:".",plus_sign:"+",minus_sign:"-"}}return e.all_tokens={default:{positive:["","#,##0.###"],negative:["-","#,##0.###"]},decimal:{positive:["","#,##0.###"],negative:["-","#,##0.###"]},long_decimal:{positive:{1000:{one:["","0"," thousand"],other:["","0"," thousand"]},10000:{one:["","00"," thousand"],other:["","00"," thousand"]},100000:{one:["","000"," thousand"],other:["","000"," thousand"]},1000000:{one:["","0"," million"],other:["","0"," million"]},10000000:{one:["","00"," million"],other:["","00"," million"]},100000000:{one:["","000"," million"],other:["","000"," million"]},1000000000:{one:["","0"," billion"],other:["","0"," billion"]},10000000000:{one:["","00"," billion"],other:["","00"," billion"]},100000000000:{one:["","000"," billion"],other:["","000"," billion"]},1000000000000:{one:["","0"," trillion"],other:["","0"," trillion"]},10000000000000:{one:["","00"," trillion"],other:["","00"," trillion"]},100000000000000:{one:["","000"," trillion"],other:["","000"," trillion"]}},negative:{1000:{one:["-","0"," thousand"],other:["-","0"," thousand"]},10000:{one:["-","00"," thousand"],other:["-","00"," thousand"]},100000:{one:["-","000"," thousand"],other:["-","000"," thousand"]},1000000:{one:["-","0"," million"],other:["-","0"," million"]},10000000:{one:["-","00"," million"],other:["-","00"," million"]},100000000:{one:["-","000"," million"],other:["-","000"," million"]},1000000000:{one:["-","0"," billion"],other:["-","0"," billion"]},10000000000:{one:["-","00"," billion"],other:["-","00"," billion"]},100000000000:{one:["-","000"," billion"],other:["-","000"," billion"]},1000000000000:{one:["-","0"," trillion"],other:["-","0"," trillion"]},10000000000000:{one:["-","00"," trillion"],other:["-","00"," trillion"]},100000000000000:{one:["-","000"," trillion"],other:["-","000"," trillion"]}}},short_decimal:{positive:{1000:{one:["","0","k"],other:["","0","k"]},10000:{one:["","00","k"],other:["","00","k"]},100000:{one:["","000","k"],other:["","000","k"]},1000000:{one:["","0","m"],other:["","0","m"]},10000000:{one:["","00","m"],other:["","00","m"]},100000000:{one:["","000","m"],other:["","000","m"]},1000000000:{one:["","0","b"],other:["","0","b"]},10000000000:{one:["","00","b"],other:["","00","b"]},100000000000:{one:["","000","b"],other:["","000","b"]},1000000000000:{one:["","0","t"],other:["","0","t"]},10000000000000:{one:["","00","t"],other:["","00","t"]},100000000000000:{one:["","000","t"],other:["","000","t"]}},negative:{1000:{one:["-","0","k"],other:["-","0","k"]},10000:{one:["-","00","k"],other:["-","00","k"]},100000:{one:["-","000","k"],other:["-","000","k"]},1000000:{one:["-","0","m"],other:["-","0","m"]},10000000:{one:["-","00","m"],other:["-","00","m"]},100000000:{one:["-","000","m"],other:["-","000","m"]},1000000000:{one:["-","0","b"],other:["-","0","b"]},10000000000:{one:["-","00","b"],other:["-","00","b"]},100000000000:{one:["-","000","b"],other:["-","000","b"]},1000000000000:{one:["-","0","t"],other:["-","0","t"]},10000000000000:{one:["-","00","t"],other:["-","00","t"]},100000000000000:{one:["-","000","t"],other:["-","000","t"]}}},currency:{positive:["","#,##0.00"],negative:["-","#,##0.00"]},percent:{positive:["","#,##0","%"],negative:["-","#,##0","%"]}},e.symbols={alias:"",decimal:".",exponential:"e",group:",",infinity:"",list:";",minus_sign:"-",nan:"nan",per_mille:"",percent_sign:"%",plus_sign:"+",superscripting_exponent:"",time_separator:":"},e.prototype.all_tokens=function(){return t.numberformatter.all_tokens},e.prototype.symbols=function(){return t.numberformatter.symbols},e.prototype.format=function(e,i){var s,n,o,a,r,c,l,h,d,u,p,f,m,g;null==i&&(i={}),c=this.default_format_options_for(e);for(r in i)i[r],c[r]=null!=i[r]?i[r]:c[r];return u=this.get_tokens(e,c),null!=u?(u instanceof array||(p=u[object.keys(u)[0]],f=this.truncate_number(e,p[1].length),0===c.precision&&(f=math.floor(f)),u=u[t.pluralrules.rule_for(f)]),m=this.partition_tokens(u),l=m[0],d=m[1],o=m[2],n=m[3],e=this.truncate_number(e,o.format.length),g=this.parse_number(e,c),a=g[0],s=g[1],h=o.apply(parsefloat(a),c),s&&(h+=n.apply(s,c)),e<0&&"-"!==l?this.symbols().minus_sign||this.default_symbols.minus_sign:"",""+l+h+d):e.tostring()},e.prototype.truncate_number=function(t,e){return t},e.prototype.partition_tokens=function(e){return[e[0]||"",e[2]||"",new t.numberformatter.integerhelper(e[1],this.symbols()),new t.numberformatter.fractionhelper(e[1],this.symbols())]},e.prototype.parse_number=function(t,e){var i;return null==e&&(e={}),i=null!=e.precision?e.precision:this.precision_from(t),t=this.round_to(t,i),math.abs(t).tofixed(i).split(".")},e.prototype.precision_from=function(t){var e;return e=t.tostring().split("."),2===e.length?e[1].length:0},e.prototype.round_to=function(t,e){var i;return i=math.pow(10,e),math.round(t*i)/i},e.prototype.get_tokens=function(){throw"get_tokens() not implemented - use a derived class like percentformatter."},e}(),t.percentformatter=function(t){function e(t){null==t&&(t={}),this.default_percent_sign="%",e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.format=function(t,i){return null==i&&(i={}),e.__super__.format.call(this,t,i).replace("",this.symbols().percent_sign||this.default_percent_sign)},e.prototype.default_format_options_for=function(t){return{precision:0}},e.prototype.get_tokens=function(t,e){return t<0?this.all_tokens().percent.negative:this.all_tokens().percent.positive},e}(t.numberformatter),t.decimalformatter=function(e){function i(t){this.data_reader=t,i.__super__.constructor.apply(this,arguments)}return a(i,e),i.prototype.format=function(e,s){var n,o;null==s&&(s={});try{return n=i.__super__.format.call(this,e,s),null!=this.data_reader&&null!=s.type&&null!=(o=t.numberingsystems.for_name(this.data_reader.number_system_for(s.type)))&&(n=o.transliterate(n)),n}catch(t){return t,e}},i.prototype.default_format_options_for=function(t){return{precision:this.precision_from(t)}},i.prototype.get_tokens=function(t,e){return null==e&&(e={}),t<0?this.all_tokens().decimal.negative:this.all_tokens().decimal.positive},i}(t.numberformatter),t.currencyformatter=function(e){function i(t){null==t&&(t={}),this.currencies_data={adp:{digits:0,rounding:0},afn:{digits:0,rounding:0},all:{digits:0,rounding:0},amd:{digits:0,rounding:0},bhd:{digits:3,rounding:0},bif:{digits:0,rounding:0},byr:{digits:0,rounding:0},cad:{digits:2,rounding:0},chf:{digits:2,rounding:0},clf:{digits:4,rounding:0},clp:{digits:0,rounding:0},cop:{digits:0,rounding:0},crc:{digits:0,rounding:0},czk:{digits:2,rounding:0},default:{digits:2,rounding:0},djf:{digits:0,rounding:0},esp:{digits:0,rounding:0},gnf:{digits:0,rounding:0},gyd:{digits:0,rounding:0},huf:{digits:2,rounding:0},idr:{digits:0,rounding:0},iqd:{digits:0,rounding:0},irr:{digits:0,rounding:0},isk:{digits:0,rounding:0},itl:{digits:0,rounding:0},jod:{digits:3,rounding:0},jpy:{digits:0,rounding:0},kmf:{digits:0,rounding:0},kpw:{digits:0,rounding:0},krw:{digits:0,rounding:0},kwd:{digits:3,rounding:0},lak:{digits:0,rounding:0},lbp:{digits:0,rounding:0},luf:{digits:0,rounding:0},lyd:{digits:3,rounding:0},mga:{digits:0,rounding:0},mgf:{digits:0,rounding:0},mmk:{digits:0,rounding:0},mnt:{digits:0,rounding:0},mro:{digits:0,rounding:0},mur:{digits:0,rounding:0},omr:{digits:3,rounding:0},pkr:{digits:0,rounding:0},pyg:{digits:0,rounding:0},rsd:{digits:0,rounding:0},rwf:{digits:0,rounding:0},sll:{digits:0,rounding:0},sos:{digits:0,rounding:0},std:{digits:0,rounding:0},syp:{digits:0,rounding:0},tmm:{digits:0,rounding:0},tnd:{digits:3,rounding:0},trl:{digits:0,rounding:0},twd:{digits:2,rounding:0},tzs:{digits:0,rounding:0},ugx:{digits:0,rounding:0},uyi:{digits:0,rounding:0},uzs:{digits:0,rounding:0},vnd:{digits:0,rounding:0},vuv:{digits:0,rounding:0},xaf:{digits:0,rounding:0},xof:{digits:0,rounding:0},xpf:{digits:0,rounding:0},yer:{digits:0,rounding:0},zmk:{digits:0,rounding:0},zwd:{digits:0,rounding:0}},this.default_currency_symbol="$",this.default_precision=this.currencies_data.default.digits,i.__super__.constructor.apply(this,arguments)}return a(i,e),i.prototype.format=function(e,s){var n,o;return null==s&&(s={}),s.currency?(null!=t.currencies?(n=t.currencies.for_code(s.currency))||(n={symbol:s.currency}):n={symbol:s.currency},null==s.precision&&(s.precision=this.defaults_for_currency(s.currency).digits)):n={symbol:this.default_currency_symbol},o=s.use_cldr_symbol?n.cldr_symbol:n.symbol,i.__super__.format.call(this,e,s).replace("",o)},i.prototype.default_format_options_for=function(t){var e;return e=this.precision_from(t),0===e&&(e=this.default_precision),{precision:e}},i.prototype.get_tokens=function(t,e){return null==e&&(e={}),t<0?this.all_tokens().currency.negative:this.all_tokens().currency.positive},i.prototype.defaults_for_currency=function(t){return this.currencies_data[t]||this.currencies_data.default},i}(t.numberformatter),t.abbreviatednumberformatter=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.number_max=math.pow(10,15),e.prototype.number_min=1e3,e.prototype.default_format_options_for=function(t){return{precision:this.precision_from(t)}},e.prototype.get_type=function(){return"decimal"},e.prototype.get_key=function(t){var e;return"1"+function(){var i,s,n;for(n=[],e=i=0,s=math.floor(t).tostring().length-1;0<=s?i<s:i>s;e=0<=s?++i:--i)n.push("0");return n}().join("")},e.prototype.get_tokens=function(t,e){var i,s,n;return null==e&&(e={}),n=t<this.number_max&&t>=this.number_min?this.get_type():"decimal",i=n===this.get_type()?this.get_key(t):null,s=this.all_tokens()[n],s=t<0?s.negative:s.positive,null!=i&&(s=s[i]),s},e.prototype.truncate_number=function(t,e){var i;return this.number_min<=t&&t<this.number_max?(i=math.max(0,math.floor(t).tostring().length-e),t/math.pow(10,i)):t},e}(t.numberformatter),t.shortdecimalformatter=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.get_type=function(){return"short_decimal"},e}(t.abbreviatednumberformatter),t.longdecimalformatter=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.get_type=function(){return"long_decimal"},e}(t.abbreviatednumberformatter),t.numberformatter.basehelper=function(){function t(){}return t.prototype.interpolate=function(t,e,i){var s,n,o;return null==i&&(i="right"),e=e.tostring(),n=e.length,o="left"===i?0:-n,t.length<n&&(t=(function(){var t,e;for(e=[],s=t=0;0<=n?t<n:t>n;s=0<=n?++t:--t)e.push("#");return e}().join("")+t).slice(-n)),t=o<0?t.slice(0,o+t.length)+e:t.slice(0,o)+e+t.slice(n),t.replace(/#/g,"")},t}(),t.numberformatter.integerhelper=function(t){function e(t,e){var i;null==e&&(e={}),i=t.split(".")[0],this.format=this.prepare_format(i,e),this.groups=this.parse_groups(i),this.separator=e.group||","}return a(e,t),e.prototype.apply=function(t,e){return null==e&&(e={}),this.format_groups(this.interpolate(this.format,parseint(t)))},e.prototype.format_groups=function(t){var e,i,s,n,o,a;if(0===this.groups.length)return t;for(n=[],e=this.groups[this.groups.length-1],i=this.groups[0],o=this.chop_group(t,i),t=o[0],s=o[1],n.push(s);t.length;)a=this.chop_group(t,e),t=a[0],s=a[1],n.push(s);return function(){var t,e,i;for(i=[],t=0,e=n.length;t<e;t++)null!==(s=n[t])&&i.push(s);return i}().reverse().join(this.separator)},e.prototype.parse_groups=function(t){var e,i,s,n;return(e=t.lastindexof(","))>0?(i=t.slice(0,e),n=[t.length-e-1],i.lastindexof(",")>-1&&n.push(i.length-i.lastindexof(",")-1),n=function(){var t,e,i;for(i=[],t=0,e=n.length;t<e;t++)null!==(s=n[t])&&i.push(s);return i}(),n.reverse(),function(){var t,i,s;for(s=[],e=t=0,i=n.length;0<=i?t<i:t>i;e=0<=i?++t:--t)-1===n.indexof(n[e],e+1)&&s.push(n[e]);return s}().reverse()):[]},e.prototype.chop_group=function(t,e){var i;return i=math.max(t.length-e,0),[t.slice(0,i),t.slice(i)]},e.prototype.prepare_format=function(t,e){return t.replace(/[,+-]/g,function(t){switch(t){case",":return"";case"+":return e.plus_sign;case"-":return e.minus_sign}})},e}(t.numberformatter.basehelper),t.numberformatter.fractionhelper=function(t){function e(t,e){null==e&&(e={}),this.format=t?t.split(".").pop():"",this.decimal=e.decimal||".",this.precision=this.format.length}return a(e,t),e.prototype.apply=function(t,e){var i;return null==e&&(e={}),i=null!=e.precision?e.precision:this.precision,i>0?this.decimal+this.interpolate(this.format_for(e),t,"left"):""},e.prototype.format_for=function(t){var e,i;return i=null!=t.precision?t.precision:this.precision,i?function(){var t,s;for(s=[],e=t=0;0<=i?t<i:t>i;e=0<=i?++t:--t)s.push("0");return s}().join(""):this.format},e}(t.numberformatter.basehelper),t.pluralrules=function(){function t(){}return t.rules={cardinal:function(t,e){var i=(e.n(t),e.i(t)),s=e.v(t);e.w(t),e.f(t),e.t(t);return 1==i&&0==s?"one":"other"},ordinal:function(t,e){var i=e.n(t);e.i(t),e.v(t),e.w(t),e.f(t),e.t(t);return i%10==3&&i%100!=13?"few":i%10==1&&i%100!=11?"one":i%10==2&&i%100!=12?"two":"other"}},t.runtime=function(t){return this.buildargsfor=function(t){return[this.n(t),this.i(t),this.f(t),this.t(t),this.v(t),this.w(t)]},this.n=function(t){return t.indexof(".")>-1?this.tonum(this._n(t).replace(/([0]+\.$)/,"")):this.tonum(this._n(t))},this.i=function(t){return this.tonum(this._i(t))},this.f=function(t){return this.tonum(this._f(t))},this.t=function(t){return this.tonum(this._t(t))},this.v=function(t){return this.tonum(this._v(t))},this.w=function(t){return this.tonum(this._w(t))},this.tonum=function(t){return 0==t.length?0:t.indexof(".")>-1?parsefloat(t):parseint(t)},this._n=function(t){return/(-)?(.*)/.exec(t)[2]},this._i=function(t){return/([\d]+)(\..*)?/.exec(this._n(t))[1]},this._f=function(t){return/([\d]+\.?)(.*)/.exec(this._n(t))[2]},this._t=function(t){return this._f(t).replace(/([0]+$)/,"")},this._v=function(t){return this._f(t).length.tostring()},this._w=function(t){return this._t(t).length.tostring()},this}.call({}),t.names={cardinal:["one","other"],ordinal:["few","one","other","two"]},t.all=function(t){return null==t&&(t="cardinal"),this.names[t]},t.rule_for=function(t,e){null==e&&(e="cardinal");try{return this.rules[e](t.tostring(),this.runtime)}catch(t){return t,"other"}},t}(),t.listformatter=function(){function e(t){null==t&&(t={}),this.formats={2:"{0} and {1}",end:"{0}, and {1}",middle:"{0}, {1}",start:"{0}, {1}"}}return e.prototype.format=function(t){return null!=this.formats[t.length.tostring()]?this.compose(this.formats[t.length.tostring()],t):this.compose_list(t)},e.prototype.compose_list=function(t){var e,i,s,n,o;if(s=this.compose(this.formats.end||this.formats.middle||"",[t[t.length-2],t[t.length-1]]),t.length>2)for(i=n=3,o=t.length;3<=o?n<=o:n>=o;i=3<=o?++n:--n)e=i===t.length?"start":"middle",null==this.formats[e]&&(e="middle"),s=this.compose(this.formats[e]||"",[t[t.length-i],s]);return s},e.prototype.compose=function(e,i){var s,n;return i=function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)null!=(s=i[t])&&n.push(s);return n}(),i.length>1?(n=e.replace(/\{(\d+)\}/g,"$1"),t.is_rtl&&(n=t.bidi.from_string(n,{direction:"rtl"}).reorder_visually().tostring()),n.replace(/(\d+)/g,function(t){return i[parseint(t)]})):i[0]||""},e}(),n=void 0!==e&&null!==e?e:(this.twittercldr={},this.twittercldr);for(i in t)s=t[i],n[i]=s}).call(this)},zwfe:function(t,e,i){"use strict";function s(){this.defaultattrs({pollintervalinms:100}),this.hasfocus=function(){return document.activeelement===this.node},this.start=function(){this.poll(),void 0===this.intervalid&&(this.intervalid=setinterval(this.poll.bind(this),this.attr.pollintervalinms))},this.poll=function(){this.trigger("uiinputpoll"),this.hasfocus()||this.stop()},this.stop=function(){void 0!==this.intervalid&&(clearinterval(this.intervalid),this.intervalid=void 0)},this.after("initialize",function(){this.on("focus",this.start),this.hasfocus()&&this.start()}),this.before("teardown",this.stop)}var n=i("dbjh");e.a=object(n.default)(s)},zytg:function(t,e,i){"use strict";function s(t,e,i,s){var n=void 0,o=void 0,a=void 0;return function(){var r=this,c=arguments;n&&cleartimeout(n);var l=date.now(),h=function(){n=null,a=void 0,o=s?o:t.apply(r,c)};return a?l-a>i&&(o=t.apply(r,c),a=l):(o=s?t.apply(r,c):o,a=l),n=settimeout(h,e),o}}e.a=s},"zao/":function(t,e,i){"use strict";function s(){this.defaultattrs({noshowerror:!0}),this.viewparticipants=function(t,e){e=e||{},this.get({url:"/i/direct_messages/participants",data:{conversation_id:e.conversation_id},eventdata:e,success:r(t.target,"dataconversationparticipantsresult"),error:r(t.target,"datadmerror")})},this.after("initialize",function(){this.on("uineedsconversationparticipants",this.viewparticipants)})}var n=i("dbjh"),o=i("vtwx"),a=i("ldny"),r=a.a.triggerfn;e.a=object(n.default)(s,o.a)},zo2h:function(t,e,i){"use strict";function s(){this.addtweetattachment=function(t,e){e&&e.id&&(this.tweetattachmentid=e.id,this.trigger("uiwantstweet",{tweetid:this.tweetattachmentid,tweetoptions:{modal:"dm",disablelinks:!0}}),this.trigger("uiattachmentchanged"))},this.removetweetattachment=function(){this.tweetattachmentid=void 0,this.trigger("uiattachmentchanged")},this.hastweetattachment=function(){return!!this.tweetattachmentid},this.around("hasattachment",function(t){return this.hastweetattachment()||t()}),this.after("initialize",function(){this.tweetattachmentid=void 0,this.on(document,"uicomposewithtweet",this.addtweetattachment)})}e.a=s},a0ja:function(t,e,i){"use strict";function s(t){return array.isarray(t)?t:array.from(t)}function n(t,e){if(!(t instanceof e))throw new typeerror("cannot call a class as a function")}var o=i("cztd"),a=i.n(o),r=i("cxip"),c=i("wkyg"),l=i("lywl"),h=i("jfpi"),d="function"==typeof symbol&&"symbol"==typeof symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof symbol&&t.constructor===symbol&&t!==symbol.prototype?"symbol":typeof t},u=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),object.defineproperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),p=[],f=function(){function t(e){n(this,t);var i=e&&"string"==typeof e.status?e.status:"";this.isempty=!1,this.isvalid=!1,this.hasmedia=!1,this.mediatype=h.h.none,this.haspoll=!1,this.hasalert=!1,this.taggedusers=void 0,this.gifinfo=void 0,this.hasalttext=!1,this.twittertextoptions=r.a.getconfig();var s=void 0,o=void 0,a=void 0,c=void 0,l=void 0;"object"===(void 0===e?"undefined":d(e))&&(s=e.currentpoll,o=e.mediafileids,a=e.replystatusid,c=e.quotedtweetid,l=e.quoteduserscreenname),this.tweetdata={status:i},this.initdata={},"object"===(void 0===s?"undefined":d(s))&&"isvalid"in s&&(this.initdata.currentpoll=s),"object"===(void 0===o?"undefined":d(o))&&(this.initdata.mediafileids=o),"string"==typeof c&&(this.initdata.quotedtweetid=c),"string"==typeof a&&(this.tweetdata.in_reply_to_status_id=a),"string"==typeof l&&"string"==typeof c&&(this.tweetdata.attachment_url=this._makepermalinkurl(l,c)),this.tweetboxid=void 0,this._validate()}return u(t,[{key:"_makepermalinkurl",value:function(t,e){return["https://twitter.com",t,"status",e].join("/")}},{key:"_validate",value:function(){var t=a.a.isvalidtweettext(this.tweetdata.status,this.twittertextoptions),e=""===this.tweetdata.status.trim(),i=!this.haspoll||l.a.getpoll(this.tweetboxid).isvalid;this.isvalid=this.hasmedia?t||e:i&&t&&!e,this.isempty=!(!e||this.haspoll||this.hasmedia||this.hasalert)}},{key:"tweetbox",set:function(t){this.tweetboxid=t}},{key:"tweettext",set:function(t){this.tweetdata.status=t,this._validate()}},{key:"mediaflag",set:function(t){this.mediatype=t,this.hasmedia=this.mediatype!==h.h.none,this._validate()}},{key:"pollflag",set:function(t){this.haspoll=t,this._validate()}},{key:"alertflag",set:function(t){this.hasalert=t,this._validate()}},{key:"mediaentityid",set:function(t){if(this.tweetdata.media_ids=t.join(","),array.isarray(this.taggedusers)&&this.taggedusers.length){this.tweetdata.media_tags={};var e=this.taggedusers.map(function(t){return object.assign({},{type:"user",user_id:t.id_str})}),i={};t.foreach(function(t){i[t]=e}),this.tweetdata.media_tags=json.stringify(i)}}},{key:"carduri",set:function(t){this.tweetdata.card_uri=t}},{key:"placeid",set:function(t){""===t?delete this.tweetdata.place_id:this.tweetdata.place_id=t}},{key:"replystatusid",set:function(t){this.tweetdata.in_reply_to_status_id=t}},{key:"additionalmediainfo",set:function(t){"has_alt_text"in t&&(this.hasalttext=!0,delete t.has_alt_text),this.tweetdata.additional_media_info=json.stringify(t)}}]),t}(),m={reset:function(){return p=[new f]},restore:function(t){p=t.map(function(t){return new f({currentpoll:t.currentpoll,mediafileids:t.mediafileids,status:t.tweettext,replystatusid:t.replystatusid,quotedtweetid:t.quotedtweetid,quoteduserscreenname:t.quoteduserscreenname})})},addtweet:function(t){var e=new f;return p.splice(t,0,e),e},deletetweet:function(t){return p.splice(t,1)},deletefirstntweets:function(t){return p.splice(0,t)},gettweet:function(t){return p[t]},get length(){return p.length},get isvalid(){return p.every(function(t){return t.isvalid})},get isallempty(){return p.every(function(t){return t.isempty})},get hasempty(){return p.some(function(t){return t.isempty})},get mediacount(){return p.reduce(function(t,e){return t+object(c.a)(e.tweetboxid).length},0)},get phototweetcount(){return p.reduce(function(t,e){return t+(e.mediatype===h.h.photo)},0)},get giftweetcount(){return p.reduce(function(t,e){return t+(e.mediatype===h.h.gif)},0)},get videotweetcount(){return p.reduce(function(t,e){return t+(e.mediatype===h.h.video)},0)},get pollcount(){return p.reduce(function(t,e){return t+e.haspoll},0)},get hasalert(){return p.some(function(t){return t.hasalert})},get threaddata(){return{thread:p}},setbatchmode:function(){var t=p,e=s(t),i=e[0],n=e.slice(1);i.tweetdata.batch_mode=n.length>0?h.c.first_tweet:h.c.single_tweet,n.foreach(function(t){return t.tweetdata.batch_mode=h.c.subsequent_tweet})}};e.a=m},aixw:function(t,e,i){function s(t){return i(n(t))}function n(t){var e=o[t];if(!(e+1))throw new error("cannot find module '"+t+"'.");return e}var o={"./above_timeline_prompt.mustache":"qxjx","./account_health_prompt.mustache":"zp5u","./dashboard_profile_prompt.mustache":"eec2","./default_layout.mustache":"pqps","./grid_timeline_layout.mustache":"wpvw","./inline_pointer_prompt.mustache":"/eqt","./inline_prompt.mustache":"fnnq","./list_timeline_layout.mustache":"mjoy","./modal_prompt.mustache":"skr5"};s.keys=function(){return object.keys(o)},s.resolve=n,t.exports=s,s.id="aixw"},ao66:function(t,e,i){"use strict";(function(t){function s(t,e){return t=t.getattribute("data-aria-label-part")||0,e=e.getattribute("data-aria-label-part")||0,"last"===t?1:"last"===e?-1:(t=parseint(t,10),e=parseint(e,10),t||e?t?e?t&&e?t===e?1:t-e:void 0:-1:1:0)}function n(){this.createimagelabel=function(e,i){var s=t(i);s.removeattr("data-aria-label-part");var n=s.attr("alt");if(n){s.attr({alt:"","data-alt":n});var a=t("<span>",{addclass:"u-hiddenvisually image-description","data-aria-label-part":"",text:object(o.default)("image: {{imagedescription}}",{imagedescription:n})});s.before(a)}},this.createarialabel=function(e,i){var n=e.target,o=t(n),r=o.find("img[data-aria-label-part]");r.each(this.createimagelabel);var c=o.find("[data-aria-label-part]").toarray();if(c.length){c.sort(s);var l=c.map(function(t,e){return object(a.a)(t)});n.setattribute("aria-labelledby",l.join(" ")),r.attr("data-aria-label-part","")}},this.removeitemlabel=function(e,i){var s=t(e.target);s.removeattr("aria-labelledby").find(".image-description[data-aria-label-part]").remove(),s.find("img[data-alt]").each(function(e,i){var s=t(i);s.attr("alt",s.attr("data-alt")).removeattr("data-alt")})},this.after("initialize",function(){this.on("uibeforetimelineselectioncleared uiaftertimelineselectionfocused",this.removeitemlabel),this.on("uitimelineitemselected",this.createarialabel)})}var o=i("0d4m"),a=i("dsew");e.a=n}).call(e,i("4ksj"))},az36:function(t,e,i){"use strict";function s(t){this.attr={id:null,maxlength:10,querysource:"typed_query",customitems:[],ttl_ms:12096e5,storagelist:"recentlyselectedlist"},this.attr=n.default.merge(this.attr,t),this.getremotesuggestions=function(t,e,i){return i},this.requiresremotesuggestions=function(){return!1},this.updatestorage=function(){this.storage.setitem(this.attr.storagelist,this.storageitems,this.attr.ttl_ms)},this.updaterecentlyselectedusers=function(t){var e=this.storageitems;t.items.foreach(function(t){this.removerecentuserfromlist(t),e.unshift(t),e.length>this.attr.maxlength&&(this.storageitems=e.slice(0,this.attr.maxlength))},this),this.updatestorage()},this.removerecentuserfromlist=function(t){var e=this.storageitems,i=this.getsuggestionindexbyid(t,e);-1!==i&&e.splice(i,1)},this.getsuggestionindexbyid=function(t,e){for(var i=0;i<e.length;i++)if(e[i].id===t.id)return i;return-1},this.getlocalsuggestions=function(t,e){for(var i=this.storageitems.slice(0,this.attr.maxlength),s=0;i.length<this.attr.maxlength&&s<this.attr.customitems.length;s++){var n=this.attr.customitems[s];-1===this.getsuggestionindexbyid(i,n)&&i.push(n)}e(i)},this.updatecustomitems=function(t){this.attr.customitems=t.items},this.initialize=function(){var t=object(o.a)({withexpiry:!0});this.storage=new t("typeahead"),this.storageitems=this.storage.getitem(this.attr.storagelist)||[]},this.initialize()}var n=i("yzit"),o=i("rwgq");e.a=s},afwj:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("<li class="dmtokenizedmultiselectsuggestion "),s.b(s.v(s.f("suggestion_class",t,e,0))),s.b("" data-token-id=""),s.b(s.v(s.f(" data_token_id",t,e,0))),s.b('" data-token-text=""),s.b(s.v(s.f(" data_token_text",t,e,0))),s.b('" role="option" tabindex="-1">\n <div class="dmtokenizedmultiselectsuggestion-body">\n '),s.b(s.t(s.f("html",t,e,0))),s.b("\n"+i),s.b(" </div>\n</li>\n"),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},b2of:function(t,e,i){"use strict";function s(){this.defaultattrs({draggingclass:"currently-dragging",supportsdraggingclass:"supports-drag-and-drop"}),this.dragenter=function(){this.$node.addclass(this.attr.draggingclass)},this.dragleave=function(){this.$node.removeclass(this.attr.draggingclass)},this.addsupportsdraggingclass=function(){this.$node.addclass(this.attr.supportsdraggingclass)},this.hassupport=function(){return"draggable"in document.createelement("span")&&!object(n.a)().msie},this.after("initialize",function(){this.hassupport()&&(this.addsupportsdraggingclass(),this.on("uidragenter",this.dragenter),this.on("uidragleave uidrop",this.dragleave))})}var n=i("rw6j"),o=i("dbjh"),a=i("yjbg");e.a=object(o.default)(s,a.a)},b6cp:function(t,e,i){"use strict";function s(){var t=array.prototype.slice.call(arguments);if(!(this instanceof s))return s.open.apply(null,t);var e=t[0];this.database=e,this.name=e.name,this.version=e.version,this.stores=n(e),e.onversionchange=function(){e.close(),self.location&&self.location.reload(!0)}}function n(t){for(var e=[],i=t.objectstorenames,s=0;s<i.length;s++)e.push(i[s]);return e}var o=i("b55n"),a=self.indexeddb||self.mozindexeddb||self.webkitindexeddb||self.msindexeddb,r=self.idbkeyrange||self.webkitidbkeyrange||self.msidbkeyrange,c={readwrite:(self.idbtransaction||self.webkitidbtransaction||self.msidbtransaction||{}).read_write||"readwrite",readonly:(self.idbtransaction||self.webkitidbtransaction||self.msidbtransaction||{}).read_only||"readonly"};e.a=s,s.keyrange=r,s.deletedatabase=function(t){return new promise(function(e){var i=a.deletedatabase(t);i.onsuccess=i.onerror=e})},s.issupported=function(){return!!a},s.open=function(t,e,i,r){var c={title:"indexeddb "'+t+'" version '+e,enabled:self.debug&&self.debug.enabled};return object(o.a)(c,new promise(function(c,l){if(!s.issupported())return l("not supported");var h=e?a.open(t,e):a.open(t);h.onupgradeneeded=function(e){var s=e.target.result,a={title:"indexeddb "'+t+'" migration from version '+e.oldversion+" to "+e.newversion,enabled:self.debug&&self.debug.enabled};object(o.a)(a,new promise(function(t,e){r||n(s).foreach(function(t){return s.deleteobjectstore(t)});var o=n(s),a=(i||[]).map(function(t){return new promise(function(e,i){var n=t.name,a=t.keypath,r=t.indexes||[];if(o.indexof(n)<0){var c=s.createobjectstore(n,{keypath:a});return r.foreach(function(t){return c.createindex(t.name,t.keypath,t)}),c}})});return promise.all(a).then(t,e)}))},h.onsuccess=function(t){promise.resolve().then(function(){var e=new s(t.target.result);return c(e)}).catch(l)},h.onblocked=function(t){l("open blocked",t.target.error)},h.onerror=function(t){return l("open error",t.target.error),!0}}))},s.prototype.add=function(t){return this.insert("add",t)},s.prototype.clear=function(){var t=arguments.length?array.prototype.slice.call(arguments):this.stores,e=t.map(function(t){return this.transaction(t,c.readwrite,function(e){return e.objectstore(t).clear()})},this);return promise.all(e)},s.prototype.close=function(){var t=this;return new promise(function(e){return t.database.close(),e()})},s.prototype.destroy=function(t,e){return this.transaction(t,c.readwrite,function(i){return i.objectstore(t).delete(e)})},s.prototype.get=function(t,e){return this.transaction(t,c.readonly,function(i){return i.objectstore(t).get(e)}).then(function(t){return t.target.result})},s.prototype.getall=function(){var t=array.prototype.slice.call(arguments).filter(function(t){return null!=t}),e=t.length,i=t[0],s="string"==typeof t[1]?t[1]:null,n="string" !=typeof t[e-1]?t[e-1]:null,o=this.database;return new promise(function(t,e){var a=o.transaction(i,c.readonly),r=s?a.objectstore(i).index(s):a.objectstore(i),l=[],h=r.opencursor(n);h.onerror=e,h.onsuccess=function(e){var i=e.target.result;i?(l.push(i.value),i.continue()):t(l)}})},s.prototype.getbyprefix=function(){var t=array.prototype.slice.call(arguments).filter(function(t){return null!=t}),e=t[0],i=3===t.length?t[1]:null,s=t[t.length-1];return this.getall(e,i,r.bound(s,s+"",!1,!1))},s.prototype.put=function(t){return this.insert("put",t)},s.prototype.insert=function(t,e){var i=object.keys(e),s=i.map(function(i){return this.transaction(i,c.readwrite,function(s){var n=s.objectstore(i);e[i].foreach(function(e){return n[t](e)})})},this);return promise.all(s)},s.prototype.transaction=function(t,e,i){var s=this;return new promise(function(n,o){var a=s.database.transaction(t,e),r=i(a);r?(r.onsuccess=n,r.onerror=o):(a.oncomplete=n,a.onerror=o)})}},bcjo:function(t,e,i){"use strict";(function(t){function s(){this.viewporthelpers=o.a,this.defaultattrs({autoplayablecontainerselector:".has-autoplayable-media",mediaselector:".animated-gif, .playablemedia:not(.playablemedia--placeholder), .js-macaw-cards-iframe-container",autoplayingmediadataattr:"data-autoplaying-media",scrollthrottle:100,watchdocumentscroll:!0,autoplayonfractioninviewport:.25}),this.watchcontainers=function(){this.$containers=this.select("autoplayablecontainerselector"),this.throttledprocesswatchedcontainers()},this.stopautoplaying=function(){this.$currentlyautoplayingcontainer&&(this.$currentlyautoplayingcontainer.attr(this.attr.autoplayingmediadataattr,!1),this.$currentlyautoplayingmedia.trigger("uistopautoplayingmedia"),this.$currentlyautoplayingcontainer=void 0,this.$currentlyautoplayingmedia=void 0)},this.processwatchedcontainers=function(){if(0!==this.$containers.length&&this.$viewport&&!this.isinfullscreen()){var t=this.viewporthelpers.getglobalnavheight(),e=this.viewporthelpers.getelementclosesttomiddleofviewport({$container:this.$viewport,$elements:this.$containers,topthreshold:t,fractioninviewport:this.attr.autoplayonfractioninviewport});e&&!e.is(this.$currentlyautoplayingcontainer)&&(this.stopautoplaying(),e.attr(this.attr.autoplayingmediadataattr,!0),this.$currentlyautoplayingcontainer=e,this.$currentlyautoplayingmedia=e.find(this.attr.mediaselector),this.$currentlyautoplayingmedia.trigger("uiautoplaymedia")),this.$currentlyautoplayingcontainer&&!this.viewporthelpers.ispartiallycontainedinviewport({$container:this.$viewport,$element:this.$currentlyautoplayingcontainer,topthreshold:t,fractioninviewport:this.attr.autoplayonfractioninviewport})&&this.stopautoplaying()}},this.resetwatchedcontainers=function(){this.$containers=t(),this.stopautoplaying(),this.watchcontainers()},this.isinfullscreen=function(){return document.webkitfullscreenelement||document.msfullscreenelement||document.fullscreenelement||document.mozfullscreenelement},this.fullscreenchange=function(){clearinterval(this.fullscreentimeout),this.isinfullscreen()?this.stoplisteningonprocessevents():this.fullscreentimeout=settimeout(this.listenonprocessevents.bind(this),2e3)},this.listenonprocessevents=function(){this.attr.watchdocumentscroll?this.on(document,"scroll",this.throttledprocesswatchedcontainers):this.on("scroll",this.throttledprocesswatchedcontainers),this.on(this.$viewport,"resize",this.throttledprocesswatchedcontainers)},this.stoplisteningonprocessevents=function(){this.attr.watchdocumentscroll?this.off(document,"scroll",this.throttledprocesswatchedcontainers):this.off("scroll",this.throttledprocesswatchedcontainers),this.off(this.$viewport,"resize",this.throttledprocesswatchedcontainers)},this.cleanup=function(){this.off(document,"uipagechanged"),this.off(this.$viewport,"resize"),this.$viewport=void 0,this.attr.watchdocumentscroll?this.off(document,"scroll",this.throttledprocesswatchedcontainers):this.off("scroll",this.throttledprocesswatchedcontainers)},this.before("teardown",function(){this.cleanup()}),this.after("initialize",function(){this.$currentlyautoplayingcontainer=void 0,this.$currentlyautoplayingmedia=void 0,this.$viewport=t(window),this.$containers=t(),this.throttledprocesswatchedcontainers=a.default.throttle(this.processwatchedcontainers.bind(this),this.attr.scrollthrottle),this.on(document,"uipagechanged",this.resetwatchedcontainers),this.listenonprocessevents(),this.on(document,"uidynamiccardloaded uidynamiccardunloaded",this.throttledprocesswatchedcontainers),this.on(document,"uiwatchautoplaymedia uiswiftloaded",this.watchcontainers),this.on(document,"uipagehidden",this.stopautoplaying),this.on(document,"uipagevisible",this.processwatchedcontainers),this.on(document,"fullscreenchange webkitfullscreenchange msfullscreenchange mozfullscreenchange",this.fullscreenchange)})}var n=i("dbjh"),o=i("/lrg"),a=i("yzit");e.a=object(n.default)(s)}).call(e,i("4ksj"))},bco2:function(t,e,i){"use strict";var s=i("0d4m"),n=i("dbjh"),o=i("wkyg"),a=i("lywl"),r=i("a0ja"),c=i("exhz"),l=i.n(c),h=i("jfpi"),d=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t};e.a=object(n.default)(l.a,function(){this.initialstate({stage:h.l.none,index:0}),this._setuploadstage=function(t){this.mergestate({stage:t,index:0})},this._resetuploadstage=function(){this.mergestate({stage:h.l.none,index:0})},this._isstage=function(t){return this.state.stage===t},this._gettweet=function(){return r.a.gettweet(this.state.index)},this._uploadnext=function(){var t=this.state,e=t.index,i=t.stage;e>=r.a.length-1?this._findnextstage():"function"==typeof this["_upload"+i]&&(this.state.index++,this["_upload"+i]())},this._findnextstage=function(){switch(this.state.stage){case h.l.none:if(r.a.mediacount){this._setuploadstage(h.l.media),this._uploadmedia();break}case h.l.media:if(r.a.mediacount&&this.trigger("dataneedrefreshadditionalmediainfo"),r.a.pollcount){this._setuploadstage(h.l.poll),this._uploadpoll();break}case h.l.poll:this._setuploadstage(h.l.tweet),this._uploadtweet();break;case h.l.tweet:this.uploadtweetstormsuccess()}},this._uploadmedia=function(){var t=object(o.a)(this._gettweet().tweetboxid);this._gettweet().hasmedia&&t.length?this.trigger(h.b.media.send_batch,{mediaitems:t}):this._uploadnext()},this._uploadpoll=function(){var t=a.a.getpoll(this._gettweet().tweetboxid).createdata;this._gettweet().haspoll&&!this._gettweet().hasmedia&&t?this.trigger(h.b.card.send,t):this._uploadnext()},this._uploadtweet=function(){this.trigger(h.b.tweet.send,this._gettweet().tweetdata)},this.onmediasuccess=function(t,e){this._isstage(h.l.media)&&(this._gettweet().mediaentityid=e.mediaids,this.trigger("datatweetstormuploadupdate",{stage:h.l.media,count:e.mediaids.length}),this._uploadnext())},this.onpollsuccess=function(t,e){this._isstage(h.l.poll)&&(this._gettweet().carduri=e.carduri,this.trigger("datatweetstormuploadupdate",{stage:h.l.poll,count:1}),this._uploadnext())},this.ontweetsuccess=function(t,e){if(this.trigger("datatweetstormtweetsentsuccessscribe",{senttweet:this._gettweet(),response:e}),this._isstage(h.l.tweet)){var i=this.state.index;i<r.a.length-1&&(r.a.gettweet(i+1).replystatusid=e.id_str),this.trigger("datatweetstormuploadupdate",{stage:h.l.tweet,count:1}),this._uploadnext()}},this.startupload=function(t,e){r.a.length&&(r.a.setbatchmode(),this._resetuploadstage(),this.enblealertdialoglistener(),this.trigger("datatweetstormuploadstart",{mediatotal:r.a.mediacount,polltotal:r.a.pollcount,tweettotal:r.a.length,reloadpageonsuccess:e&&e.reloadpageonsuccess}),this._findnextstage())},this.uploadtweetstormsuccess=function(){this.disablealertdialoglistener(),r.a.length>1&&this.trigger("datatweetstormuploadsuccessscribe",d({},this.gettypecounts(),{is_reply:!!r.a.gettweet(0).tweetdata.in_reply_to_status_id})),this.trigger("datatweetstormuploadsuccess"),this._resetuploadstage()},this.uploadtweetstormerror=function(t,e){this.disablealertdialoglistener();var i=e&&e.xhr&&e.xhr.status;r.a.length>1&&403!==i&&this.trigger("datatweetstormuploaderrorscribe",d({},this.gettypecounts(),{is_reply:!!r.a.gettweet(0).tweetdata.in_reply_to_status_id,attempted_failure:this.getcurrentuploadingtype()}));var s=this.state.stage!==h.l.tweet?0:this.state.index,n=r.a.gettweet(s).tweetdata.in_reply_to_status_id,o=r.a.length;r.a.deletefirstntweets(s),this.trigger("datatweetstormuploaderror",{recoverfromindex:s,previousstatusidinthread:n,initiallength:o}),this._resetuploadstage()},this.gettypecounts=function(){return{attempted_tweet_count:r.a.length,photo_count:r.a.phototweetcount,gif_count:r.a.giftweetcount,video_count:r.a.videotweetcount,poll_count:r.a.pollcount}},this.getcurrentuploadingtype=function(){var t=this.state.stage;return t===h.l.media?this._gettweet().mediatype:t},this.enblealertdialoglistener=function(t){this.on(window,"beforeunload uibeforeunload",this.alertupload)},this.disablealertdialoglistener=function(t){this.off(window,"beforeunload uibeforeunload",this.alertupload)},this.alertupload=function(){return r.a.length>1?object(s.default)("are you sure you want to leave while you are sending your tweets?"):object(s.default)("are you sure you want to leave while you are sending your tweet?")},this.after("initialize",function(){this.on("uitweetstormsend",this.startupload),this.on(h.b.tweet.send_success,this.ontweetsuccess),this.on(h.b.media.send_batch_success,this.onmediasuccess),this.on(h.b.card.send_success,this.onpollsuccess),this.on(h.b.tweet.send_error+" "+h.b.media.send_error+" "+h.b.card.send_error,this.uploadtweetstormerror)})})},bn2o:function(t,e,i){"use strict";function s(){this.defaultattrs({removepromptduration:400}),this.around("removeprompt",function(t,e){e.slideup(this.attr.removepromptduration,function(){return t(e)})})}e.a=s},bwsk:function(t,e,i){"use strict";function s(t,e){return new promise(function(i,s){var n=e&&e.errors&&e.errors[0]?e.errors[0].code:void 0,o=t[n];o?(o(e),i(e)):s(e)})}e.a=s},buw5:function(t,e,i){"use strict";(function(t){var s=i("0d4m"),n=i("pnul"),o=i("9tdk"),a=i("8/gf"),r=i("dcvh"),c=i("8jxu"),l=function(t){switch(t){case o.a.file_too_large:return object(s.default)("the selected media is too large.");case o.a.invalid_media:return object(s.default)("your media file could not be processed.");case o.a.timeout:return object(s.default)("the upload session has timed out.");case o.a.unsupported_media:return object(s.default)("your media file is not compatible.");case o.a.zero_file_length:return object(s.default)("file has zero length.");default:return object(s.default)("uploading media failed! please try again later.")}},h=function(t,e){switch(e){case n.a.video:return object(a.a)(t);case n.a.image:return object(r.a)(t);case n.a.gif:return object(c.a)(t)}};e.a=function(e,i,s){return(s=s||t.noop)(i,e)||h(i,e)||l(e)}}).call(e,i("4ksj"))},bwwj:function(t,e,i){"use strict";function s(){this.defaultattrs({noshowerror:!0}),this.addwelcomemessage=function(t,e){if(e=e||{},!e.has_tweet_attachment&&!1!==e.is_oto){var i={};void 0!==e.welcome_message_id&&(i.welcome_message_id=e.welcome_message_id),this.post({url:"/messages/add_welcome_message_to_conversation/"+e.conversation_id,data:i,eventdata:e,success:r(t.target,"datadmconversationresult")})}},this.after("initialize",function(){this.on("uirenderconversationview",this.addwelcomemessage)})}var n=i("dbjh"),o=i("ldny"),a=i("vtwx"),r=o.a.triggerfn;e.a=object(n.default)(s,a.a)},c9ff:function(t,e,i){"use strict";(function(t){function s(t,e,i){return e in t?object.defineproperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(){this.attributes({conversationlistselector:".dminbox-conversations",reportuseridselector:"[data-other-participant-id]",conversationidselector:".dmconversationactions [data-conversation-id]",conversationtypeselector:".dmconversationactions [data-is-oto]",deleteconversationselector:".dminbox .js-actiondeleteconversation",reportconversationselector:".dminbox .js-actionreportconversation",viewparticipantsselector:".dminbox .inbox-to-convosettings",eventdata:{scribecontext:{component:"dm_conversation_list_dialog"}},loadnextpagerange:150,hiddenclass:"u-hidden",activeclass:"is-active",inboxselector:".dminbox-content",inboxitemselector:".dminboxitem",markallreadselector:".mark-all-read",nomessagesselector:".dm-no-messages",openpopovermenuselector:".dmpopover.is-open .dmpopovermenu",primaryinboxselector:".dminbox-primary",primaryinboxspinnerselector:".dminbox-primary .dminbox-spinner",primaryinboxtype:"trusted",primaryinboxtabselector:".dminbox-inboxtab",primaryinboxtabclass:"dminbox-inboxtab",secondaryinboxselector:".dminbox-secondary",secondaryinboxspinnerselector:".dminbox-secondary .dminbox-spinner",secondaryinboxtabselector:".dminbox-requesttab",secondaryinboxtype:"untrusted",notifications:!1,tabcopyselector:".dminbox-tabcopy",tabselector:".dminbox-tab",tabtoggleitemselector:".dminbox-tabtoggleitem",untrustedconversationlistselector:".dminbox-untrustedconversations",usepushnotifications:!1}),this.removestaleinboxitems=function(t,e){var i=(e||[]).map(function(t){return this.generateinboxitemwithidselector(t)},this).join(", ");t.find(i).parent("li").remove()},this.sortinboxclone=function(e){var i=e.children().get();i.sort(function(e,i){var s=t(e).children().first().attr("data-sort-event-id"),n=t(i).children().first().attr("data-sort-event-id");return-1*o.a.compare(s,n)});var s=(i||[]).reduce(function(t,e){return t+e.outerhtml},"");e.html(s)},this.getdeletedconversationids=function(t){return(t||[]).filter(function(t){return"conversation_delete"===t.type}).map(function(t){return t.conversation_id})},this.applyuserupdates=function(t,e){e.should_request_inbox?this.trigger("uineedsdmconversationlist"):e.is_empty||(this.applysubinboxuserupdates(e,this.attr.primaryinboxtype,"conversationlistselector"),this.applysubinboxuserupdates(e,this.attr.secondaryinboxtype,"untrustedconversationlistselector"))},this.applysubinboxuserupdates=function(t,e,i){var s=t.inbox_updates,n=this.dm_secondary_inbox?s&&s[e]:s,o=t.update_events,a=this.findopenactionmenuid(),r=this.select(i).clone(),c=s&&s.updated_conversation_ids,l=this.getdeletedconversationids(o),h=(c||[]).concat(l);this.removestaleinboxitems(r,h),r.prepend(n&&n.html),this.sortinboxclone(r),this.select(i).replacewith(r),a&&this.reopenactionmenu(a),!n.is_empty&&t.notifications.length&&this.updateunseenmessages(t.notifications,e,i),this.displayunreadcount(e,this.getunseenconversations(i).length),this.$node.data({markallreadid:s.max_sort_id}),this.updatelastseenid(this.$node.data(),s.max_sort_id),this.updatelastseenid(this.$node.data(e),n.max_sort_id)},this.updateunseenmessages=function(t,e,i){var s=this,n=this.$node.data(e),a=n.lastseenid,r=void 0===a?"0":a;t.foreach(function(t){o.a.compare(t.id,r)>0&&s.select(i).find('[data-last-message-id="'+t.id+'"]').attr("data-is-unseen","")})},this.promoteuntrustedconversation=function(t,e){var i=this.select("untrustedconversationlistselector"),s=this.select("conversationlistselector"),n=e.conversation_id,o=i.find(this.generateinboxitemwithidselector(n)).parent("li");s.prepend(o)},this.findopenactionmenuid=function(){return this.select("openpopovermenuselector").attr("data-conversation-id")},this.reopenactionmenu=function(t){var e='[data-thread-id="'+t+'"] .dmpopover';this.$node.find(e).addclass("is-open")},this.initializeinboxtabs=function(t,e){this.dm_secondary_inbox=e.dm_secondary_inbox;var i=!(e.untrusted&&e.untrusted.is_empty),s=this.dm_secondary_inbox&&(l.a.get("open_dm_enabled")||i);this.select("tabselector").toggleclass("u-hidden",!s)},this.displayunreadcount=function(t,e){var i=void 0;t===this.attr.primaryinboxtype?(i=c.a.render({primary:!0,count:e}).trim(),this.$primaryinboxtab.find(this.attr.tabcopyselector).text(i)):(i=c.a.render({count:e}).trim(),this.$secondaryinboxtab.find(this.attr.tabcopyselector).text(i));var s=e>0;this.togglecountresetclicklistener(t,s)},this.togglecountresetclicklistener=function(t,e){var i=this.select("trusted"===t?"primaryinboxselector":"secondaryinboxselector").find(".dminboxitem");e?this.on(i,"click",this.notifytabopened):this.off(i,"click",this.notifytabopened)},this.applyinboxresults=function(t,e){e.sourceeventdata&&e.sourceeventdata.max_entry_id?(this.applypaginationresult(e,this.attr.primaryinboxtype,"conversationlistselector"),this.applypaginationresult(e,this.attr.secondaryinboxtype,"untrustedconversationlistselector")):(this.$node.removedata(),this.$node.data({markallreadid:e.max_sort_id,lastseenid:e.max_sort_id}),this.applysubinboxresult(e,this.attr.primaryinboxtype,"conversationlistselector"),this.applysubinboxresult(e,this.attr.secondaryinboxtype,"untrustedconversationlistselector")),this.trigger("uiresetdmpoll"),this.notifytabopened()},this.applysubinboxresult=function(t,e,i){var n=t[e]||{},o=n&&n.html;this.select(i).html(o||""),this.displayunreadcount(e,this.getunseenconversations(i).length),this.trigger("datadmcursor",{cursor:t.cursor}),this.$node.data(s({},e,{lastseenid:n.max_sort_id,minentryid:n.min_entry_id,hasmore:n.has_more}))},this.applypaginationresult=function(t,e,i){var n=t[e]||{},o=this.activeinboxstate(),a=n&&n.html;if(this.isnextpage(o.minentryid,n.max_entry_id)){var r=this.select(i).clone();this.removestaleinboxitems(r,n.threads),r.append(a),this.select(i).replacewith(r);var c=this.$node.data(e);this.$node.data(s({},e,p({},c,{minentryid:n.min_entry_id,hasmore:n.has_more})))}},this.isnextpage=function(t,e){return!(!t||!e)&&o.a.compare(t,e)>=0},this.updatelastseenid=function(t,e){var i=t&&t.lastseenid||"0";e&&i&&o.a.compare(e,i)>0&&(t.lastseenid=e)},this.updatespinner=function(){this.select("primaryinboxspinnerselector").toggleclass(this.attr.hiddenclass,!this.$node.data().trusted.hasmore),this.select("secondaryinboxspinnerselector").toggleclass(this.attr.hiddenclass,!this.$node.data().untrusted.hasmore)},this.handleinboxscroll=function(e,i){var s=t(e.currenttarget);s[0].scrollheight-s.scrolltop()-this.attr.loadnextpagerange<=s.outerheight()&&this.requestnextpagethrottled()},this.requestnextpage=function(){var t=this.secondaryinboxisactive(),e=this.activeinboxstate(),i=void 0;i=this.dm_secondary_inbox?"uineedsdmolderconversationlist":"uineedsdmconversationlist";var s=e.hasmore;(void 0===s||s)&&this.trigger(i,{max_entry_id:e.minentryid,is_trusted:!t})},this.requestnextpagethrottled=h.default.throttle(this.requestnextpage,1e3),this.markallmessages=function(){this.trigger("datamarkdmsasread",{last_message_id:this.$node.data().markallreadid||-1}),this.trigger("uidmdialogmarkmessage"),this.select("inboxitemselector").removeclass("is-unread"),this.trigger("uireadstatechanged",{msgcount:0}),this.trigger("uidminboxtabopened",{inboxtype:this.attr.secondaryinboxtype,last_seen_event_id:this.getgloballastseenid(),untrusted_last_seen_event_id:this.$node.data().untrusted.lastseenid}),this.trigger("uidminboxtabopened",{inboxtype:this.attr.primaryinboxtype,last_seen_event_id:this.getgloballastseenid(),trusted_last_seen_event_id:this.$node.data().trusted.lastseenid})},this.generateinboxitemwithidselector=function(t){return this.attr.inboxitemselector+'[data-thread-id=""+t+"" ]'},this.markconversationread=function(t,e){e.recipient_id&&this.$node.find(this.generateinboxitemwithidselector(e.recipient_id)+".is-unread").removeclass("is-unread")},this.markconversationunread=function(t,e){e.sourceeventdata&&e.sourceeventdata.recipient_id&&this.$node.find(this.generateinboxitemwithidselector(e.sourceeventdata.recipient_id)).addclass("is-unread")},this.inboxneedsrefresh=function(t,e){this.$node.addclass("needs-refresh")},this.removeconversation=function(t,e){this.$node.find(this.generateinboxitemwithidselector(e.conversation_id)).parent("li").remove(),this.trigger("uirenderconversationlistview")},this.initiateknownconversation=function(e,i){if(e){var s=t(e.target);if(this.isprofilelink(s))return;if(s.closest(".dminboxitem-media").length)return;if(s.closest(".dmpopover-button").length||s.closest(".dmpopover-content").length)return}e&&e.preventdefault();var n=t(i.el),o=n.attr("data-thread-id"),a=new regexp("^([1-9][0-9]*)-([1-9][0-9]*)$","g");this.trigger("uirenderconversationview",{conversation_id:o,is_oto:a.test(o),name:n.find(".fullname").html(),most_recent_event_id:n.attr("data-last-message-id")})},this.isprofilelink=function(t){return!!t.closest("a.js-user-profile-link").length},this.selectorfrominboxtype=function(t){return t===this.attr.primaryinboxtype?"primaryinboxselector":"secondaryinboxselector"},this.setemptystate=function(t,e){var i=this;switch(t.type){case"datadmconversationlistresult":var s=function(t){var e=i.selectorfrominboxtype(t);i.select(e).toggleclass("is-empty",!0),i.$node.data(t).hasmore=!1};e.is_pagination_response?this.updatehasmorestate(e):function(t){var e=[];return t.trusted&&t.trusted.is_empty&&e.push(i.attr.primaryinboxtype),t.untrusted&&t.untrusted.is_empty&&e.push(i.attr.secondaryinboxtype),e}(e).foreach(s);break;case"datadmuserupdates":if(e&&e.conversations&&e.conversations.length){var n=e.inbox_updates;n.trusted&&!n.trusted.is_empty&&this.select("primaryinboxselector").toggleclass("is-empty",!1),n.untrusted&&!n.untrusted.is_empty&&this.select("secondaryinboxselector").toggleclass("is-empty",!1)}}},this.updatehasmorestate=function(t){var e=this.activeinboxtype();if(t.sourceeventdata&&t[e]&&t[e].is_empty){var i=t.sourceeventdata.is_trusted?"trusted":"untrusted";this.$node.data(i).hasmore=!1}},this.launchreportingwebview=function(e,i){var s=t(e.target).closest(this.attr.inboxitemselector),n=s.find(this.attr.reportuseridselector);this.trigger("uineedsreportdialog",{reporteddirectmessageconversationid:s.attr("data-thread-id"),userid:n.attr("data-other-participant-id"),target:"dm-conversation"})},this.triggeraction=function(e,i,s){var n=t(i.target).closest(this.attr.inboxitemselector);this.trigger(e,{conversation_id:n.attr("data-thread-id"),is_group:!n.data("is-oto"),isinbox:!0})},this.secondaryinboxisactive=function(){return this.select("primaryinboxselector").hasclass(this.attr.hiddenclass)},this.activeinboxtype=function(){return this.secondaryinboxisactive()?this.attr.secondaryinboxtype:this.attr.primaryinboxtype},this.activeinboxstate=function(){var t=this.$node.data();return(this.secondaryinboxisactive()?t&&t.untrusted:t&&t.trusted)||{}},this.getactiveinboxlastseenid=function(){return this.$node.data()[this.activeinboxtype()].lastseenid},this.getgloballastseenid=function(){return this.$node.data().lastseenid},this.notifytabopened=function(){var t=this.secondaryinboxisactive();this.trigger("uidminboxtabopened",{inboxtype:t?this.attr.secondaryinboxtype:this.attr.primaryinboxtype,last_seen_event_id:this.getgloballastseenid(),trusted_last_seen_event_id:t?null:this.getactiveinboxlastseenid(),untrusted_last_seen_event_id:t?this.getactiveinboxlastseenid():null})},this.marktabseen=function(t,e){var i=this,s=e.inboxtype,n=s===this.attr.secondaryinboxtype?"untrustedconversationlistselector":"conversationlistselector";settimeout(function(){return i.displayunreadcount(s,0)},500),this.getunseenconversations(n).removeattr("data-is-unseen")},this.getunseenconversations=function(t){return this.select(t).find("[data-is-unseen]")},this.handletabclick=function(e,i){e&&e.preventdefault();var s=t(e.target).closest(this.attr.tabtoggleitemselector).hasclass(this.attr.primaryinboxtabclass);this.$primaryinboxtab.toggleclass(this.attr.activeclass,s),this.$secondaryinboxtab.toggleclass(this.attr.activeclass,!s),this.$secondaryinbox.toggleclass(this.attr.hiddenclass,s),this.$primaryinbox.toggleclass(this.attr.hiddenclass,!s),this.notifytabopened()},this.after("setemptystate",this.updatespinner),this.after("applyinboxresults",this.updatespinner),this.after("clearhasmorestate",this.updatespinner),this.after("initialize",function(){this.$primaryinbox=this.select("primaryinboxselector"),this.$secondaryinbox=this.select("secondaryinboxselector"),this.$primaryinboxtab=this.select("primaryinboxtabselector"),this.$secondaryinboxtab=this.select("secondaryinboxtabselector"),this.dm_secondary_inbox=null,this.attr.notifications&&this.attachchild(u.a,this.$node.find(".dmnotificationspermissionrequest"),{usenativepush:this.attr.usepushnotifications}),this.$node.data().trusted={},this.$node.data().untrusted={},this.on(document,"datadmconversationlistresult",this.applyinboxresults),this.on(document,"datadmconversationlistresult",h.default.once(this.initializeinboxtabs)),this.on(document,"datadmuserupdates",this.applyuserupdates),this.on(document,"uidminboxwantsrefreshed",this.inboxneedsrefresh),this.on(this.select("inboxselector"),"scroll",this.handleinboxscroll),this.on(document,"uideleteconversation uireportconversation",this.removeconversation),this.on(document,"dataconversationdeletefailed dataconversationreportfailed","uineedsdmconversationlist"),this.on(document,"datadmconversationlistresult datadmuserupdates",this.setemptystate),this.on(document,"datamarkdmsasread",this.markconversationread),this.on(document,"datadmreaderror",this.markconversationunread),this.on(document,"uidminboxtabopened",this.marktabseen),this.on(document,"uiclosedmconversation","uirenderconversationlistview"),this.on(document,"datadmtrustrequestacceptsuccess",this.promoteuntrustedconversation),this.on("click",{tabtoggleitemselector:this.handletabclick,inboxitemselector:this.initiateknownconversation,markallreadselector:this.markallmessages,reportconversationselector:this.launchreportingwebview,deleteconversationselector:this.triggeraction.bind(this,"uishowdmdeleteconversationconfirmation")})})}var o=i("luie"),a=i("dbjh"),r=i("uano"),c=i.n(r),l=i("8tpw"),h=i("yzit"),d=i("ajan"),u=i("vndl"),p=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},f=object(a.default)(n,d.a);e.a=f}).call(e,i("4ksj"))},cedb:function(t,e,i){"use strict";function s(){this.defaultattrs({frommessagemecardclass:"from-message-me-card"}),this.addmessagemecarddata=function(t,e){this.addmessagemescribedata(e),this.addfrommessagemecardclass()},this.addmessagemescribedata=function(t){this.messagemescribedata={cardname:t.cardname,carduri:t.carduri,userid:t.userid}},this.addfrommessagemecardclass=function(){this.$node.addclass(this.attr.frommessagemecardclass)},this.removemessagemecarddata=function(){this.removemessagemescribedata(),this.removefrommessagemecardclass()},this.removemessagemescribedata=function(){this.messagemescribedata=void 0},this.removefrommessagemecardclass=function(){this.$node.removeclass(this.attr.frommessagemecardclass)},this.after("initialize",function(){this.removemessagemecarddata(),this.on(document,"uiaddmessagemecarddata",this.addmessagemecarddata)}),this.after("reset",function(){this.removemessagemecarddata()})}e.a=s},cp4g:function(t,e,i){"use strict";function s(){this.storecompletiondata=function(t,e){if(e.scribecontext&&"tweet_box"===e.scribecontext.component){var i="account"===e.source?"@"+e.display:e.display;this.completions.push(i)}},this.handletweetcompletion=function(t,e){if("tweet_box"===e.scribecontext.component){var i=e.text||"";delete e.text;var s=r.a.extractentitieswithindices(i).filter(function(t){return t.screenname||t.cashtag||t.hashtag});s=s.map(function(t){return i.slice(t.indices[0],t.indices[1])});var n=s.filter(function(t){return this.completions.indexof(t)>=0},this);if(this.completions=[],0!==s.length){var o={query:e.query,message:s.length,event_info:n.length,format_version:2};this.scribe("entities",e,o)}}},this.scribeselection=function(t,e){if(!e.fromselectionevent||"uitypeaheaditemcomplete"!==t.type){var i={element:"typeahead_"+e.source,action:"select"},s=void 0;"uitypeaheaditemcomplete"===t.type?s="autocomplete":e.isclick?s="click":"uitypeaheaditemselected"===t.type&&(s="key_select");var n={position:e.index,description:s};"account"===e.source?(n.item_type=c.a.user,n.id=e.query):"topics"===e.source?(n.item_type=c.a.search,n.item_query=e.query):"follow_search"===e.source?(n.item_type=c.a.savedsearch,n.item_query=e.query):"saved_search"===e.source?(n.item_type=c.a.savedsearch,n.item_query=e.query):"recent_search"===e.source?(n.item_type=c.a.search,n.item_query=e.query):"trend_location"===e.source?(n.item_type=c.a.trend,n.item_query=e.item.woeid,-1===e.item.woeid&&(i.action="no_results")):"concierge"===e.source&&(n.item_type=c.a.search,n.item_query=e.query||e.item.name);var o={message:e.input,items:[n],format_version:2,event_info:e.item?e.item.origin:null,search_details:e.item?e.item.searchdetails:null};this.scribe(i,e,o)}},this.scribemalformedaccount=function(){this.scribe({element:"typeahead_account",action:"empty"})},this.after("initialize",function(){this.completions=[],this.on("uitypeaheaditemcomplete uitypeaheaditemselected",this.storecompletiondata),this.on("uitypeaheaditemcomplete uitypeaheaditemselected",this.scribeselection),this.on("uitweetboxtweetsuccess uitweetboxreplysuccess",this.handletweetcompletion),this.on("uitypeaheadaccountmalformed",this.scribemalformedaccount)})}var n=i("dbjh"),o=i("3odc"),a=i("cztd"),r=i.n(a),c=i("rbkv");e.a=object(n.default)(s,o.a)},cxip:function(t,e,i){"use strict";var s=i("v9eu"),n=i("cztd"),o=(i.n(n),i("iamj")),a=["ja","zh-cn","zh-tw","ko"];e.a={getconfig:function(){return o.a.getdecider("twitter_text_emoji_counting_enabled")?n.configs.version3:n.configs.version2},getlanguageweight:function(){return a.indexof(s.a.language)>-1?2:1},version1:n.configs.version1,version2:n.configs.version2}},ca1w:function(t,e,i){"use strict";function s(){this.attributes({markerselector:".dmconversation-lastreadmarker",messageidattr:"data-message-id",receivedmessagesselector:".directmessage--received",scrollcontainerselector:".dmconversation-scrollcontainer"}),this.removemarker=function(){this.select("markerselector").slideup({duration:350})},this.applymarker=function(t){var e=this.findlastreadnode(t),i=e.nextall().filter(this.attr.receivedmessagesselector),s=i.first();if(!!s.length){s.prev().removeclass("is-rapidfire");var n=i.length,a={unread_count:n};a["unread_count_"+o.a.pluralrules.rule_for(i.length)]=!0,s.before(r.a.render(a));var c=s.prop("offsettop")-.33*this.$scrollcontainer.height();this.$scrollcontainer.scrolltop(c)}},this.findlastreadnode=function(t){return this.$node.find("["+this.attr.messageidattr+"="+t+"]")},this.after("initialize",function(){this.$scrollcontainer=this.select("scrollcontainerselector")})}var n=i("zvsr"),o=i.n(n),a=i("iaiq"),r=i.n(a);e.a=s},ckc9:function(t,e,i){"use strict";(function(t){function s(t){n.a.attachto(document,t),r.a.attachto(document),f.a.attachto("#dm_dialog",t,{timestampselector:".time"}),u.a.attachto(document,t),b.a.attachto(".dm-media-container"),i.a.attachto(".dm-mute-notifications-dialog"),x.a.attachto(document),q.a.attachto(document),l.a.attachto(document),$.a.attachto(document),n.a.attachto(document),l.a.attachto(document),m.a.attachto(document),p.a.attachto(document),p.a.attachto(document),a.a.get("welcome_message_add_to_conversation_enabled")&&h.a.attachto(document),f.a.attachto(document),k.a.attachto(".dminbox",{notifications:a.a.get("notifications"),usepushnotifications:a.a.get("usepushfornotifications")}),a.a.attachto(".dmcompose",{maxparticipants:a.a.get("participant_max")||t.dm_participant_max||50,currentuserid:t.userid}),c.a.attachto("#dm_dialog"),a.a.get("notifications")&&e.a.attachto(document,{conversationselector:".dmconversation-content"}),d.a.attachto(document),m.a.attachto(document),s.a.attachto(document),c.a.attachto(document),t.a.attachto(document),d.a.attachto(document),g.a.attachto("#dm_dialog"),u.a.attachto(document),v.a.attachto(document),w.a.attachto(document),y.a.attachto(document),b.a.attachto(document),r.a.attachto(document),o.a.attachto(document),j.a.attachto(document);var e=t.dm_options||{};v.a.attachto(document,{open:e.show_dm_dialog,text:e.default_composer_text,welcomemessageid:e.welcome_message_id,conversation:{id:e.conversation_id},compose:{id:e.recipient_id,screenname:e.recipient,name:e.recipient_name,avatar:e.recipient_avatar}}),h.a.attachto(document),w.a.attachto(document),a.a.get("card_prefetch")&&o.a.attachto(".dmcomposer",{cardprefetchinterval:a.a.get("card_prefetch_interval_in_seconds")})}var n=i("rbio"),o=i("97d5"),a=i("cdle"),r=i("5dpv"),c=i("xxli"),l=i("wyka"),h=i("bwwj"),d=i("hwdg"),u=i("fane"),p=i("f+gd"),f=i("dtnq"),m=i("+q5d"),g=i("itx7"),v=i("rgul"),b=i("igdv"),w=i("y27k"),s=i("7ks6"),c=i("w0o4"),y=i("nqh4"),t=i("tblw"),d=i("p4ep"),i=i("kczs"),x=i("vl6w"),k=i("c9ff"),m=i("/y1u"),p=i("zao/"),a=i("8tpw"),o=i("qir8"),e=i("1f87"),j=i("gpu+"),r=i("+uin"),f=i("tx0k"),u=i("zk//"),b=i("kbkg"),n=i("xna7"),l=i("wlom"),$=i("78rh"),v=i("+q9n"),q=i("bsga"),h=i("5wkh"),w=i("ggwq"),g=!!t("#dm_dialog").length;e.a=g?s:t.noop}).call(e,i("4ksj"))},cl8q:function(t,e,i){"use strict";function s(){this.saveundostatedeferred=function(t){var e=this;"mousemove"===t.type&&1!==t.which||settimeout(function(){e.detectupdatedtext(),e.saveundostate()},0)},this.clearundostate=function(){this.undohistory=[],this.undoindex=-1},this.saveundostate=function(){var t=this.htmlrich.gettext(),e=this.getselection()||[t.length],i=this.undohistory,s=i[this.undoindex];s&&s.text===t?s&&(s.selection=e):i.splice(++this.undoindex,i.length,{text:t,selection:e})},this.isundokey=function(t){return this.ismac?t.which===n.a.z&&t.metakey&&!t.shiftkey&&!t.ctrlkey&&!t.altkey:t.which===n.a.z&&t.ctrlkey&&!t.shiftkey&&!t.altkey},this.isredokey=function(t){return this.ismac?t.which===n.a.z&&t.metakey&&t.shiftkey&&!t.ctrlkey&&!t.altkey:this.iswin?t.which===n.a.y&&t.ctrlkey&&!t.shiftkey&&!t.altkey:t.which===n.a.z&&t.shiftkey&&t.ctrlkey&&!t.altkey},this.setundostate=function(t){this.detectupdatedtext(!1,t.text),this.htmlrich.setselectionoffsets(t.selection),this.trigger("uihideautocomplete")},this.emulateundo=function(t){this.isundokey(t)&&(this.stopevent(t),this.saveundostate(),this.undoindex>0&&this.setundostate(this.undohistory[--this.undoindex]))},this.emulateredo=function(t){var e=this.undohistory,i=this.undoindex;i<e.length-1&&this.htmlrich.gettext()!==e[i].text&&e.splice(i+1,e.length),this.isredokey(t)&&(this.stopevent(t),i<e.length-1&&this.setundostate(e[++this.undoindex]))},this.undostateaftercursormovement=function(t){[n.a.page_up,n.a.page_down,n.a.home,n.a.end,n.a.up,n.a.down,n.a.left,n.a.right].indexof(t.which)>=0&&this.saveundostatedeferred(t)},this.undostatefordeletekeys=function(t){var e=this;if(!(!this.ischrome&&!this.isfirefox||t.metakey||t.which!==n.a.backspace&&t.which!==n.a.delete)){var i=this.htmlrich.gettext(),s=this.getselection()||[i.length],o=s;settimeout(function(){var a=e.htmlrich.gettext(),r=a.length,c=i.length-r;if(c>0){if(1===o.length){var l=o[0];o=t.which===n.a.backspace?[l-c,l]:[l,l+c]}if(o[0]>=0&&o[1]<=i.length&&o[1]-o[0]===c){var h=e.undohistory;e.undoindex>=0&&h[e.undoindex].text===i&&e.undoindex--;var d=e.undoindex>=0&&h[e.undoindex].deletedspan;d&&(s=h[e.undoindex].selection,t.which===n.a.backspace&&o[1]===d[0]?(i=h[e.undoindex--].text,o=[o[0],d[1]]):t.which===n.a.delete&&o[0]===d[0]&&(i=h[e.undoindex--].text,o=[d[0],d[1]+c])),e.ischrome&&(s=o),h.splice(++e.undoindex,h.length,{text:i,selection:s,deletedspan:o}),e.saveundostate()}}},0)}},this.handlekeydownforundo=function(t){this.emulateundo(t),this.emulateredo(t),this.undostateaftercursormovement(t),this.undostatefordeletekeys(t)},this.after("inittextnode",function(){this.undohistory=[{text:"",selection:[0]}],this.undoindex=0,this.on(this.$text,"keydown",this.handlekeydownforundo),this.on(this.$text,"focusin",this.ignoreduringfakefocus(this.saveundostatedeferred)),this.on(this.$text,"cut paste drop",this.saveundostate),this.on(this.$text,"cut paste drop mousedown mousemove",this.saveundostatedeferred),this.on("uisaveundostate",this.saveundostate),this.on("uiclearundostate",this.clearundostate)})}var n=i("i3qs");e.a=s},cutm:function(t,e,i){"use strict";(function(t){function s(e){if(!e.no_global_infinite_scroll){var i=e.infinitescrollnode||window;n.a.attachto(i,{contentselector:e.contentselector,immediatelyrequestmoreitems:t(".stream-container").hasclass("js-request-more-stream-items")})}var s=e.inoverlay?".permalinkoverlay":document;a.a.attachto(s,e),o.a.attachto(document)}var n=i("kjck"),o=i("pmre"),a=i("bcvv");e.a=s}).call(e,i("4ksj"))},d2kf:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.s(s.f("items",t,e,1),t,e,0,10,349,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b('<button type="button" class="emojipicker-item emojipicker-focusable u-usercolorfocusring'),i.s(i.f("is_diversity",t,e,1),t,e,0,133,146,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(" is-diversity")}),t.pop()),i.s(i.f("is_variant",t,e,1),t,e,0,188,199,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(" is-variant")}),t.pop()),i.b('" data-key=""),i.b(i.v(i.f(" key",t,e,0))),i.s(i.f("is_text_default",t,e,1),t,e,0,263,268,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b("-fe0f")}),t.pop()),i.b('" data-placement="bottom-right" tabindex="-1"></button>')}),t.pop()),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},dcvh:function(t,e,i){"use strict";var s=i("0d4m"),n=i("9tdk"),o=i("9eqs"),a=i.n(o);e.a=function(t){var e=a.a.render({article_number:"20156423"});switch(t){case n.a.invalid_media:return object(s.default)("your image file could not be processed. please see tips for uploading images. {{learnmorelink}}",{learnmorelink:e});case n.a.file_too_large:return object(s.default)("your image file is too large. images should be less than 5 mb. {{learnmorelink}}.",{learnmorelink:e});case n.a.unsupported_media:return object(s.default)("your image file is not compatible. please see tips for uploading images. {{learnmorelink}}",{learnmorelink:e})}}},dsew:function(t,e,i){"use strict";function s(t,e){t=t||{},e=e||n;var i=t.id;if(i)return i;do{o++,i=e+o}while(document.getelementbyid(i));return t.id=i,i}var n="uuid-",o=0;s.resetcount=function(){o=0},e.a=s},dtnq:function(t,e,i){"use strict";function s(){this.attributes({darktraffic:!1}),this.processdmtypingevent=function(t){!this.attr.darktraffic&&this.trigger("datadmtyping",t)},this.processdmupdate=function(t){!this.attr.darktraffic&&this.trigger("datadmupdate",t)},this.processlpmessage=function(t,e){e.payload.dm_typing?this.processdmtypingevent(e.payload.dm_typing):e.payload.dm_update&&this.processdmupdate(e.payload.dm_update)},this.updatesubscriptions=function(t,e){if(e&&t){var i="subscribe"===t?"datalpsubscribe":"datalpunsubscribe";this.trigger(i,{consumer_id:this.consumerid,topic:this.gettopicsforconversation(e)})}},this.handleconversationupdate=function(t,e){e.conversation_id!==this.conversationid&&this.updatesubscriptions("unsubscribe",this.conversationid),this.updatesubscriptions("subscribe",e.conversation_id),this.conversationid=e.conversation_id},this.handleconversationviewchange=function(t){var e="uidmconversationactivityhidden"===t.type?"unsubscribe":"subscribe";this.updatesubscriptions(e,this.conversationid)},this.gettopicsforconversation=function(t){return["/dm_typing/"+t,"/dm_update/"+t]},this.after("initialize",function(){this.consumerid=parseint(math.random()*number.max_safe_integer,10),this.on("datalpmessage",this.processlpmessage),this.on("uidmconversationupdated",this.handleconversationupdate),this.on("uidmconversationactivityhidden uidmconversationactivityvisible",this.handleconversationviewchange)})}var n=i("dbjh");e.a=object(n.default)(s)},dumm:function(t,e,i){"use strict";(function(t){function s(t,e,i){return e in t?object.defineproperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(){var e,i;c.default.mixin(this,[f.a,g.a,m.a]),this.defaultattrs({cardwrapperclass:".js-macaw-cards-iframe-container",tweetiddata:"tweet-id",tweetnonceiddata:"tweet-nonce",itemiddata:"item-id",dmiddata:"message-id",advertiseriddata:"advertiser-id",itemtype:"tweet",fullcardiframeurl:"data-full-card-iframe-url",srcattr:"data-src",cardurl:"data-card-url",publisherid:"data-publisher-id",creatorid:"data-creator-id",srcdataattr:"src",cardurldataattr:"card-url",publisheriddataattr:"publisher-id",creatoriddataattr:"creator-id",cardname:"data-card-name",card2typeattr:"card2-type",supportsbroadcastplayerattr:"supports-broadcast-player",macawcardsuserstyles:"macaw-cards-user-styles"}),this.default_scribe_element="platform_card",this.default_scribe_component="tweet",this.default_scribe_action="undefined",this.cards_requiring_user_defined_styles=["2586390716:message_me"],this.broadcast_player_cards={periscope:"3691233323:periscope_broadcast",broadcast:"745291183405076480:broadcast",live_event:"745291183405076480:live_event"},this.cards_requiring_live_broadcast_player=[this.broadcast_player_cards.broadcast,this.broadcast_player_cards.live_event],this.card_player_component_map=(e={},s(e,this.broadcast_player_cards.periscope,"broadcastcard"),s(e,this.broadcast_player_cards.broadcast,"broadcastcard"),s(e,this.broadcast_player_cards.live_event,"lexcard"),e),this.card_player_surface_map=(i={},s(i,this.broadcast_player_cards.periscope,"broadcast_card"),s(i,this.broadcast_player_cards.broadcast,"broadcast_card"),s(i,this.broadcast_player_cards.live_event,"event_card"),i),this.createcard=function(e){var i=this;if(window.opener&&(!document.hasfocus()||!window.__user_interactive))return settimeout(function(){i.createcard(e)},500);var s=void 0,n=this._getcardwrapper(e),o=this._getuniqueidforcard(e),c=this._gettweetid(e),h=this._getadvertiserid(e),u=void 0,f=void 0,m=e.closest("[data-card-component]").attr("data-card-component"),g={element:this.default_scribe_element,component:m||this.default_scribe_component},v=w({},r.a.scribecontext,{component:g.component}),s={impressionid:e.data("impression-id"),disclosuretype:e.data("disclosure-type")};if(n&&n.length&&n[0].childnodes.length<2&&(!this.channels[o]||n.context&&0===n.context.clientheight)){u=n.data("src");var y=this._getcard2type(e),t=-1!==this.cards_requiring_live_broadcast_player.indexof(y),d=d.a.getdecider("cards2_enable_periscope_card_transition")&&y===this.broadcast_player_cards.periscope&&e.data(this.attr.supportsbroadcastplayerattr);(t||d)&&(this._attachlivebroadcastplayer(e),u=this._addlivebroadcastplayerparamtourl(u)),-1!==this.cards_requiring_user_defined_styles.indexof(y)&&(u=this._addusercolortourl(e,u)),e.hasclass("directmessage")&&(u=this._adddminfotourl(e,u)),e.data("creative-id")&&(u=this._addrtbadinfotourl(e,n,u)),u=this._addheighttourl(n,u),u=this._addnightmodetourl(n,u),u=this._addscribecontexttourl(v,u),u=this._addbearertokentourl(a.a,u),s=new b.a.rpc({acl:["https:\\/\\/twitter\\.com","https:\\/\\/www\\.twitter\\.com","https:\\/\\/localhost\\.twitter\\.com"],remote:u,container:n[0],props:{height:"0",style:{display:"block"}},onready:function(){e.trigger("uicardloaded")}},{local:f=this.localmethods={localmethodnames:function(){return{callmethodbyname:!0,cancelfollowuser:!0,emojifytext:!0,favoritestatus:!0,followadvertiser:!0,followuser:!0,initcardplayer:!0,initcardplayerforbroadcast:!0,initcardplayerformediatweetid:!0,initplayerforliveeventcard:!0,logpromotedcontentevent:!0,logpromotedinfo:!0,openauthwebview:!0,opengallery:!0,openleadgenconfirmdialog:!0,openlink:!0,openlinknoscribe:!0,openmessagemedialog:!0,openprofile:!0,rawpromotedloggerinterface:!0,rawscribeinterface:!0,requestdynamicad:!0,requestplayerconfig:!0,resizecard:!0,retweetstatus:!0,scribe:!0,sharestatus:!0,statuscomposetweet:!0,subscribetoevent:!0,teardowncardplayer:!0,teardownplayerforliveeventcard:!0,unblockuser:!0,unfollowadvertiser:!0,unfollowuser:!0,unsubscribefromevent:!0,videoview:!0}},callmethodbyname:function(){var t=arguments[0],e=array.prototype.slice.call(arguments,1);return f[t].method.apply(this,e)},openauthwebview:function(t){return i.trigger("uiopenauthwebviewdialog",{impressionid:t.impressionid,webviewurl:t.webviewurl,webviewtitle:t.webviewtitle,tweetid:t.tweetid})},opengallery:function(t){return i.trigger(document,"uiopencardimagegallery",{tweetid:t.tweetid,imageurl:t.imageurl})},openleadgenconfirmdialog:function(t){t=w({},t,s,{tweetid:e.data(i.attr.tweetiddata),cardurl:n.attr(i.attr.cardurl),fullcardiframeurl:n.attr(i.attr.fullcardiframeurl),publisherid:n.attr(i.attr.publisherid),creatorid:n.attr(i.attr.creatorid)}),i.trigger(document,"uiopenleadgenconfirmdialog",t)},openlink:function(t){var e=s;t.hasownproperty("cardevent")&&(e.cardevent=t.cardevent),i.trigger("uicardurlclick",e),i.scribecardinteraction("open_link",i._getcarddatawithscribecontext(n,g))},openlinknoscribe:function(t){var e=s;t.hasownproperty("cardevent")&&(e.cardevent=t.cardevent),t.hasownproperty("unifiedcarddata")&&(e.unifiedcardevent=t.unifiedcarddata),t.skipeventuicardurlclick||i.trigger("uicardurlclick",e)},openmessagemedialog:function(t){return i.trigger("uicomposenewdmwithoptions",{tweetid:t.tweetid,recipientid:t.recipientid,defaultcomposertext:t.defaultcomposertext,welcomemessageid:t.welcomemessageid,messagemecarddata:{cardname:n.attr(i.attr.cardname),carduri:n.attr(i.attr.cardurl),userid:d.a.user.id}})},openprofile:function(t){t=w({userid:t.userid,userscreenname:t.userscreenname,profileclicktarget:t.profileclicktarget,scribecontext:g},i.getcarddatafromcontainer(n),s),e.trigger("uishowprofilenewwindow",t),e.trigger("uinavigate",{href:"/"+t.userscreenname})},requestdynamicad:function(){var t=i.getcard2item(i._getcarddatawithscribecontext(n,g));return i.getdynamicvideoad(t)},requestplayerconfig:function(){return{autoplaypreview:e.find('[data-autoplaying-media="true" ]').length>0,autoplaypreviewpreroll:d.a.getdecider("autoplaypreviewpreroll"),usevmapvariants:d.a.getdecider("usevmapvariants")}},resizecard:function(t){s.iframe.height=parseint(t.height,10),n.removeclass("initial-card-height")},statuscomposetweet:function(e){"htmltitle"in e&&delete e.htmltitle,"screenname"in e&&(e.screenname=c(e.screenname)),"screennames"in e&&(array.isarray(e.screennames)||(e.screennames=[e.screennames]),e.screennames=e.screennames.map(c)),e.defaulttext=e.tweettext||"",p.a.isvalidtweettext(e.defaulttext)||delete e.defaulttext,t(document).trigger("uiopentweetdialog",w({},e,{cantweetdefaulttext:!0,disclosuretype:i._getdisclosuretype(e.earned)}))},retweetstatus:function(t){return i._triggertweetaction(e,"uiopenretweetdialog",{id:t.tweetid||c,tweetid:t.tweetid||c})},favoritestatus:function(t){return i._triggertweetaction(e,"uididfavoritetweet",{id:t.tweetid||c})},sharestatus:function(t){return i._triggertweetaction(e,"uineedsshareviaemaildialog",{id:t.tweetid||c})},followadvertiser:function(t){h&&i._triggertweetaction(e,"uifollowaction",{userid:h})},unfollowadvertiser:function(t){h&&i._triggertweetaction(e,"uifollowaction",{userid:h})},rawscribeinterface:function(t){return i.trigger(document,"scribe",{scribeevent:w({},r.a.scribecontext,g,t.namespace),scribedata:t.data})},rawpromotedloggerinterface:function(t){return i.trigger(document,"uilogpromotedevent",t)},scribe:function(t){var e=i.default_scribe_element,s=i.default_scribe_action,o=void 0;t.hasownproperty("customscribe")&&(t.customscribe.hasownproperty("element")&&(e=t.customscribe.element),t.customscribe.hasownproperty("action")&&(s=t.customscribe.action),t.customscribe.hasownproperty("itemdata")&&(o=t.customscribe.itemdata),i.scribecardinteraction(s,i._getcarddatawithscribecontext(n,g),e,o))},logpromotedinfo:function(t){return i.trigger(document,"uimacawcardclicked",{event:t.event,impressionid:t.impressionid,earned:t.earned,sync:t.sync})},logpromotedcontentevent:function(s){return i._triggertweetaction(e,"uiplayablemediaevent",t.extend(i.interactiondata(e,s),s))},followuser:function(t){t.userid&&i._triggertweetaction(e,"uifollowaction",{userid:t.userid})},unfollowuser:function(t){t.userid&&i._triggertweetaction(e,"uiunfollowaction",{userid:t.userid})},unblockuser:function(t){t.userid&&i._triggertweetaction(e,"uiunblockaction",{userid:t.userid})},cancelfollowuser:function(t){t.userid&&i._triggertweetaction(e,"uicancelfollowrequestaction",{userid:t.userid})},subscribetoevent:function(t){t&&t.subscribeto&&(o in i.activesubscriptions?i.activesubscriptions[o].push(t.subscribeto):i.activesubscriptions[o]=[t.subscribeto],i._addsubscription(o,t.subscribeto))},unsubscribefromevent:function(t){t&&t.unsubscribefrom&&i._removesubscription(o,t.unsubscribefrom)},emojifytext:function(t){for(var e in t)t[e]=l.a.emojifytext(t[e]);s.transmitemojifiedtext(t)},initplayerforliveeventcard:function(t){i._triggertweetaction(e,"uiloadplayerforliveeventcard",{broadcast_id:t.broadcast_id})},teardownplayerforliveeventcard:function(){i._triggertweetaction(e,"uiteardownplayerforliveeventcard",{})},initcardplayerforbroadcast:function(t){i._triggertweetaction(e,"uiloadcardplayerforbroadcast",{broadcast_id:t.broadcast_id,requested_timecode:t.requested_timecode})},initcardplayerformediatweetid:function(t){i._triggertweetaction(e,"uiloadcardplayerformediatweetid",{media_tweet_id:t.media_tweet_id})},initcardplayer:function(t){i._triggertweetaction(e,"uiloadplayer",{tweetid:o,index:t.index})},teardowncardplayer:function(){i._triggertweetaction(e,"uiteardowncardplayer",{tweetid:c})}},remote:{localmethodnames:{},callvideoplayermethod:{},transmitemojifiedtext:{},transmitevent:{}}}),t(s.iframe).attr("allowfullscreen",""),this.channels[o]=s;if(e.data(this.attr.dmiddata)&&e.is(":visible")){var i=this.getcard2item(this.getcarddatafromcontainer(n));this.trigger("uinewdmcardloaded",{carditem:i})}}return s},this.destroycard=function(t){var e=this._getuniqueidforcard(t);if(this.channels[e]){this.channels[e].destroy(),delete this.channels[e];var i=this.activesubscriptions[e];delete this.activesubscriptions[e];for(var s in i)this._subscriptionexistsfor(event)||this.off(document,s)}},this.destroyallcards=function(){var t=this.channels;object.keys(this.channels).foreach(function(e){return t[e].destroy()}),this.channels={}},this.handlestreamitemremoval=function(e){var i=this,s=e.target;s&&t(s).find(".tweet").each(function(e,s){return i.destroycard(t(s))})},this._getcardwrapper=function(t){return t.find(this.attr.cardwrapperclass)},this._gettweetid=function(t){return t.data(this.attr.tweetiddata)},this._getuniqueidforcard=function(t){return t.data(this.attr.tweetnonceiddata)||t.data(this.attr.tweetiddata)||t.data(this.attr.dmiddata)},this._getadvertiserid=function(t){return t.data(this.attr.advertiseriddata)},this._getusercolor=function(e){var i=t("<a/>").css("display","none").appendto(e),s=i.css("color");return i.remove(),s},this._getcard2type=function(t){return t.data(this.attr.card2typeattr)},this._addlivebroadcastplayerparamtourl=function(t){return h.a.addtourl(t,{supports_broadcast_player:!0})},this._addusercolortourl=function(t,e){var i=this._getusercolor(t);return i?h.a.addtourl(e,{user_color:i}):e},this._addscribecontexttourl=function(t,e){return t?h.a.addtourl(e,{scribe_context:json.stringify(t)}):e},this._addbearertokentourl=function(t,e){return t?h.a.addtourl(e,{bearer_token:t}):e},this._adddminfotourl=function(t,e){var i=t.find(".card2"),s=parseint(i.css("border-top-left-radius"),10),n=parseint(i.css("border-top-right-radius"),10),o=parseint(i.css("border-bottom-right-radius"),10),a=parseint(i.css("border-bottom-left-radius"),10),r=e;if(!(isnan(s)||isnan(n)||isnan(o)||isnan(a))){var c=[s,n,o,a].map(function(t){return t>0}),l={client:"dm",border_radius:c.tostring()};l.edge=!0,r=h.a.addtourl(e,l)}return r},this._addnightmodetourl=function(t,e){return d.a.user.nightmodeactivated?h.a.addtourl(e,{night_mode:!0}):e},this._addheighttourl=function(t,e){var i=t.height();return i?h.a.addtourl(e,{card_height:i}):e},this._addrtbadinfotourl=function(t,e,i){var s={card_name:e.data("card-name"),card_url:e.data("card-url"),website_url:t.data("card-website-url"),title:t.data("card-title"),vanity_url:t.data("card-vanity-url"),image_width:t.data("card-image-width"),image_height:t.data("card-image-height"),image_url:t.data("card-image-url")};return h.a.addtourl(i,{rtb_data:json.stringify(s)})},this._getcarddatawithscribecontext=function(t,e){return w({},this.getcarddatafromcontainer(t),{scribecontext:e})},this._getdisclosuretype=function(t){return!0===t?"earned":"_"},this._triggertweetaction=function(t,e,i){t.trigger(e,i)},this._addsubscription=function(t,e){var i=this;this.on(document,e,function(s,n){var o=i.channels[t];o&&i.activesubscriptions[t]&&i.activesubscriptions[t].indexof(e)>-1&&o.transmitevent(e,{type:s.type,timestamp:s.timestamp,data:s.data},n)})},this._removesubscription=function(t,e){var i=this.activesubscriptions[t];if(this.channels[t]&&array.isarray(i)){var s=i.indexof(e);s>-1&&(i.splice(s,1),i.length>0?this.activesubscriptions[t]=i:delete this.activesubscriptions[t],this._subscriptionexistsfor(e)||this.off(document,e))}},this._getallsubscriptions=function(){return object.keys(this.activesubscriptions).map(function(t){return this.activesubscriptions[t]},this).filter(function(t){return!!t})},this._subscriptionexistsfor=function(t){return this._getallsubscriptions().map(function(t){return t.subscribedto}).some(function(e){return e.subscribedto.indexof(t)>-1})},this.autoplaymedia=function(e){var i=this._getuniqueidforcard(t(e.target).closest(".tweet[data-tweet-id]")),s=this.channels[i];s&&s.callvideoplayermethod("autoplaypreview")},this.loadvideocards=function(t,e){var i=this;e&&e.tweets&&e.tweets.foreach(function(t){var e=i.$node.find(".tweet[data-tweet-id="+t.tweetid+"]");e.find('[data-card-name=__entity_video][data-has-autoplayable-media="true"]:empty').length&&i.createcard(e)})},this.stopautoplayingmedia=function(e,i){var s=this._getuniqueidforcard(t(e.target).closest(".tweet[data-tweet-id]")),n=this.channels[s];n&&n.callvideoplayermethod("autoplaypreviewstop")},this.pausemedia=function(e){var i=this._getuniqueidforcard(t(e.target).closest(".tweet[data-tweet-id]")),s=this.channels[i];s&&(s.callvideoplayermethod("pause"),s.callvideoplayermethod("autoplaypreviewstop"))},this.pauseallmedia=function(t,e){var i=this.channels;object.keys(i).foreach(function(t){i[t].callvideoplayermethod("pause"),i[t].callvideoplayermethod("autoplaypreviewstop")})},this.updateposition=function(t,e){var i=e&&e.tweetid&&this.channels[e.tweetid];i&&i.callvideoplayermethod("updateposition",e.positiondata)},this._attachlivebroadcastplayer=function(t){var e=this._getcard2type(t),i=this.card_player_component_map[e],s=this.card_player_surface_map[e],n=t.data("supports-landscape-presentation");o.a.attachto(t,{playercomponentcontext:i,playersurface:s,supportslandscapepresentation:n})},this._isliveeventcard=function(t){return t===this.broadcast_player_cards.live_event},this.after("initialize",function(){this.channels={},this.activesubscriptions={},this.before("teardown",this.destroyallcards),this.on(document,"uiautoplaymedia",this.autoplaymedia),this.on(document,"uistopautoplayingmedia",this.stopautoplayingmedia),this.on(document,"uipauseallmedia",this.pauseallmedia),this.on(document,"uipausemedia",this.pausemedia),this.on(document,"uiplayablemediapositionchange",this.updateposition),this.on(document,"uihasinjectednewtimeline uihasinjectedoldtimelineitems uihasinjectedrangetimelineitems",this.loadvideocards),this.on(document,"uiwillremovestreamitem",this.handlestreamitemremoval)})}e.a=n;var o=i("hkib"),a=i("e//n"),r=i("nnes"),c=i("q9/c"),l=i("tlys"),h=i("sxxh"),d=i("iamj"),u=i("cztd"),p=i.n(u),f=i("vuuo"),m=i("ttv8"),g=i("alsu"),v=i("z2y5"),b=i.n(v),w=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},s={">":">","<":"&lt;"},c=function(t){return t&&(""+t).replace(/[<>]/g,function(t){return s[t]})}}).call(e,i("4ksj"))},dfh9:function(t,e,i){"use strict";function s(){this.defaultattrs({prompttype:"above_timeline"}),this.insertprompt=function(t){this.$node.html(t.html)}}var n=i("k7b4"),o=i("qwum"),a=i("bn2o");e.a=n.a.mixin(s,o.a,a.a)},dzub:function(t,e,i){"use strict";function s(t){return 3===t.nodetype||4===t.nodetype}function n(t){return 1===t.nodetype}function o(t,e){return t.nodename.tolowercase()===e}function a(t,e){for(;t!==e;){if(!t)return!0;t=t.parentnode}}var r="microsoft internet explorer"===navigator.appname,c=/[\xa0\n\t]/g,l=/\u2003/,h=/\r\n/g,d=/(.*?)\n/g,u=/^ |(<\/[^>]+>) | (?= )/g,p=/^ | $|( ) /g,f=number.max_value,m="emoji--forlinks",g=function(t,e){function i(t,e){function i(t){var u=a.length;if(s(t)){var p=t.parentnode;o(p,"em")&&(p=p.parentnode);var f=t.nodevalue,g=-1,v=void 0,b=0;if(p.hasattribute("data-pictograph-text")){var w=p.getattribute("data-pictograph-text");v=f.replace(l,function(t,e){return g=e,b=w.length-t.length,w})}else p.classlist&&p.classlist.contains(m)?(g=0,b=-f.length,v=""):v=f.replace(c," ");var d=v.length;d&&(a+=v,r=!0),e(t,!0,0,u,u+d,g,b)}else if(n(t))if(e(t,!1,0,u,u),o(t,"br")||t===y&&!t.firstchild&&"<br>"===t.innerhtml)t===h?d=!0:(a+="\n",r=!1);else if(o(t,"img")){var i=t.getattribute("alt")||"",x=i.length;x&&(a+=i,r=!0)}else{var k=t.currentstyle||window.getcomputedstyle(t,""),m="block"===k.display;!m||t!==s&&t!==c||(r=!0);for(var p=t.firstchild,a=1;p;p=p.nextsibling,a++){if(i(p),d)return;u=a.length,e(t,!1,a,u,u)}d||t===h?d=!0:m&&r&&(a+="\n",r=!1)}}for(var a="",r=void 0,h=void 0,d=void 0,u=t;u&&n(u);u=u.lastchild)h=u;return i(t),a}function g(t,e){var s=null,n=e.length-1,a=e.map(function(){return{}}),r=void 0;return i(t,function(t,i,s,c,l,h,d){r||a.foreach(function(a,u){var p=e[u];c<=p&&!o(t,"br")&&(a.node=t,i&&(s=math.min(p,l)-c,d&&s>h&&(s=math.max(s-d,0))),a.offset=s,r=i&&u===n&&l>=p)})}),a[0].node&&a[n].node&&(s=document.createrange(),s.setstart(a[0].node,a[0].offset),s.setend(a[n].node,a[n].offset)),s}function v(){return document.body.contains(t)}function b(e){if(t.innerhtml=e,r)for(var i=t.firstchild;i;i=i.nextsibling)o(i,"p")&&""===i.innerhtml&&(i.innertext="")}function w(t,e){return t.map(function(t){return math.min(t,e.length)})}var s=4,c=5,y=6,t=void 0,d=(e||navigator.useragent).tolowercase();return t=/edge/.test(d)?y:/chrome|webkit/.test(d)?1:/opera/.test(d)?3:/trident\/7/.test(d)?c:/msie/.test(d)?s:!/compatible/.test(d)&&/mozilla/.test(d)?2:0,{gethtml:function(){if(r){for(var e="",i=document.createelement("div"),n=t.firstchild;n;n=n.nextsibling)s(n)?(i.innertext=n.nodevalue,e+=i.innerhtml):e+=n.outerhtml.replace(h,"");return e}return t.innerhtml},sethtml:function(t){b(t)},gettext:function(){return i(t,function(){})},settextwithmarkup:function(t){b((t+"\n").replace(d,function(t,e){return 2===t||t===s?(e=e.replace(u,"$1"),2===t?e+"<br>":"<p>"+e+"</p>"):(e=(e||"<br>").replace(p,"$1"),3===t||t===c?"<p>"+e+"</p>":"<div>"+e+"</div>")}))},getselectionoffsets:function(){var e=getselection();if(!v()||!e||1!==e.rangecount)return null;var s=e.getrangeat(0);if(a(s.commonancestorcontainer,t))return null;var n=[{node:s.startcontainer,offset:s.startoffset}];s.collapsed||n.push({node:s.endcontainer,offset:s.endoffset});var o=n.map(function(){return f}),r=i(t,function(t,e,i,s,a,r,c){return n.foreach(function(n,l){if(o[l]===f&&t===n.node&&(e||i===n.offset)){var h=0;e&&(h=math.min(a-s,n.offset),c&&h>r&&(h+=c)),o[l]=s+h}})});return w(o,r)},setselectionoffsets:function(e){if(e&&v()){var i=g(t,e);if(i){var s=window.getselection();s.removeallranges(),s.addrange(i)}}},emphasizetext:function(e){var s=[];e&&e.length>1&&v()&&(i(t,function(t,i,n,o,a){if(i){var r=math.max(o,e[0]),c=math.min(a,e[1]);c>r&&s.push([r,c])}}),s.foreach(function(e){var i=g(t,e);i&&i.surroundcontents(document.createelement("em"))}))},deletetext:function(e){var i=g(t,e);i&&i.deletecontents()}}};e.a=g},emog:function(t,e,i){"use strict";var s={cropratiothreshold:.05,calculatecrop:function(t,e,i){var s=e.width/e.height,n=i.width/i.height,o=(s-n)/s;return math.abs(o)>this.cropratiothreshold&&(i=this.getdefaultcroprect(t,s),n=i.width/i.height),{width:t.width/i.width*100+"%",height:t.height/i.height*100+"%",marginleft:i.x/i.width*100*-1+"%",margintop:i.y/i.width*100*-1+"%"}},getdefaultcroprect:function(t,e){var i=e.width/e.height,s=i<1,n=i>1,o=void 0;if(s){var a=t.height*i;o={width:a,height:t.height}}else if(n){var r=t.width/i;o={width:t.width,height:r}}else{var c=math.min(t.width,t.height);o={width:c,height:c}}var l=1;return o.width>t.width?l=t.width/o.width:o.height>t.height&&(l=t.height/o.height),o.width=o.width*l,o.height=o.height*l,o.x=.5*(t.width-o.width),o.y=.5*(t.height-o.height),["width","height","x","y"].foreach(function(t){return o[t]=math.round(o[t])}),o}};e.a=s},"eh/h":function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({enabletooltip:!0,tooltipselector:".dmconversation-tooltip"}),this.disabletooltip=function(){this.$node.tooltip("disable")},this.hideanddisabletooltip=function(){this.$node.tooltip("hide").tooltip("disable")},this.showtooltip=function(){this.$node.attr("data-template",'<div class="tooltip"><div class="tooltip-arrow"></div><div class="dmconversation-tooltip tooltip-inner"></div></div>'),this.$node.tooltip("show"),this.$node.one("mouseover",this.hideanddisabletooltip.bind(this)),t(this.attr.tooltipselector).one("click",this.hideanddisabletooltip.bind(this)),t(document).one("uidmconversationactivityhidden",this.hideanddisabletooltip.bind(this))},this.getdmmentionsstore=function(){return this.dmmentionsstore||(this.dmmentionsstore=new a.a("dm_mentions_"+o.a.user.id)),this.dmmentionsstore},this.shouldshowtooltip=function(){var t=this.getdmmentionsstore();return!t.getitem("seen_tooltip")&&(t.setitem("seen_tooltip","1"),!0)},this.after("initialize",function(){this.attr.enabletooltip&&this.shouldshowtooltip()?this.showtooltip():this.disabletooltip()})}var n=i("dbjh"),o=i("iamj"),a=i("wodx"),r=object(n.default)(s);e.a=r}).call(e,i("4ksj"))},ey4t:function(t,e,i){"use strict";function s(){this.scribesavedsearchaction=function(t,e){this.scribe({component:e.sourceeventdata.scribecomponent,element:"saved_search",action:e.sourceeventdata.scribeaction})},this.after("initialize",function(){this.on("dataaddedsavedsearch dataremovedsavedsearch",this.scribesavedsearchaction)})}var n=i("dbjh"),o=i("3odc");e.a=object(n.default)(s,o.a)},f0az:function(t,e,i){"use strict";(function(t){function s(){this.defaults={addtweetbuttonselector:".retweetdialog-footer .add-tweet-button",retweetselector:".retweet-action",commentboxselector:".retweetdialog-commentbox",tweetboxselector:"form.tweet-form",iswithcommentclass:"is-withcomment",top:"20%"},this.openretweet=function(t,e){if(!this.tweetboxready){var i=r.a.getconfig();n.a.attachto(this.$tweetbox,{condensable:!0,condensecontainer:this.attr.commentboxselector,typeaheaddata:this.attr.typeaheaddata,noteardown:this.attr.noteardown,hashflagsenabled:!0,defaulttitle:this.select("modaltitleselector").text(),twittertextoptions:i,maxlength:i.maxweightedtweetlength}),this.tweetboxready=!0}this.trigger(this.$tweetbox,"uioverridetweetboxoptions",{drafttweetid:"retweet_"+e.tweetid,urltoretweet:["https://twitter.com",e.screenname,"status",e.id].join("/"),impressionid:e.impressionid,earned:e.disclosuretype?"earned"===e.disclosuretype:void 0}),this.quotedtweetid=e.id,this.quoteduserscreenname=e.screenname,this.sourceeventdata=e,this.displaytweet(e.id,{modal:"retweet",disablelinks:!0}),this.select("retweetselector").removeclass("disabled"),this.open()},this.retweet=function(){this.select("retweetselector").addclass("disabled"),this.$tweetbox.hasclass(this.attr.iswithcommentclass)||this.trigger("uididretweet",this.sourceeventdata)},this.retweetsuccess=function(t,e){void 0!==this.sourceeventdata&&(this.trigger("uididretweetsuccess",this.sourceeventdata),"uiretweetwithcommentsuccess"===t.type&&this.trigger("uididretweetwithcommentsuccess",this.sourceeventdata)),this.close(),this.sourceeventdata=void 0},this.restorefocustotweet=function(e){t(e.target).is(this.$dialog)&&this.activeel&&(e.preventdefault(),this.trigger(t(this.activeel).closest(".tweet"),"uishouldaddfocusstyle"),this.activeel.focus())},this.updatetitle=function(t,e){e&&e.title&&this.select("modaltitleselector").text(e.title)},this.enableretweetbuttonafterretweetfailed=function(t,e){object(o.b)(e)===o.a.alreadyretweeted?this.close():(this.select("retweetselector").removeclass("disabled"),this.trigger("uishowerror",{message:object(h.default)("failed to retweet. please try again later.")}))},this.handleaddtweetbuttonclick=function(t,e){t.preventdefault(),this.trigger(this.$tweetbox,"uiclickaddmoretweetonquoteretweet",{quotedtweetid:this.quotedtweetid,quoteduserscreenname:this.quoteduserscreenname})},this.quotedtweetid=null,this.quoteduserscreenname=null,this.around("close",function(t,e,i){this.quotedtweetid=null,this.quoteduserscreenname=null,t()}),this.after("initialize",function(t){this.$tweetbox=this.select("tweetboxselector"),this.on("click",{retweetselector:this.retweet}),this.on(document,"uiopenretweetdialog",this.openretweet),this.on(document,"uiretweetwithcommentsuccess datadidretweet",this.retweetsuccess),this.on(document,"uidialogrestorepreviousfocus",this.restorefocustotweet),this.on("uidialogupdatetitle",this.updatetitle),this.on(document,"datafailedtoretweet",this.enableretweetbuttonafterretweetfailed),this.on(this.select("addtweetbuttonselector"),"click",this.handleaddtweetbuttonclick)})}var n=i("e3dh"),o=i("2doy"),a=i("dbjh"),r=i("cxip"),c=i("uhc7"),l=i("wqlg"),h=i("0d4m");e.a=object(a.default)(s,c.a,l.a)}).call(e,i("4ksj"))},faud:function(t,e,i){"use strict";function s(){this.attributes({notice:".dmreportmessage",abuseconfirmation:".dmreportmessage-abuse",spamconfirmation:".dmreportmessage-spam",cancel:".dmreportmessage-cancel"}),this.showconfirmation=function(){this.select("notice").trigger("uishowdmnotice")},this.hideconfirmation=function(){this.select("notice").trigger("uidismissdmnotice")},this.state=function(t,e){return this._state=e||this._state||{},this._state},this.reportmessage=function(t){var e=this.state();this.trigger("uidmdialogreportdm",{id:e.messageid,conversation_id:e.conversationid,report_as:t});var i=object(o.default)("marked as spam"),s=object(o.default)("report sent. the message has been deleted from your conversation view."),n=object(o.default)("marked as abusive. the message has been deleted from your conversation view."),a=e.is_group?n:s,r="spam"===t?i:a;this.hideconfirmation(),this.trigger("uidmshowtoast",{message:r}),this.trigger("uidminboxwantsrefreshed")},this.launchreportingwebview=function(t,e){var i={reporteddirectmessageconversationid:e.conversationid,reporteddirectmessageid:e.messageid,userid:e.senderid,target:"dm-conversation"};this.trigger("uineedsreportdialog",i)},this.after("initialize",function(){this.on("uidmlaunchdmreportwebview",this.launchreportingwebview),this.on("uishowdmreportmessageconfirmation",this.state),this.on("uishowdmreportmessageconfirmation",this.showconfirmation),this.on("click",{abuseconfirmation:this.reportmessage.bind(this,"abuse"),spamconfirmation:this.reportmessage.bind(this,"spam"),cancel:this.hideconfirmation})})}var n=i("dbjh"),o=i("0d4m"),a=object(n.default)(s);e.a=a},fo1a:function(t,e,i){"use strict";function s(){this.defaultattrs({titleselector:"#gdpr-age-gate-title",bodyselector:"#gdpr-age-gate-body"}),this.showdialog=function(t,e){this.setcopy(e),this.open(),this.scribeimpression()},this.setcopy=function(t){t.errorcode===o.a.usermustbealcoholagescreened?(this.$title.html(d),this.$body.html(f)):t.errorcode===o.a.cannotfollowfromcountry?(this.$title.html(d),this.$body.html(p)):t.errorcode===o.a.birthdaterequired&&(this.$title.html(h),this.$body.html(u))},this.closedialog=function(){this.$title.html(""),this.$body.html(""),this.close()},this.scribeimpression=function(){this.scribe({component:"age_gate_dialog",action:"impression"})},this.after("initialize",function(){this.$title=this.$node.find(this.attr.titleselector),this.$body=this.$node.find(this.attr.bodyselector),this.on(document,"uineedsagegatedialog",this.showdialog),this.on(document,"uineedsgdpragegatedialog",this.showdialog),this.on("click",this.closedialog)})}var n=i("0d4m"),o=i("2doy"),a=i("dbjh"),r=i("uhc7"),c=i("3odc"),l=object(a.default)(s,r.a,c.a),h=object(n.default)("please update your profile first"),d=object(n.default)("you cant follow this account"),u=object(n.default)("to follow this account, youll need to include your birth date on your profile, ensuring you meet minimum age requirements."),p=object(n.default)("this account cant be followed from your country."),f=object(n.default)("youre not old enough to follow this account.");e.a=l},fdtv:function(t,e,i){"use strict";function s(){this.defaultattrs({lifelinealertbtnselector:".lifeline-alert-status-btn.is-tweet"}),this.sendlifelinealerttweet=function(){this.sendtweet(),this.trigger("uilifelinealertstweet")},this.cancellifelinealerttweet=function(){this.trigger("uilifelinealertscancel")},this.around("confirmandsendtweet",function(t){this.lifelinealertmode?(this.trigger("uilifelinealertsimpression"),this.trigger("uiopenconfirmdialog",{titletext:object(n.default)("send twitter alert"),bodytext:object(n.default)("are you sure you want to send a twitter alert to your followers?"),canceltext:object(n.default)("cancel"),submittext:object(n.default)("send"),action:"sendlifelinealert"})):t()}),this.setlifelinealertmode=function(t){this.lifelinealertmode!==t&&(t?(this.select("lifelinealertbtnselector").addclass("enabled"),this.trigger("uilifelinealertsselect")):this.select("lifelinealertbtnselector").removeclass("enabled"),this.focus(),this.lifelinealertmode=t,this.detectupdatedtext(!0))},this.selectlifelinealertaction=function(){this.setlifelinealertmode(!this.lifelinealertmode)},this.around("addhiddentext",function(t,e){return e=t(e),this.lifelinealertmode&&(e+=this.lifelinealerttext),e}),this.before("clear",function(){this.setlifelinealertmode(!1)}),this.after("initialize",function(){this.lifelinealertmode=!1,this.lifelinealerttext=" #alert",this.on(this.attr.lifelinealertbtnselector,"click",this.selectlifelinealertaction),this.on("uisendlifelinealertconfirm",this.sendlifelinealerttweet),this.on("uisendlifelinealertcancel",this.cancellifelinealerttweet)})}var n=i("0d4m");e.a=s},fjsp:function(t,e,i){"use strict";function s(t,e,i){return e in t?object.defineproperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(t){if(array.isarray(t)){for(var e=0,i=array(t.length);e<t.length;e++)i[e]=t[e];return i}return array.from(t)}function o(){this.defaultattrs({attrindex:"data-index",classactive:"active",classquotedtweetloading:"quotedtweet-loading",gifsupport:!0,hasquotedtweetclass:"has-quotedtweet",videosupport:!0,mediacategoryprefix:"tweet_",selectordeletetweetbutton:".js-delete-tweet",selectorgeopicker:".geo-picker",selectorricheditor:".richeditor",selectorshadowtext:".tweet-box-shadow",selectortoolbar:".tweetboxtoolbar",selectortweetform:".tweet-form",selectorpictographtext:".richeditor-pictographtext",selectorquotedtweetcontent:".quotedtweet .content",tweetstormquotedtweettype:"thread_quoted_tweet"});var t={opacity:"toggle",height:"toggle"};this.tweetboxtransitionoptions=[t].concat(n(t.i.tweetbox)),this.toolbartransitionoptions=[t].concat(n(t.i.toolbar)),this.getindex=function(){return number(this.$node.attr(this.attr.attrindex))},this.activate=function(t,e){var i=this;if(t.stoppropagation(),e&&e.transition){var s;this.showtoolbar(!1),(s=this.$node.delay(t.i.delay)).animate.apply(s,n(this.tweetboxtransitionoptions).concat([function(){return i.focus()}]))}else this.$node.show();e&&"status"in e&&(this.setvisibletext(e.status),this.$text.find(this.attr.selectorpictographtext).length&&this.generatepictographsdeferred()),e&&"place_id"in e?this.initgeopicker(e.place_id):this.initgeopicker(),e&&"quotedtweetid"in e&&(this.on(document,"datagottweet",h.default.once(this.attachquotedtweet)),this.on(document,"datafailedtogettweet",h.default.once(this.handlequotedtweetfetchfailure)),this.togglespinner(!0),this.trigger(document,"uigettweet",{id:e.quotedtweetid,modal:this.attr.tweetstormquotedtweettype,tweetboxindex:this.getindex()})),e&&"mediafileids"in e&&this.trigger("uirestorepreviouslyattachedmedia",{fileids:e.mediafileids}),e&&"currentpoll"in e&&"isvalid"in e.currentpoll&&this.trigger("uiactivatepollcomposer",{polldataoverride:e.currentpoll})},this.togglespinner=function(t){this.$node.closest(this.attr.selectortweetform).toggleclass(this.attr.classquotedtweetloading,t)},this.successfromquotedtweetfetch=function(t){return t&&"id"in t&&"tweet_html"in t&&"sourceeventdata"in t&&t.sourceeventdata.tweetboxindex===this.getindex()&&t.sourceeventdata.modal===this.attr.tweetstormquotedtweettype},this.attachquotedtweet=function(t,e){this.successfromquotedtweetfetch(e)&&(this.$node.addclass(this.attr.hasquotedtweetclass),this.togglespinner(!1),this.select("selectorquotedtweetcontent").empty().append(e.tweet_html),this.trigger("uicomposerdisableexclusiveattachments"))},this.handlequotedtweetfetchfailure=function(t,e){this.successfromquotedtweetfetch(e)&&this.togglespinner(!1)},this.deactivate=function(t,e){this.hidetoolbar(!1),this.$node.hide(),this.reset(),this.setcursorposition()},this.deleteclicked=function(t){t.preventdefault(),this.getvisibletext().trim().length>0||this.hasmedia||this.haspoll||this.hasalert?this.trigger("uiopenconfirmdialog",t.d):this.delete()},this.delete=function(){var t;this.trigger("uitweetboxdeleting",{index:this.getindex()}),(t=this.$node.delay(t.i.delay)).animate.apply(t,n(this.tweetboxtransitionoptions).concat([this.afterdeleted.bind(this)]))},this.afterdeleted=function(){this.trigger("uitweetboxdeleted"),this.reset()},this.initgeopicker=function(t){var e=this.select("selectorgeopicker");e.hasclass(this.attr.classactive)||r.a.attachto(this.$node,{eventdata:{scribecontext:{element:"geo_picker"}},restorefocusonclose:!0,skipfocusmanager:!0}),t?e.trigger("uigeopickerchange",{placeid:t}):e.trigger("uipreparegeopicker")},this.gettweetboxid=function(){return this.$node.attr("id")},this.reset=function(){this.trigger("uiclearundostate"),this.setvisibletext(""),this.$node.removeclass(this.attr.hasquotedtweetclass),this.select("selectorquotedtweetcontent").empty()},this.composerfocused=function(){var t=this.getindex();this.trigger("uitweetboxfocused",{index:t})},this.mediainfo=function(){return{hasphoto:this.hasmedia&&!this.isgif&&!this.isvideo,hasgif:this.isgif,hasvideo:this.isvideo,gifinfo:this.foundmediainfo}},this.updatetextdata=function(t,e){var i=this.getindex();this.trigger("uitweetboxchanged",k({index:i,text:this.addhiddentext(this.getvisibletext())},this.mediainfo(),{haspoll:this.haspoll,hasalert:this.hasalert})),this.maybetriggertooltip(),this.select("selectorshadowtext").val(e&&e.text||"")},this.lostfocus=function(t,e){var i=e&&e.transition;this.hidetoolbar(i)},this.gotfocus=function(t,e){var i=e&&e.transition;this.showtoolbar(i)},this.hidetoolbar=function(t){if(t){var e;(e=this.$toolbar).animate.apply(e,n(this.toolbartransitionoptions))}else this.$toolbar.hide()},this.showtoolbar=function(t){if(t){var e;(e=this.$toolbar).animate.apply(e,n(this.toolbartransitionoptions))}else this.$toolbar.show()},this.changecursor=function(t,e){this.setcursorposition(e.cursorposition)},this.updategeolocationdata=function(t,e){var i=void 0;"located"===e.state?i=e.place_id:"enabledturnedoff"===e.state&&(i=""),this.trigger("uitweetboxchanged",k({index:this.getindex(),placeid:i},this.mediainfo()))},this.updatetaggedusersdata=function(){this.trigger("uitweetboxchanged",k({index:this.getindex(),taggedusers:this.taggedusers},this.mediainfo()))},this.restorepreviouslyattachedmedia=function(t,e){var i=this;"object"===(void 0===e?"undefined":x(e))&&"object"===x(e.fileids)&&e.fileids.foreach(function(t){i.trigger("uifileselected",{fileid:t});var e=l.a.get(t);if("object"===(void 0===e?"undefined":x(e))){var s=e.advanced;e.isvideo&&s&&i.renderadvancedvideoinfo(s)}})},this.refreshadditionalmediainfo=function(){var t={};this.hasmedia&&object(c.a)(this.gettweetboxid()).some(function(t){return t.alttext})&&(t.has_alt_text=!0),this.isvideo&&i.a.getdecidervalue("web_upload_video_advanced")&&object(c.a)(this.gettweetboxid()).foreach(function(e){"object"===x(e.advanced)&&e.mediaid&&(t[e.mediaid]={title:e.advanced.title,description:e.advanced.description,embeddable:e.advanced.embeddable},e.advanced.ctatype&&(t[e.mediaid].call_to_actions=s({},e.advanced.ctatype,{url:e.advanced.ctaurl})))}),object.keys(t).length&&this.trigger("uitweetboxchanged",k({index:this.getindex(),additionalmediainfo:t},this.mediainfo()))},this.after("initialize",function(){this.$toolbar=this.select("selectortoolbar"),this.inittextnode(),this.reset(),this.on("click",{selectordeletetweetbutton:this.deleteclicked}),this.on("focusin",{selectorricheditor:this.ignoreduringfakefocus(this.composerfocused)}),this.on("uitextchanged uipollactivated",this.updatetextdata),this.on("datageostate",this.updategeolocationdata),this.on("uitaggedusersupdated",this.updatetaggedusersdata),this.on("uitweetboxactivate",this.activate),this.on("uitweetboxdeactivate",this.deactivate),this.on("uitweetboxlostfocus",this.lostfocus),this.on("uitweetboxgotfocus",this.gotfocus),this.on("uitweetboxchangecursor",this.changecursor),this.on("uiremovetweetfromthreadconfirm",this.delete),this.on(document,"dataneedrefreshadditionalmediainfo",this.refreshadditionalmediainfo),this.on("uirestorepreviouslyattachedmedia",this.restorepreviouslyattachedmedia)})}var a=i("dbjh"),r=i("8n88"),c=i("wkyg"),l=i("h6fk"),h=i("yzit"),d=i("hpdd"),u=i("+hbl"),p=i("lcya"),f=i("pul/"),m=i("84/5"),g=i("4oxf"),v=i("zg5a"),b=i("taxt"),w=i("lvmq"),s=i("cgr6"),c=i("mmtz"),y=i("ws2j"),t=i("jfpi"),d=i("nkyg"),i=i("iamj"),x="function"==typeof symbol&&"symbol"==typeof symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof symbol&&t.constructor===symbol&&t!==symbol.prototype?"symbol":typeof t},k=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t};e.a=object(a.default)(o,f.a,m.a,d.a,u.a,p.a,v.a,b.a,w.a,y.a,c.a,s.a,d.a,g.a)},fnnq:function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in a)e[s]||(e[s]=a[s]);return r.render(t,e,i)}var n=i("opvs").default,o={"promptbird/templates/dismiss_button":i("02ms"),"promptbird/templates/icon":i("8qxq"),"promptbird/templates/title":i("orcd"),"promptbird/templates/explanation":i("7sib"),"promptbird/templates/call_to_action":i("hk7e"),"promptbird/templates/second_call_to_action":i("8t/i")},a=n(o),r=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("<div class="promptbirdprompt promptbirdprompt--inline '),s.b(s.v(s.f("prompt_css_class",t,e,0))),s.b('" data-prompt-id=""),s.b(s.v(s.f(" prompt_id",t,e,0))),s.b('" data-prompt-intent=""),s.b(s.v(s.f(" prompt_intent",t,e,0))),s.b('" data-prompt-intent-params=""),s.b(s.v(s.f(" prompt_intent_params",t,e,0))),s.b('">\n'),s.b(s.rp("<promptbird/templates/dismiss_button0",t,e," ")),s.b(s.rp("<promptbird/templates/icon1",t,e," ")),s.b(s.rp("<promptbird/templates/title2",t,e," ")),s.b(s.rp("<promptbird/templates/explanation3",t,e," ")),s.b(s.rp("<promptbird/templates/call_to_action4",t,e," ")),s.b(s.rp("<promptbird/templates/second_call_to_action5",t,e," ")),s.b("</div>\n"),s.fl()},partials:{"<promptbird/templates/dismiss_button0":{name:"promptbird/templates/dismiss_button",partials:{},subs:{}},"<promptbird/templates/icon1":{name:"promptbird/templates/icon",partials:{},subs:{}},"<promptbird/templates/title2":{name:"promptbird/templates/title",partials:{},subs:{}},"<promptbird/templates/explanation3":{name:"promptbird/templates/explanation",partials:{},subs:{}},"<promptbird/templates/call_to_action4":{name:"promptbird/templates/call_to_action",partials:{},subs:{}},"<promptbird/templates/second_call_to_action5":{name:"promptbird/templates/second_call_to_action",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:a,render:s}}).call(e,i("jtwp"))},fnwm:function(t,e,i){"use strict";(function(t){function s(t){if(array.isarray(t)){for(var e=0,i=array(t.length);e<t.length;e++)i[e]=t[e];return i}return array.from(t)}var n=i("0d4m"),o=i("dbjh"),a=i("a0ja"),r=i("ajan"),c=i("jfpi"),l=i("fjsp"),h=i("cxip"),d=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},u="function"==typeof symbol&&"symbol"==typeof symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof symbol&&t.constructor===symbol&&t!==symbol.prototype?"symbol":typeof t};e.a=object(o.default)(r.a,function(){this.defaultattrs({selectorpermalinkoverlay:".permalinkoverlay",selectortweetstormcontainer:".tweetstormdialog-content",selectortweetstormbody:".modal-body",selectortweetstormtitle:".modal-title",selectortweetboxes:".tweetstormdialog-tweet-box",selectorsendtweetstormbutton:".js-send-tweets",selectoraddtweetbutton:".js-add-tweet",selectorariaindexlabel:".aria-index-label",classinitialized:"initialized",classthreadedup:"threaded-up",classthreadeddown:"threaded-down",classtweetboxfocus:"is-tweet-box-focus",classdisabled:"disabled",classisthread:"is-thread",classisreply:"is-reply",attrindex:"data-index",attrtooltiptext:"data-original-title"}),this.$focusedtweetbox=void 0,this.replystatusid=void 0,this.init=function(t,e){var i=this;this._orderindex();var s=void 0,n=void 0,o=void 0,r=void 0;"object"===(void 0===e?"undefined":u(e))&&(this.replystatusid=e.previousstatusidinthread&&e.previousstatusidinthread.tostring(),n=e.quotedtweetid&&e.quotedtweetid.tostring(),o=e.quoteduserscreenname,r=e.mediafileids,s=e.currentpoll);var c=e&&"string"==typeof e.tweettext?e.tweettext:"";a.a.restore([{currentpoll:s,mediafileids:r,quotedtweetid:n,quoteduserscreenname:o,replystatusid:this.replystatusid,tweettext:c}]),this._renderdata(),this.$focusedtweetbox&&e&&void 0!==e.cursorposition&&this.$focusedtweetbox.trigger("uitweetboxchangecursor",{cursorposition:e.cursorposition}),e&&e.addanothertweet&&settimeout(function(){return i.addtweet()},0)},this._renderdata=function(){for(var t=0;t<a.a.length;t++){var e=this.$tweetboxes.eq(t),i=a.a.gettweet(t);i.tweetbox=e.attr("id"),this._activatetweetbox(e,!1,d({},i.tweetdata,i.initdata))}this._changefocus(this.$tweetboxes.eq(a.a.length-1),c.g.show_only,!1),this._validations()},this._activatetweetbox=function(t,e,i){var s=object.assign({},i);if(!t.hasclass(this.attr.classinitialized)){var n=h.a.getconfig();this.attachchild(l.a,t,{composealttext:this.attr.composealttext,eventdata:{scribecontext:{component:"tweet_box_dialog"}},hashflagsenabled:!0,thumbnailsize:"large",typeaheaddata:this.attr.typeaheaddata,twittertextoptions:n,maxlength:n.maxweightedtweetlength}),t.addclass(this.attr.classinitialized)}t.trigger("uitweetboxactivate",d({transition:e},s))},this._validations=function(){this._validatecontainerclasses(),this._validatesendbutton(),this._validateaddtweetbutton(),this._threadedavatar()},this._validatesendbutton=function(){this.$sendtweetstormbutton.toggleclass(this.attr.classdisabled,!a.a.isvalid).prop("disabled",!a.a.isvalid)},this._validateaddtweetbutton=function(){var t=a.a.length>=this.$tweetboxes.length;t?this.$addtweetbutton.attr(this.attr.attrtooltiptext,object(n.default)("you've reached the limit")):this.$addtweetbutton.attr(this.attr.attrtooltiptext,object(n.default)("add another tweet"));var e=t||a.a.hasempty;this.$addtweetbutton.toggleclass(this.attr.classdisabled,e).prop("disabled",a.a.hasempty)},this._validatecontainerclasses=function(){var t=a.a.length>1;this.$tweetstormcontainer.toggleclass(this.attr.classisthread,t),this.$tweetstormcontainer.toggleclass(this.attr.classisreply,!!this.replystatusid),this._updatetitle(t,!!this.replystatusid)},this._updatetitle=function(t,e){e?this.$tweetstormtitle.text(t?object(n.default)("continue your thread"):object(n.default)("add another tweet")):this.$tweetstormtitle.text(t?object(n.default)("compose new thread"):object(n.default)("compose new tweet"))},this._threadedavatar=function(){for(var t=0;t<a.a.length;t++){var e=this.$tweetboxes.eq(t),i=0===t,s=t===a.a.length-1;e.toggleclass(this.attr.classthreadedup,!i||!!this.replystatusid).toggleclass(this.attr.classthreadeddown,!s)}},this._orderindex=function(){var e=this;this.$tweetboxes=this.select("selectortweetboxes"),this.$tweetboxes.each(function(i,s){t(s).attr(e.attr.attrindex,i),t(s).find(e.attr.selectorariaindexlabel).text(object(n.default)("tweet {{index}}",{index:(i+1).tostring()}))})},this._changefocus=function(t,e,i){!this.$focusedtweetbox||e!==c.g.hide_and_show&&e!==c.g.hide_only||this.$focusedtweetbox.trigger("uitweetboxlostfocus",{transition:i}),e!==c.g.hide_and_show&&e!==c.g.show_only||t.trigger("uitweetboxgotfocus",{transition:i}),this.$tweetboxes.removeclass(this.attr.classtweetboxfocus),this.$focusedtweetbox=t,this.$focusedtweetbox.addclass(this.attr.classtweetboxfocus)},this.ontweetboxchanged=function(t,e){var i=e.index;if(i<a.a.length){var s=a.a.gettweet(i);"text"in e&&(s.tweettext=e.text),"placeid"in e&&(s.placeid=e.placeid),e.hasphoto?s.mediaflag=c.h.photo:e.hasgif?(s.mediaflag=c.h.gif,s.gifinfo=e.gifinfo):e.hasvideo?s.mediaflag=c.h.video:s.mediaflag=c.h.none,"haspoll"in e&&(s.pollflag=e.haspoll),"hasalert"in e&&(s.alertflag=e.hasalert),"taggedusers"in e&&(s.taggedusers=e.taggedusers),"additionalmediainfo"in e&&(s.additionalmediainfo=e.additionalmediainfo),this.trigger("uitweetstormdbupdate"),this._validatesendbutton(),this._validateaddtweetbutton()}},this.ontweetboxdeleting=function(t,e){var i=e.index,s=i<a.a.length-1?i+1:a.a.length-2;i>=a.a.length-1&&this.$tweetboxes.eq(s).removeclass(this.attr.classthreadeddown),this._changefocus(this.$tweetboxes.eq(s),c.g.show_only,!0),a.a.deletetweet(i),this._validatecontainerclasses(),this.trigger("uitweetstormdbupdate")},this.ontweetboxdeleted=function(e,i){var s=t(e.target),n=this.$tweetboxes.eq(a.a.length);s.insertafter(n),this._orderindex(),this._validations()},this.ontweetboxfocused=function(t,e){var i=this.$tweetboxes.eq(e.index);i.is(this.$focusedtweetbox)||this._changefocus(i,c.g.hide_and_show,!0)},this.addtweet=function(){if(!this.$addtweetbutton.hasclass(this.attr.classdisabled)){var t=number(this.$focusedtweetbox.attr(this.attr.attrindex)),e=this.$tweetboxes.eq(a.a.length),i=a.a.gettweet(t).tweetdata.place_id,n=t===a.a.length-1;if(a.a.addtweet(t+1).tweetbox=e.attr("id"),e.insertafter(this.$focusedtweetbox),this._orderindex(),this._validations(),this._activatetweetbox(e,!0,{place_id:i}),this._changefocus(e,c.g.hide_only,!0),n){var o;(o=this.$tweetstormbody).animate.apply(o,[{scrolltop:this.$tweetstormbody[0].scrollheight}].concat(s(c.i.tweetbox)))}}},this.permalinkvisible=function(){return t(this.attr.selectorpermalinkoverlay).filter(":visible").length>0},this.sendtweetstorm=function(){this.trigger(document,"uitweetstormsend",{reloadpageonsuccess:this.permalinkvisible()})},this.closedropdowns=function(){this.$tweetboxes.trigger("uidropdowncloseonscroll")},this.sendconfirmedtweetstorm=function(){a.a.isvalid&&(a.a.hasalert?this.trigger("uiopenconfirmdialog",c.a):this.sendtweetstorm())},this.restorefromuploadfailure=function(e,i){var s=this,n=i||{},o=n.recoverfromindex,r=void 0===o?0:o,l=n.initiallength,h=void 0===l?a.a.length:l;this.$tweetboxes.slice(0,r).each(function(e,i){t(i).trigger("uitweetboxdeactivate"),t(i).insertafter(s.$tweetboxes.eq(h-1))}),this._orderindex(),this._changefocus(this.$tweetboxes.eq(0),c.g.hide_and_show,!0),this.replystatusid=i.previousstatusidinthread},this.restorefromdraft=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._orderindex(),this.reset(),e&&array.isarray(e.tweets)&&e.tweets.length>0?a.a.restore(e.tweets):a.a.reset(),this._renderdata()},this.reset=function(){a.a.reset(),this.select("selectortweetboxes").trigger("uitweetboxdeactivate"),this.$focusedtweetbox=void 0,this.replystatusid=void 0},this.after("initialize",function(t,e){this.$tweetstormcontainer=this.select("selectortweetstormcontainer"),this.$tweetstormbody=this.select("selectortweetstormbody"),this.$tweetstormtitle=this.select("selectortweetstormtitle"),this.$addtweetbutton=this.select("selectoraddtweetbutton"),this.$sendtweetstormbutton=this.select("selectorsendtweetstormbutton"),this.reset(),this.on("uitweetstorminit",this.init),this.on(document,"uitweetstormabandon datatweetstormuploadsuccess",this.reset),this.on("uitweetstormrestoreonerror",this.restorefromuploadfailure),this.on("uitweetstormrestoredraft",this.restorefromdraft),this.on(this.$addtweetbutton,"click",this.addtweet),this.on(this.$tweetstormbody,"scroll",this.closedropdowns),this.on(this.$sendtweetstormbutton,"click",this.sendconfirmedtweetstorm),this.on("uishortcutcmdenter",this.sendconfirmedtweetstorm),this.on("uisendlifelinealertconfirm",this.sendtweetstorm),this.on("uitweetboxchanged",this.ontweetboxchanged),this.on("uitweetboxdeleting",this.ontweetboxdeleting),this.on("uitweetboxdeleted",this.ontweetboxdeleted),this.on("uitweetboxfocused",this.ontweetboxfocused)})})}).call(e,i("4ksj"))},fygb:function(t,e,i){"use strict";(function(t){function i(e){e=e||{};var n={urls:{events:e.urls&&e.urls.events||s.urls.events,subscribe:e.urls&&e.urls.subscribe||s.urls.subscribe,unsubscribe:e.urls&&e.urls.unsubscribe||s.urls.unsubscribe},retry:{enabled:void 0===(e.retry&&e.retry.enabled)?s.retry.enabled:e.retry.enabled,backofffactor:void 0===(e.retry&&e.retry.backofffactor)?s.retry.backofffactor:e.retry.backofffactor,maxdelay:void 0===(e.retry&&e.retry.maxdelay)?s.retry.maxdelay:e.retry.maxdelay},resubpreemptduration:e.resubpreemptduration||s.resubpreemptduration};this.onmessagecallback=n.message,this.onerrorcallback=n.error;var o=void 0,a=[],r={},c=void 0,l=void 0,h=void 0,d=!1;this.updatesessiondata=function(t){r.sessionid=t.session_id,r.ttl=t.subscription_ttl_millis},this.neweventsource=function(t,e){return new eventsource(t,e)},this.hassubscribedtopics=function(){return!!a.length},this.openconnection=function(){if(this.hassubscribedtopics()){var t="?topic="+a.map(encodeuricomponent).join(",");this.close(),o=this.neweventsource(n.urls.events+t,{withcredentials:!0}),o.onmessage=this.messagehandler.bind(this),o.onerror=this.errorhandler.bind(this)}},this.messagehandler=function(t){var e=this.tryparsejson(t.data);if(e)switch(e.topic){case"/system/config":this.updatesessiondata(e.payload.config),d&&this.refreshsubscriptions(),this.resetretrycount();break;default:this.onmessagecallback&&this.onmessagecallback(e)}},this.errorhandler=function(t){this.close(),this.onerrorcallback&&this.onerrorcallback(t),this.retry()},this.tryparsejson=function(t){try{return json.parse(t)}catch(t){return}},this.subunsuberrorhandler=function(t){if(400===t.status){var e=this.tryparsejson(t.responsetext),s=e&&e.errors&&e.errors[0];s&&s.code===i.api_error_codes.session_not_found&&this.retry()}},this.resetretrycount=function(){c=void 0},this.retry=function(){if(n.retry.enabled){c=void 0===c?0:c+1;var t=math.random()*(math.pow(2,c)-1)*n.retry.backofffactor,e=math.min(t,n.retry.maxdelay);l=settimeout(this.openconnection.bind(this),e)}},this.refreshsubscriptions=function(){var e=this;return this.connectionstatus()===i.connecting?void(d=!0):r.sessionid&&this.connectionstatus()!==i.closed?void(a.length&&(d=!1,t.ajax({method:"post",url:n.urls.subscribe,data:{session_id:r.sessionid,topic:a.join(",")},headers:{"livepipeline-session":r.sessionid},xhrfields:{withcredentials:!0},success:function(){e.resetretrycount(),cleartimeout(h),h=settimeout(e.refreshsubscriptions.bind(e),math.max(0,r.ttl-n.resubpreemptduration))},error:this.subunsuberrorhandler.bind(this)}))):void this.openconnection()},this.subscribe=function(t,e){var s=-1===a.indexof(t),n=!e&&(s||this.connectionstatus()===i.closed);s&&a.push(t),n&&this.refreshsubscriptions()},this.unsubscribe=function(t){-1!==a.indexof(t)&&(a=a.filter(function(e){return t!==e}),r.sessionid&&(this.makeunsubrequest(t),a.length||this.close()))},this.makeunsubrequest=function(e){t.ajax({method:"post",url:n.urls.unsubscribe,data:{session_id:r.sessionid,topic:e},xhrfields:{withcredentials:!0}})},this.onmessage=function(t){this.onmessagecallback=t},this.onerror=function(t){this.onerrorcallback=t},this.connectionstatus=function(){return o?o.readystate:i.closed},this.reconnect=this.openconnection.bind(this),this.close=function(){r.sessionid&&a.foreach(this.makeunsubrequest.bind(this)),o&&o.close(),r={},o=void 0,cleartimeout(l),cleartimeout(h)}}var s={urls:{events:"https://api.twitter.com/live_pipeline/events",subscribe:"/i/live_pipeline/subscribe",unsubscribe:"/i/live_pipeline/unsubscribe"},retry:{enabled:!0,backofffactor:500,maxdelay:12e4},resubpreemptduration:25e3};i.issupported=function(){return"eventsource"in window},i.open=i.issupported()&&eventsource.open,i.closed=i.issupported()&&eventsource.closed,i.connecting=i.issupported()&&eventsource.connecting,i.api_error_codes={session_not_found:392};var n=function(t){var e=new i(t);this.subscribe=e.subscribe.bind(e),this.unsubscribe=e.unsubscribe.bind(e),this.connectionstatus=e.connectionstatus.bind(e),this.reconnect=e.reconnect.bind(e),this.close=e.close.bind(e),this.onmessage=e.onmessage.bind(e),this.onerror=e.onerror.bind(e),this.__privateinstance=e};n.issupported=i.issupported,n.open=i.open,n.closed=i.closed,n.connecting=i.connecting,n.api_error_codes=i.api_error_codes,n.__privateobject=i,e.a=n}).call(e,i("4ksj"))},"g/am":function(t,e,i){"use strict";function s(){n.default.mixin(this,[a.a]),this.triggergotimagedata=function(t){var e=t.map(function(t){return t.fileid});this.trigger("uigotimagedata",{fileids:e})},this.captureimagedata=function(t,e){for(var i={mediacategoryprefix:this.attr.mediacategoryprefix},s=[],n=0;n<e.files.length;n++){var a=e.files[n],r=a.name;s.push(o.a.getfileinfo(r,a,i).catch(function(t){return null}))}promise.all(s).then(function(t){return t.filter(function(t){return!!t})}).then(this.triggergotimagedata.bind(this))},this.after("initialize",function(){this.on("uidrop",this.captureimagedata)})}var n=i("q9/c"),o=i("+dwm"),a=i("859q");e.a=s},g2xo:function(t,e,i){"use strict";function s(){this.getfollowsearchfollowstatus=function(t,e){var i=function(t){var e=void 0;try{e=t.timeline.instructions[0].addentries.entries.length>0}catch(t){e=!1}this.trigger("datagetfollowsearchstatussuccess",{isfollowing:e})};this.getfollowedqueries(e,i)},this.getfollowedsearcheslist=function(t,e){var i=function(t){try{var e=t.timeline.instructions[0].addentries.entries.reverse();e.length>0&&this.trigger("datagetfollowsearchlistsuccess",{entries:e})}catch(t){}};this.getfollowedqueries(e,i)},this.getfollowedqueries=function(t,e){this.get({url:"https://api.twitter.com/2/follow_search/show.json",data:t,useoauthsessionauth:!0,success:e.bind(this),error:"datafollowsearchgetlistfailure"})},this.followsearch=function(t,e){function i(t){try{var e=t.timeline.instructions[0].addentries.entries;e.length>0&&(this.trigger("dataupdatefollowsearchbuttonstate",{isfollowing:!0}),this.trigger("dataaddfollowsearchtotypeaheadlist",{entries:e}),this.trigger("dataaddfollowsearchsuccess",t))}catch(t){}}function s(){this.trigger("dataupdatefollowsearchbuttonstate",{isfollowing:!1})}this.post({url:"https://api.twitter.com/2/follow_search/create.json",data:{query:e.query,t:"home_timeline"},eventdata:{scribecomponent:e.scribecomponent,scribeaction:"add"},useoauthsessionauth:!0,success:i.bind(this),error:s.bind(this)})},this.unfollowsearch=function(t,e){function i(t){this.trigger("dataupdatefollowsearchbuttonstate",{isfollowing:!1}),this.trigger("dataremovefollowsearchfromtypeaheadlist",{query:e.query}),this.trigger("dataremovefollowsearchsuccess",t)}function s(){this.trigger("dataupdatefollowsearchbuttonstate",{isfollowing:!0})}this.post({url:"https://api.twitter.com/2/follow_search/destroy.json",acceptemptystringasjsonresponse:!0,data:e,eventdata:{scribecomponent:e.scribecomponent,scribeaction:"remove"},useoauthsessionauth:!0,success:i.bind(this),error:s.bind(this)})},this.after("initialize",function(){this.on("datagetfollowsearchlist",this.getfollowedsearcheslist),this.on("uigetfollowsearchstatus",this.getfollowsearchfollowstatus),this.on("uiaddfollowsearch",this.followsearch),this.on("uiremovefollowsearch",this.unfollowsearch)})}var n=i("dbjh"),o=i("vtwx");e.a=object(n.default)(s,o.a)},gew7:function(t,e,i){"use strict";function s(){this.defaultattrs({limit:10,remotedebounceinterval:300,remotethrottleinterval:300,outstandingremoterequestcount:0,queuedrequestdata:!1,outstandingremoterequestmax:6,usethrottle:!1,tweetcontextenabled:!1,topicswithfiltersenabled:!1}),this.triggersuggestionsevent=function(t,e,i){this.trigger("datatypeaheadsuggestionsresults",{suggestions:i,querydata:e,id:t})},this.hasanysuggestions=function(t,e){return e.some(function(e){return t[e]&&t[e].length})},this.needsremoterequest=function(t,e){return e.some(function(e){return this.datasources[e]&&this.datasources[e].requiresremotesuggestions&&this.datasources[e].requiresremotesuggestions(t)},this)},this.getlocalsuggestions=function(t,e,i){function s(){++o===e.length&&i(n)}var n={},o=0;e.foreach(function(e){this.datasources[e]?this.datasources[e].getlocalsuggestions(t,function(t){t.length&&(t.foreach(function(t){return t.origin="prefetched"}),n[e]=t),s()}):s()},this)},this.processremotesuggestions=function(t){this.adjustrequestcount(-1);var e=t.sourceeventdata,i=e.suggestions||{};e.datasources.foreach(function(s){var n=s.processremotesuggestions(e,t,i);if(n[s.attr.id]&&n[s.attr.id].length){for(var o in n)n[o].foreach(function(t){return t.origin=t.origin||"remote"});e.suggestions[s.attr.id]=n[s.attr.id]}},this),this.processsuggestionsbydataset(i),this.triggersuggestionsevent(e.id,e.querydata,i),this.makequeuedremoterequestifpossible()},this.getremotesuggestions=function(t,e,i,s){e&&this.needsremoterequest(e,s)&&(this.request[t]||(this.attr.usethrottle?this.request[t]=a.default.throttle(this.splitremoterequests.bind(this),this.attr.remotethrottleinterval):this.request[t]=a.default.debounce(this.splitremoterequests.bind(this),this.attr.remotedebounceinterval)),0===e.query.indexof("@")&&"compose"===e.typeaheadsrc&&(e.query=e.query.substring(1),e.atsignremoved=!0),this.request[t](t,e,i,s))},this.makequeuedremoterequestifpossible=function(){if(this.attr.outstandingremoterequestcount===this.attr.outstandingremoterequestmax-1&&this.attr.queuedrequestdata){var t=this.attr.queuedrequestdata;this.getremotesuggestions(t.id,t.querydata,t.suggestions,t.datasources),this.attr.queuedrequestdata=!1}},this.adjustrequestcount=function(t){this.attr.outstandingremoterequestcount+=t},this.canmakeremoterequest=function(t){return this.attr.outstandingremoterequestcount<this.attr.outstandingremoterequestmax||(this.attr.queuedrequestdata=t,!1)},this.processremoterequesterror=function(){this.adjustrequestcount(-1),this.makequeuedremoterequestifpossible()},this.splitremoterequests=function(t,e,i,s){var n={};s.foreach(function(t){if(this[t]&&this[t].requiresremotesuggestions&&this[t].requiresremotesuggestions(e)){var i=this[t];n[i.attr.remotepath]?n[i.attr.remotepath].push(i):n[i.attr.remotepath]=[i]}},this.datasources);for(var o in n){this.executeremoterequest(t,e,i,n[o]);break}},this.executeremoterequest=function(t,e,i,s){var n={id:t,querydata:e,suggestions:i,datasources:s};this.canmakeremoterequest(n)&&((!this.attr.tweetcontextenabled||e.tweetcontext&&e.tweetcontext.length>1e3)&&(e.tweetcontext=void 0),this.adjustrequestcount(1),this.get({url:s[0].attr.remotepath,data:{q:e.query,context_text:e.tweetcontext,count:this.attr.limit,result_type:s.map(function(t){return t.attr.remotetype}).join(","),filters:this.attr.topicswithfiltersenabled,src:e.typeaheadsrc},eventdata:n,success:this.processremotesuggestions.bind(this),error:this.processremoterequesterror.bind(this)}))},this.truncatetopicswithrecentsearches=function(t){if(t.topics&&t.recentsearches){var e=t.recentsearches.length,i=4-e;t.topics=t.topics.slice(0,i)}},this.dedupsuggestions=function(t,e,i){function s(t){var e=t.topic||t.name;return!n[e.tolowercase()]}if(i[t]&&function(){return e.some(function(t){return t in i})}()){var n={};i[t].foreach(function(t){var e=t.name||t.topic;n[e.tolowercase()]=!0}),e.foreach(function(t){t in i&&(i[t]=i[t].filter(s))})}},this.processsuggestionsbydataset=function(t){this.dedupsuggestions("recentsearches",["topics"],t),this.truncatetopicswithrecentsearches(t)},this.getsuggestions=function(t,e){var i=this;if(void 0===e)throw"no parameters specified";if(!e.datasources)throw"no datasources specified";if(void 0===e.querydata)throw"no query data specified";if(void 0===e.querydata.query)throw"no query specified";if(!e.id)throw"no id specified";this.getlocalsuggestions(e.querydata,e.datasources,function(t){i.processsuggestionsbydataset(t);var s="@"!==e.querydata.query&&i.needsremoterequest(e.querydata,e.datasources);!i.hasanysuggestions(t,e.datasources)&&s||i.triggersuggestionsevent(e.id,e.querydata,t),s&&i.getremotesuggestions(e.id,e.querydata,t,e.datasources)})},this.getglobaldatasources=function(){return x},this.setglobaldatasources=function(t){x=t},this.addsynchronousdatasource=function(t,e,i){var s=i[e]||{};this.isdatasourceenabled(e)&&(x.hasownproperty(e)?this.datasources[e]=x[e]:x[e]=this.datasources[e]=new t(i({},s,{id:e})),this.setupeventlisteners(e))},this.addasynchronousdatasource=function(t){var e=this,i=t.datasource;t=t||{};var s=t.dsname,n=this.componentoptions[s]||{},o=new i(i({},n,{id:s}),t);return o.initialize().then(function(t){return x[s]=e.datasources[s]=o,t})},this.initializelocaldata=function(t){this.adddatasourcesnotusingindexeddb();var e=this.shoulduseindexeddb()?this.addasynchronousdatasources():this.addsynchronousdatasources(),i=this.adddmtypeaheaddatasources();promise.all([e,i]).then(t,t)},this.isdatasourceenabled=function(t){return!!(this.componentoptions[t]||{}).enabled},this.isbrowsersafari=function(){return object(n.a)().safari},this.shoulduseindexeddb=function(){return y.a.issupported()&&this.attr.useindexeddb&&!this.isbrowsersafari()},this.addasync=function(t){var e=arguments,i=t.dsname,s=t.dbname,n=t.datasource,o=this;return object(d.a)({title:"typeahead ("+i+")",enabled:window.debug&&window.debug.enabled},new promise(function(t,a){o.isdatasourceenabled(i)?o.addasynchronousdatasource({dbname:s,dsname:i,datasource:n,indexeddbwrapper:t.a}).then(function(e){o.setupeventlisteners(i),o.adddbhandletoglobals(s,e),t([i,s,e])}).catch(function(){o.indexeddbinitializationfailed=!0,a(e)}):t()}))},this.adddbhandletoglobals=function(t,e){e&&(window.globalindexeddbs[t]=e)},this.adddmtypeaheaddatasources=function(){return this.addasync({dsname:"dmconversations",dbname:"dm_typeahead",datasource:u.a})},this.addasynchronousdatasources=function(){var t=this;return this.pendingasyncdatasources=this.addasync({dsname:"accounts",dbname:"accounts",datasource:d.a}).then(function(){return t.addasync({dsname:"dmaccounts",dbname:"accounts",datasource:d.a})}).then(function(){return t.addasync({dsname:"mediatagaccounts",dbname:"accounts",datasource:d.a})})},this.adddatasourcesnotusingindexeddb=function(){this.addsynchronousdatasource(p.a,"savedsearches",this.componentoptions),this.addsynchronousdatasource(f.a,"followedsearches",this.componentoptions),this.addsynchronousdatasource(v.a,"topics",this.componentoptions),this.addsynchronousdatasource(v.a,"hashtags",a.default.merge(this.componentoptions,{hashtags:{remotetype:"hashtags"}},!0)),this.addsynchronousdatasource(b.a,"trendlocations",this.componentoptions),this.addsynchronousdatasource(s.a,"selectedusers",this.componentoptions),this.addsynchronousdatasource(c.a,"prefillusers",this.componentoptions),this.addsynchronousdatasource(m.a,"recentsearches",this.componentoptions),this.addsynchronousdatasource(w.a,"concierge",this.componentoptions)},this.addsynchronousdatasources=function(){return this.addsynchronousdatasource(h.a,"accounts",this.componentoptions),this.addsynchronousdatasource(h.a,"dmaccounts",this.componentoptions),this.addsynchronousdatasource(h.a,"mediatagaccounts",this.componentoptions),promise.resolve()},this.possiblyscribeindexeddb=function(){if(this.shoulduseindexeddb()){var t=this.indexeddbinitializationfailed?"failure":"success";this.scribe({component:"indexeddb",action:t})}},this.after("initialize",function(t,e){var i=this;this.datasources={},this.request={},this.componentoptions=e,this.initializelocaldata(function(){i.on("uineedstypeaheadsuggestions",i.getsuggestions),i.possiblyscribeindexeddb()})})}var n=i("rw6j"),o=i("dbjh"),a=i("yzit"),r=i("vtwx"),c=i("hzyy"),l=i("3odc"),h=i("1qzw"),d=i("g7mz"),u=i("1ihi"),p=i("bz2s"),f=i("d6di"),m=i("in+x"),g=i("tceo"),v=i("z8pp"),b=i("jhol"),w=i("pafg"),s=i("oyls"),c=i("az36"),y=i("b6cp"),t=i("3i53"),d=i("b55n"),i=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t};window.globalindexeddbs={};var x={};e.a=object(o.default)(s,r.a,c.a,g.a,l.a)},guwx:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({copyfoundmedialinkdialogselector:"#copy-found-media-link-dialog",foundmedialinkdestinationselector:".found-media-link-destination"}),this.opendialog=function(e,i){var s=o.a.get(i.fileid);if(s){t(this.attr.copyfoundmedialinkdialogselector).remove();var n={attribution_name:s.attribution.name,details_url:s.detailsurl},a=c.a.render(n);this.$dialogcontainer=t(a).appendto("body"),this.$dialog=this.$dialogcontainer.find(this.attr.modalselector),this.open(),this.selectlink()}},this.after("afterclose",function(){this.$dialogcontainer.remove(),this.$dialog=t(),this.$dialogcontainer=t()}),this.selectlink=function(){this.select("foundmedialinkdestinationselector").focus().select()},this.after("initialize",function(){this.on("click",{foundmedialinkdestinationselector:this.selectlink}),this.on(document,"uineedscopyfoundmediadialog",this.opendialog)})}var n=i("dbjh"),o=i("h6fk"),a=i("uhc7"),r=i("rqvs"),c=i.n(r),l=object(n.default)(a.a,s);e.a=l}).call(e,i("4ksj"))},ggwq:function(t,e,i){"use strict";function s(){this.getfeedbackitem=function(t){return{id:t,item_type:r.a.feedbackrequest}},this.scribefeedbackdismiss=function(t,e){e&&this.scribe({component:this.getfeedbackcomponent[e.cardname],element:e.currentview,action:"dismiss"},{items:[this.getfeedbackitem(e.feedbackid)]})},this.after("initialize",function(){this.getfeedbackcomponent={},this.getfeedbackcomponent[c.a.feedbacknpscardname]=c.a.feedbacknpsscribecomponentname,this.getfeedbackcomponent[c.a.feedbackcsatcardname]=c.a.feedbackcsatscribecomponentname,this.on(document,"uib2cfeedbackdismiss",this.scribefeedbackdismiss)})}var n=i("dbjh"),o=i("3odc"),a=i("vuuo"),r=i("rbkv"),c=i("mpc1");e.a=object(n.default)(s,o.a,a.a)},"grs/":function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("<div class="dmquickreply" data-quick-reply-id=""),s.b(s.v(s.f(" id",t,e,0))),s.b('" role="region" aria-label="quick reply options" aria-atomic="true" aria-live="polite" aria-relevant="all">\n <div class="dmquickreply-options">\n'),s.s(s.f("options",t,e,1),t,e,0,214,745,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <div class="dmquickreply-optionitem" data-option-id=""),i.b(i.v(i.f(" id",t,e,0))),i.b('" data-option-text=""),i.b(i.v(i.f(" label",t,e,0))),i.b('"'),i.s(i.f("action",t,e,1),t,e,0,321,349,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(' data-action-name=""),i.b(i.v(i.f(" name",t,e,0))),i.b('"')}),t.pop()),i.b('>\n <button\n class="dmquickreply-optiontext" \n type="button" \n title=""),i.b(i.v(i.f(" label",t,e,0))),i.s(i.f("description",t,e,1),t,e,0,486,494,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(" - "),i.b(i.v(i.d(".",t,e,0)))}),t.pop()),i.b('"\n>\n <span class="dmquickreply-labeltext">'),i.b(i.v(i.f("label",t,e,0))),i.b("</span>\n"),i.s(i.f("description",t,e,1),t,e,0,612,693,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(' <span class="dmquickreply-optiondescription">'),i.b(i.v(i.d(".",t,e,0))),i.b("</span>\n")}),t.pop()),i.b(" </button>\n </div>\n")}),t.pop()),s.b(" </div>\n</div>\n"),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},gyvj:function(t,e,i){"use strict";function s(){this.defaultattrs({prompttype:"dashboard_profile"}),this.insertprompt=function(t){this.$node.html(t.html)}}var n=i("k7b4"),o=i("bn2o");e.a=n.a.mixin(s,o.a)},"h3u/":function(t,e,i){var s;void 0!==(s=function(){var t=1,e=3,i=4,s=1,n={file_too_large:2,internal_error:131,invalid_media:1,rate_limit:88,timeout:67,unsupported_media:3,zero_file_length:4},o={0:n.internal_error,1:n.invalid_media,2:n.file_too_large,3:n.unsupported_media,4:n.timeout};return function(a,r){function c(){d(),p=0,k=null,m={},u=j,b=0,r=0,v=!1,l&&(l.abort(),l=null)}function l(){if(o){$="uploading";var t="&total_bytes="+o+"&media_type="+encodeuricomponent(e);m.extrainitparams&&(t+=m.extrainitparams),x("post","init",t,null,h,c,s)}else c({error:{code:n.zero_file_length}})}function h(e){p===t&&(k=e.media_id_string,u(e.expires_after_secs),p())}function d(){n&&(cleartimeout(n),n=null)}function u(t){if(t){d();var e=math.min(2147483647,1e3*t);n=settimeout(function(){c({error:{code:n.timeout}}),i("none","timeout"),c()},e)}}function p(){if(r===o)m();else{f=math.min(u,o-r);var t=a.webkitslice||a.mozslice||a.slice,e=t.call(a,r,r+f),i=new formdata;i.append("media",e),x("post","append","&media_id="+k+"&segment_index="+b,i,f,c,s)}}function f(){p===t&&(b++,r+=f,t(y()),p())}function m(){if(m.pausebeforefinalize)p=2;else{v=!0;var t="&media_id="+k;m.trimranges&&(t+="&trim_ranges="+encodeuricomponent(m.trimranges)),/^video\//.test(e)&&(t+="&allow_async=true"),t+=m.extrafinalizeparams||"",x("post","finalize",t,null,b,c,s)}}function g(){$="uploading";var t="&source_url="+encodeuricomponent(m.sourceurl);m.mediatype&&(t+="&media_type="+encodeuricomponent(m.mediatype)),m.mediacategory&&(t+="&media_category="+encodeuricomponent(m.mediacategory)),t+=m.extrainitparams||"",t+=m.extrafinalizeparams||"",x("post","init",t,null,v,c,s)}function v(t){k=t.media_id_string,w()}function b(t){u(t.expires_after_secs);var e=t.processing_info,i=0;if(!e)return void s(t);switch(e.state){case"pending":$="waiting";break;case"in_progress":$="processing",i=e.progress_percent;break;case"succeeded":return void s(t);case"failed":var s=e.error||{};return s.code=o[s.code]||n.internal_error,void c({error:s});default:return void c(t)}t(i,k),settimeout(w,1e3*e.check_after_secs)}function w(){p===t&&x("get","status","&media_id="+k,null,b,c,s)}function s(i){p===t&&(p=e,d())}function c(e){p===t&&(a=e&&e.error&&e.error.code?e.error:{code:n.internal_error},p=i,d())}function y(){return o?100*r/o:0}function t(t,e){p!==i&&m.progress&&m.progress(t,$,e)}function d(){p===e&&m.success&&m.success(k),p===i&&m.error&&m.error(a)}function i(t,e){if(m.stats){var i={mediatype:e,command:t,status:e,duration:new date-q,totalbytesize:o,totalduration:new date-h};"append"===t&&(i.appendbytesize=f),m.stats(i)}}function x(t,e,i,s,n,o,a){function r(){if(l.status>=200&&l.status<400){var t=u();204===l.status||t?(i(e,"success"),d(),n(t||{})):c("parsererror")}else l.status&&503!==l.status?l():c()}function c(r){a?x(t,e,i,s,n,o,a-1):l(r)}function l(t){i(e,t||"error"),o(u()||{})}function h(){f=j,c("timeout")}function d(){if(s){var t=math.max(1,new date-q);u=math.max(j,math.min(5242880,math.round(2e3*f/t)))}}function u(){try{return json.parse(l.responsetext)}catch(t){return null}}var p=g+"?command="+e+i;q=new date,l=new xmlhttprequest,l.open(t,p,!0),l.withcredentials=!0,l.timeout=45e3,l.onload=r,l.onerror=function(){c()},l.ontimeout=h;for(var f in w)l.setrequestheader(f,w[f]);s?l.send(s):l.send()}a=a||{},r=r||{};var k=void 0,m=void 0,p=void 0,a=void 0,o=a.size||0,e=a.type,j=math.max(math.ceil(o/1e3),65536),r=void 0,f=void 0,u=void 0,b=void 0,n=void 0,l=void 0,$=void 0,v=void 0,q=void 0,h=new date,w=r.sruheaders||{},g=r.uploadurl||"https://upload.twitter.com/i/media/upload.json";c(),this.upload=function(i){i=i||{},(v&&(m.trimranges!==i.trimranges||m.extrafinalizeparams!==i.extrafinalizeparams)||m.extrainitparams!==i.extrainitparams||m.sourceurl!==i.sourceurl||m.mediacategory!==i.mediacategory||m.mediatype!==i.mediatype)&&c(),m=i,p!==e&&p!==t&&(p=t,m.sourceurl?g():v?m():k?p():l()),d(),t(y())},this.cancel=function(){c()},this.pollstatusofexistingmediaid=function(e,i){k=e,m=i||{},p=t,w()}}}.call(e,i,e,t))&&(t.exports=s)},h8zi:function(t,e,i){"use strict";function s(){this.defaultattrs({submitbuttonselector:"#age-gate-dialog-submit-button",monthselector:"#age-gate-month",dayselector:"#age-gate-day",yearselector:"#age-gate-year",requiredselector:".age-gate-error",agegatecookiekey:"age-gated"}),this.setupdialog=function(t,e){e.agegated?this.showerror():(this.reset(),this.agedata=e,this.setdateoption(),this.open())},this.fillyearselect=function(){var t=new date(c.a.user.createdat).getfullyear()-13,e=t-100,i=void 0;for(i=t;i>=e;i--)this.yearselect.options.add(new option(i,i));this.yearselect.options.add(new option(object(a.default)("before {{year}}",{year:i}),i))},this.month={1:object(a.default)("january"),2:object(a.default)("february"),3:object(a.default)("march"),4:object(a.default)("april"),5:object(a.default)("may"),6:object(a.default)("june"),7:object(a.default)("july"),8:object(a.default)("august"),9:object(a.default)("september"),10:object(a.default)("october"),11:object(a.default)("november"),12:object(a.default)("december")},this.fillmonthselect=function(){for(var t=1;t<=12;t++)this.monthselect.options.add(new option(this.month[t],t))},this.filldayselect=function(t,e){t||(t=1),e||(e=31);for(var i=t;i<=e;i++)this.dayselect.options.add(new option(i,i))},this.resetselect=function(t,e){t.options.length=0,t.options.add(new option(e,-1,!0,!0)),t.options[0].disabled=!0},this.reset=function(){this.resetselect(this.yearselect,object(a.default)("year")),this.resetselect(this.monthselect,object(a.default)("month")),this.resetselect(this.dayselect,object(a.default)("day")),this.hiderequired()},this.setdateoption=function(){this.fillyearselect(),this.fillmonthselect(),this.filldayselect()},this.showrequired=function(){this.select("requiredselector").removeclass("hidden")},this.hiderequired=function(){this.select("requiredselector").addclass("hidden")},this.getdatefromselect=function(){var t={};return t.year=this.yearselect.options[this.yearselect.selectedindex].value,t.month=this.monthselect.options[this.monthselect.selectedindex].value,t.day=this.dayselect.options[this.dayselect.selectedindex].value,t},this.getnumberofdaysgivenmonthyear=function(t,e){return e<0&&(e=2012),new date(e,t,0).getdate()},this.validatedate=function(){var t=this.getdatefromselect();return t.year>=0&&t.month>=0&&t.month<=12&&t.day>=0&&t.day<=this.getnumberofdaysgivenmonthyear(t.month,t.year)?new date(t.year,t.month-1,t.day):("-1"===t.year||"-1"===t.month||"-1"===t.day?this.showrequired():this.trigger("uishowmessage",{message:object(a.default)("invalid date. please input your date of birth.")}),null)},this.updatedays=function(){var t=this.getdatefromselect();if(this.hiderequired(),!(t.month<1||t.month>12)){this.resetselect(this.dayselect,"day");var e=this.getnumberofdaysgivenmonthyear(t.month,t.year);this.filldayselect(1,e),t.day>0&&t.day<=e&&(this.dayselect.selectedindex=t.day)}},this.showerror=function(){this.trigger("uishowmessage",{message:object(a.default)("you do not meet the minimum age requirements to follow this account.")})},this.setagegatecookie=function(){object(r.a)(this.attr.agegatecookiekey,(new date).gettime())},this.submitagegating=function(){var t=this.validatedate();t&&(t.gettime()<=this.agedata.minbirthdate?this.trigger("uiagegatepassed",l({},this.agedata.originaldata,{passedagegating:!0})):(this.showerror(),this.setagegatecookie()),this.close())},this.after("initialize",function(){this.monthselect=this.select("monthselector")[0],this.dayselect=this.select("dayselector")[0],this.yearselect=this.select("yearselector")[0],this.on(document,"uineedsagegatedialog",this.setupdialog),this.on("click",{submitbuttonselector:this.submitagegating}),this.on("change",{monthselector:this.updatedays,yearselector:this.updatedays,dayselector:this.hiderequired})})}var n=i("dbjh"),o=i("uhc7"),a=i("0d4m"),r=i("dsp6"),c=i("iamj"),l=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},h=object(n.default)(s,o.a);e.a=h},hadd:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.s(s.f("verified",t,e,1),t,e,0,13,134,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b('<span class="icon icon--verified">'),i.b('<span class="u-hiddenvisually">verified account</span>'),i.b("</span>")}),t.pop()),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},hdvg:function(t,e,i){"use strict";function s(){this.updatemomentmapandtriggerevent=function(t){var e=this;return function(i){e.momentmap=c({},e.momentmap,i.moment_map||{}),e.trigger(document,t,i)}},this.getdropdownusermoments=function(t,e){this.get({url:"/i/moments/list_user_moments/dropdown",data:{tweet_id:e.tweet_id},success:this.updatemomentmapandtriggerevent("datamomentsgetdropdownusermomentssuccess"),error:"datamomentsgetdropdownusermomentsfailure"})},this.getdialogusermoments=function(t,e){this.get({url:"/i/moments/list_user_moments/dialog",data:e,success:this.updatemomentmapandtriggerevent("datamomentsgetdialogusermomentssuccess"),error:"datamomentsgetdialogusermomentsfailure"})},this.addtweetsuccess=function(t,e){var i=e.moment_id&&this.momentmap[e.moment_id],s=void 0;i&&(s=i.is_empty_title?object(r.default)('tweet added to "<a target="_blank" href="{{url}}">untitled moment</a>"',{url:e.moment_maker_url}):object(r.default)('tweet added to "<a target="_blank" href="{{url}}">{{moment_name}}</a>"',{url:e.moment_maker_url,moment_name:i.title}),this.trigger("uishowmessage",{message:s}))},this.removetweetsuccess=function(t,e){var i=e.moment_id&&this.momentmap[e.moment_id],s=void 0;i&&(s=i.is_empty_title?object(r.default)('tweet removed from "<a target="_blank" href="{{url}}">untitled moment</a>"',{url:e.moment_maker_url}):object(r.default)('tweet removed from "<a target="_blank" href="{{url}}">{{moment_name}}</a>"',{url:e.moment_maker_url,moment_name:i.title}),this.trigger("uishowmessage",{message:s}))},this.after("initialize",function(){this.momentmap={},this.on("uimomentsgetdropdownusermoments",this.getdropdownusermoments),this.on("uimomentsgetdialogusermoments",this.getdialogusermoments),this.on(document,"datamomentmakeraddtweetsuccess",this.addtweetsuccess),this.on(document,"datamomentmakerremovetweetsuccess",this.removetweetsuccess)})}var n=i("dbjh"),o=i("vtwx"),a=i("3odc"),r=i("0d4m"),c=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t};e.a=object(n.default)(s,o.a,a.a)},hilq:function(t,e,i){"use strict";function s(){this.attributes({dmdialogselector:"#dm_dialog",pollinginterval:3e3,noteardown:!0}),this.pollifforeground=function(){this.isdocumentvisible()&&this.isdialogvisible()&&this.trigger("uidmrequestuserupdates")},this.isdialogvisible=function(){return this.$dmdialog.is(":visible")},this.isdocumentvisible=function(){return"visible"===document.visibilitystate},this.after("initialize",function(){this.$dmdialog=this.select("dmdialogselector"),this.timer=n.default.setintervalevent("uidmforegroundpoll",this.attr.pollinginterval,{},!0),this.on("uidmforegroundpoll",this.pollifforeground)})}var n=i("r8bt"),o=i("dbjh"),a=object(o.default)(s);e.a=a},hiyn:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({excludedcontainerselector:".modal-container, .gallery, .profilecard",profilelinkselector:"a.profile-picture, .fullname a",itemtype:"user",subtargetclass:".username"}),this.openprofilehover=function(e,i){"true"!==object(o.a)("disable_profile_hovers")&&(i.screenname&&delete i.userid,this.skipscreenname&&i.screenname&&i.screenname.tolowercase()===this.skipscreenname.tolowercase()||this.skipuserid&&i.userid===this.skipuserid||(i.ishoverrequest=!0,e.target&&t(e.target).closest(this.attr.excludedcontainerselector).length>0||(this.refeventdata=i,this.refel=t(e.target).find(this.attr.subtargetclass)[0]||e.target,this.lastrequested=i.screenname?i.screenname.tolowercase():i.userid,this.preparehover(this.lastrequested),this.$node.attr("data-associated-tweet-id",i.tweetid||null),this.$node.attr("data-impression-id",i.impressionid||null),this.$node.attr("data-disclosure-type",i.disclosuretype||null),this.$node.attr("data-impression-cookie",i.impressioncookie||null),this.trigger("uiwantsprofilepopup",i))))},this.dataavailable=function(e,i){if(i.screen_name&&this.lastrequested===i.screen_name.tolowercase()||this.lastrequested===i.user_id){this.$node.attr("data-screen-name",i.screen_name||null),this.$node.attr("data-user-id",i.user_id||null);var s=t(i.html);s.find("a[href^='/"+i.screen_name+"']").attr("data-send-impression-cookie","true"),this.showhtml(i.user_id,s,t(this.refel),this.refeventdata)}},this.after("initialize",function(t,e){c.a.attachto(this.$node,{eventdata:{scribecontext:{component:"profile_hover"}}}),e.profile_user&&(this.skipscreenname=e.profile_user.screen_name,this.skipuserid=e.profile_user.id_str),this.on(document,"dataprofilepopupsuccess",this.dataavailable),this.on(document,"uishowprofilehover",this.openprofilehover),this.on(document,"uihideprofilehover",this.hide)})}var n=i("dbjh"),o=i("dsp6"),a=i("xq8/"),r=i("el2s"),c=i("y9hg"),l=object(n.default)(s,a.a,r.a);e.a=l}).call(e,i("4ksj"))},hjqc:function(t,e,i){"use strict";(function(t){function s(){o.default.mixin(this,[a.a]),this.defaultattrs({snapreelvideoselector:"video.js-snap-reel",easingacceleration:.5,fps:object(n.a)().chrome?20:30}),this.loginteraction=function(t){var e=t.attr("data-tweet-id");this.eventscribed[e]||(this.scribeinteraction({action:"snap_reel_interaction"},this.interactiondata(t)),this.eventscribed[e]=!0)},this.mouseover=function(e){var i=this;this.video=t(e.target),this.tweet=this.video.parents(this.attr.tweetselector),this.tweet.hasclass("animated-gif-playing")&&(this.scribetimeout=settimeout(function(){return i.loginteraction(i.tweet,i.video)},3e3)),this.start()},this.mouseout=function(t){cleartimeout(this.scribetimeout),this.tweet&&this.tweet.hasclass("animated-gif-playing")&&(this.tweet.removeclass("animated-gif-playing"),this.trigger(this.tweet,"uistartgif")),this.stop(),this.scribetimeout=void 0,this.tweet=void 0,this.targetposition=void 0},this.mousemove=function(t){this.tweet&&this.tweet.hasclass("animated-gif-playing")&&(this.targetposition=t.pagex-this.video.offset().left)},this.start=function(){this.running=!0,this.tick()},this.stop=function(){this.running=!1},this.tick=function(){var t=this;if(this.running){var e=1e3/this.attr.fps;settimeout(function(){requestanimationframe(t.tick.bind(t)),t.update()},e)}},this.update=function(){if(this.targetposition){this.currentposition+=(this.targetposition-this.currentposition)*this.attr.easingacceleration;var t=this.currentposition/this.video.width();this.trigger(this.tweet,"uiseekgif",{position:t})}},this.after("initialize",function(t,e){this.scribetimeout=void 0,this.eventscribed={},this.currentposition=0,this.on("mouseover",{snapreelvideoselector:this.mouseover}),this.on("mouseout",{snapreelvideoselector:this.mouseout}),this.on("mousemove",{snapreelvideoselector:this.mousemove})})}e.a=s;var n=i("rw6j"),o=i("q9/c"),a=i("alsu")}).call(e,i("4ksj"))},hk7e:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.s(s.f("call_to_action_text",t,e,1),t,e,0,96,828,"{{ }}")&&(s.rs(t,e,function(t,e,s){s.b(' <div class="promptbirdprompt-action">\n'),s.s(s.f("call_to_action_url",t,e,1),t,e,0,164,455,"{{ }}")&&(s.rs(t,e,function(t,e,s){s.b(' <a href=""),s.b(s.v(s.f(" call_to_action_url",t,e,0))),s.b('" '),s.s(s.f("call_to_action_is_external",t,e,1),t,e,0,235,251,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b('target="_blank" ')}),t.pop()),s.b('class="edgebutton edgebutton--primary js-promptaction js-promptprimarycta" data-prompt-action-type=""),s.b(s.v(s.f(" call_to_action_type",t,e,0))),s.b('">\n '),s.b(s.v(s.f("call_to_action_text",t,e,0))),s.b("\n"+i),s.b(" </a>\n")}),t.pop()),s.s(s.f("call_to_action_url",t,e,1),t,e,1,0,0,"")||(s.b(' <button type="button" class="edgebutton edgebutton--primary js-promptaction js-promptprimarycta'),s.s(s.f("sticky_cta",t,e,1),t,e,0,623,635,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" js-issticky")}),t.pop()),s.b('" data-prompt-action-type=""),s.b(s.v(s.f(" call_to_action_type",t,e,0))),s.b('" data-prompt-scribe-action="primary_cta">\n '),s.b(s.v(s.f("call_to_action_text",t,e,0))),s.b("\n"+i),s.b(" </button>\n")),s.b(" </div>\n")}),t.pop()),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},hker:function(t,e,i){"use strict";(function(t){function i(){this.defaultattrs({requestreplyactivityselector:"",requestretweetedactivityselector:".request-retweeted-popup",requestfavoritedactivityselector:".request-favorited-popup",requestactivityselectors:".request-retweeted-popup, .request-favorited-popup",requesttaggingactivityselector:".request-tagging-popup",targettweetselector:".tweet",targettaggeduserslistselector:".popup-tagged-users-list",targettitleselector:"[data-activity-popup-title]",tweetpivotlinkselector:".tweet-pivot-link",hiddenclass:"hidden"}),this.requestreplyactivity=function(t){this.trigger("uirequestreplyactivity")},this.requestretweetedactivity=function(t){this.requestactivitypopup(t),this.trigger("uirequestretweetedactivity")},this.requestfavoritedactivity=function(t){this.requestactivitypopup(t),this.trigger("uirequestfavoritedactivity")},this.requesttaggingactivity=function(t){this.requestactivitypopup(t),this.trigger("uirequesttaggingactivity")},this.requestactivitypopup=function(e,i){var s=t(e.target),n=s.closest(this.attr.targettitleselector).attr("data-activity-popup-title"),o=s.closest(this.attr.targettweetselector).attr("data-tweet-id"),a=i?i.usershtml:null,r=void 0;e.preventdefault(),e.stoppropagation(),r=s.closest(this.attr.requestretweetedactivityselector).length?"retweeted_popup":s.closest(this.attr.requesttaggingactivityselector).length?"media_tagged_popup":"favorited_popup",this.trigger("uirequestactivitypopup",{titlehtml:n,contentid:o,usershtml:a,component:r})},this.handleloggedoutretweetedactivityclick=function(t,e){this.trigger("uiloggedoutactionattempt",{action:"retweeted_activity_attempt"})},this.handleloggedoutfavoritedactivityclick=function(t,e){this.trigger("uiloggedoutactionattempt",{action:"favorited_activity_attempt"})},this.uiopensignupdialog=function(t,e,i){this.trigger("uiopensignupdialog")},this.uitweetpivotclick=function(e){var i=t(e.target),s={item_details:{item_type:"0",id:i.attr("data-item-id")},component_details:{id:i.attr("data-entity-id"),name:i.attr("data-name"),description:i.attr("data-id")}};this.trigger("uitweetpivotclick",s)},this.after("initialize",function(){if(!this.attr.loggedin)return void this.on("click",{requestactivityselectors:this.uiopensignupdialog,requestretweetedactivityselector:this.handleloggedoutretweetedactivityclick,requestfavoritedactivityselector:this.handleloggedoutfavoritedactivityclick,requesttaggingactivityselector:this.requesttaggingactivity});this.on("click",{requestreplyactivityselector:this.requestreplyactivity,requestretweetedactivityselector:this.requestretweetedactivity,requestfavoritedactivityselector:this.requestfavoritedactivity,requesttaggingactivityselector:this.requesttaggingactivity,tweetpivotlinkselector:this.uitweetpivotclick})})}e.a=i}).call(e,i("4ksj"))},hkib:function(t,e,i){"use strict";var s=i("1qaw"),n=i.n(s),o=i("dbjh");e.a=object(o.default)(function(){this.attributes({cardcontainerselector:".card2.js-media-container",cardiframecontainerselector:".js-macaw-cards-iframe-container",playablemediaplayerselector:".playablemedia-player",playablemediaselector:".playablemedia",playersurface:"broadcast_card",supportslandscapepresentation:!1,landscapepresentationclass:"livebroadcastcard--supportslandscapepresentation",playercomponentcontext:"broadcastcard"}),this.loadplayer=function(t,e){if(!this.isplayerloaded){var i=n.a.render(),s=e.broadcast_id,o=e.media_tweet_id,a=e.requested_timecode;s?this.select("cardcontainerselector").attr("data-broadcast-id",s):o&&this.select("cardcontainerselector").attr("data-tweet-id",o),this.select("cardcontainerselector").attr("data-player-component-context",this.attr.playercomponentcontext),this.select("cardcontainerselector").prepend(i),this.attr.supportslandscapepresentation&&this.select("playablemediaselector").addclass(this.attr.landscapepresentationclass),a&&this.select("playablemediaplayerselector").attr("data-requested-timecode",a),this.select("playablemediaplayerselector").attr("data-player-surface",this.attr.playersurface),this.trigger("uiwatchplayablemedia"),this.isplayerloaded=!0}},this.teardownplayer=function(){if(this.isplayerloaded){this.select("playablemediaselector").trigger("uiunloadplayablemedia").remove(),this.isplayerloaded=!1}},this.before("teardown",function(){this.teardownplayer(),this.select("cardiframecontainerselector").addclass("initial-card-height")}),this.after("initialize",function(){this.isplayerloaded=!1,this.on("uiloadcardplayerforbroadcast",this.loadplayer),this.on("uiloadcardplayerformediatweetid",this.loadplayer),this.on("uiteardowncardplayer",this.teardownplayer),this.on("uiloadplayerforliveeventcard",this.loadplayer),this.on("uiteardownplayerforliveeventcard",this.teardownplayer)})})},hwdg:function(t,e,i){"use strict";function s(){this.defaultattrs({noshowerror:!0}),this.deleteconversation=function(t,e){e=e||{};var i=l(c(t.target,"dataconversationdeleted",{conversation_id:e.conversation_id}),c(t.target,"datadmuserupdates")),s=l(c(t.target,"dataconversationdeletefailed",{conversation_id:e.conversation_id}),c(t.target,"datadmerror"));this.destroy({url:"/messages/with/conversation",data:{id:e.conversation_id,cursor:this.dmcursor},eventdata:e,success:i,error:s})},this.after("initialize",function(){this.on("uideleteconversation",this.deleteconversation)})}var n=i("dbjh"),o=i("vtwx"),a=i("9uwv"),r=i("ldny"),c=r.a.triggerfn,l=r.a.chain,h=object(n.default)(s,o.a,a.a);e.a=h},hzqj:function(t,e,i){"use strict";(function(t){function s(){this.keymap=r.a;this.attributes({textselector:"textarea.tokenizedmultiselect-input",inputcontainerselector:".tokenizedmultiselect-inputcontainer",textminwidth:100,tokenclass:"inputtoken",tokenselector:".inputtoken",focusedtokenselector:".inputtoken:focus",tokendeleteclass:"inputtoken-delete",tokendeleteselector:".inputtoken-delete",highlightedclass:"is-highlighted",highlightedselector:".is-highlighted",selectedclass:"is-selected",suggestionclass:"tokenizedmultiselect-suggestion",suggestionselector:".tokenizedmultiselect-suggestion",suggestionscontainerselector:".tokenizedmultiselect-suggestionscontainer",maxitems:50}),this.handlekeypress=function(t){if("keydown"===t.type&&!t.shiftkey){var e=t.which||t.keycode,i=this.select("focusedtokenselector").length,s=this.select("highlightedselector").length,n=!this.$text.val();switch(e){case r.a.tab:i?(t.preventdefault(),t.stoppropagation(),this.focusinput()):s&&(t.preventdefault(),t.stoppropagation(),this.tokenizehighlightedsuggestion());break;case r.a.enter:t.preventdefault(),this.toggletokenization();break;case r.a.esc:s&&(t.preventdefault(),t.stoppropagation(),this.clearhighlight());break;case r.a.backspace:i?(this.removefocusedtoken(),t.preventdefault()):n&&(this.removelasttoken(),t.preventdefault());break;case r.a.delete:i&&this.removefocusedtoken();break;case r.a.up:t.preventdefault(),i&&this.focusinput(),this.movesuggestionhighlight(1);break;case r.a.down:t.preventdefault(),i&&this.focusinput(),this.movesuggestionhighlight(0);break;case r.a.left:i?this.focusneighbor(1):n&&this.focuslasttoken();break;case r.a.right:i&&this.focusneighbor(0)}}},this.focusneighbor=function(t){var e=0===t?"next":"prev",i=this.select("focusedtokenselector");i.length&&i[e]().focus()},this.focuslasttoken=function(){this.select("tokenselector").last().focus()},this.focusinput=function(){this.$text.focus()},this.removefocusedtoken=function(t){var e=this.select("focusedtokenselector");t&&"click"===t.type?this.focusinput():this.focusneighbor(0),this.removetoken(e)},this.removelasttoken=function(){this.removetoken(this.select("tokenselector").last())},this.removetoken=function(t){t.length&&(this.trigger("uitokenizedmultiselecttokenremoved",{text:t.attr("data-token-text"),id:t.attr("data-token-id")}),t.remove())},this.getfirstsuggestion=function(){return this.select("suggestionselector").first()},this.gethighlightedsuggestion=function(){return this.select("highlightedselector").first()},this.getneighboringsuggestion=function(t,e){return t[0===e?"nextall":"prevall"](this.attr.suggestionselector).first()},this.movesuggestionhighlight=function(t){var e=this.gethighlightedsuggestion(),i=this.getneighboringsuggestion(e,t);e.length?i.length&&this.sethighlight(i):this.sethighlight(this.getfirstsuggestion())},this.toggletokenization=function(){var t=this.gethighlightedsuggestion(),e=t.attr("data-token-id");this.istokenized(t)?(this.removetoken(this.select("tokenselector").filter('[data-token-id="'+e+'"]')),this.$text.val("").focus()):this.tokenizehighlightedsuggestion()},this.tokenizehighlightedsuggestion=function(){var e=this.gethighlightedsuggestion(),i=e.attr("data-token-text");if(this.cantokenize(e)){var s=t(l.a.render({token_class:this.attr.tokenclass,token_delete_class:this.attr.tokendeleteclass,emojified_token_text:{emojified_text_as_html:o.a.emojifytext(i),text:i},token_id:e.attr("data-token-id"),token_text:i}));e.addclass(this.attr.selectedclass),this.$text.before(s),this.$text.val("").focus(),this.trigger("uitokenizedmultiselecttokenadded",{text:s.attr("data-token-text"),id:s.attr("data-token-id")})}},this.istokenized=function(e){return t.inarray(e.attr("data-token-id"),this.getselecteditemsids())>=0},this.cantokenize=function(t){return!(this.select("tokenselector").length>=this.attr.maxitems)&&t.length&&!this.istokenized(t)},this.getselecteditemsids=function(){return t.map(this.select("tokenselector"),function(e){return t(e).attr("data-token-id")})},this.getselecteditems=function(){return t.map(this.select("tokenselector"),function(e){return{id:t(e).attr("data-token-id"),text:t(e).attr("data-token-text")}})},this.handletextchange=function(t,e){this.trigger("uitokenizedmultiselecttextchanged",{text:e.text,selected_items:this.getselecteditemsids()})},this.handlemouseover=function(e){this.sethighlight(t(e.target).closest(this.attr.suggestionselector))},this.updatewidth=function(){var t=this.select("tokenselector").last();if(t.length){var e=this.select("inputcontainerselector").width()-t.position().left-t.outerwidth(!0),i=e<this.attr.textminwidth?"100%":e;this.$text.outerwidth(i)}this.$text.prop("scrollheight")>this.$text.prop("clientheight")&&this.$text.outerwidth("100%")},this.selecteditemschanged=function(){this.trigger("uitokenizedmultiselectitemselectionchanged",{selected_items:this.getselecteditems()})},this.updatescroll=function(){var t=this.gethighlightedsuggestion(),e=this.select("suggestionscontainerselector"),i=e.prop("scrolltop"),s=t.position().top+t.outerheight();if(s>e.height()){var n=s-e.height();e.scrolltop(i+n)}else t.position().top<0&&e.scrolltop(i+t.position().top)},this.reset=function(){this.select("tokenselector").remove(),this.$text.val("")},this.setmaxitems=function(t){this.attr.maxitems=t.maxitems},this.handletokenchange=function(){this.updatewidth(),this.selecteditemschanged()},this.updatesuggestions=function(t,e){var i=e.html,s=e.preserve_previous_hightlight,n=this.select("highlightedselector").first().attr("data-token-id");if(this.clearhighlight(),this.select("suggestionscontainerselector").html(i),s){var o=this.select("suggestionselector").filter("[data-token-id=""+n+""]").first(),a=o.length?o:this.select("suggestionselector").first();this.sethighlight(a)}},this.clearhighlight=function(){this.select("suggestionselector").removeattr("id aria-selected").removeclass(this.attr.highlightedclass),this.$text.removeattr("aria-activedescendant")},this.sethighlight=function(t){this.clearhighlight();var e="tokenizedmultiselecthighlight" +math.floor(1e10*math.random()).tostring();t.addclass(this.attr.highlightedclass).attr({id:e,"aria-selected":!0}),this.$text.attr("aria-activedescendant",e)},this.after("movesuggestionhighlight",this.updatescroll),this.after("tokenizehighlightedsuggestion",this.handletokenchange),this.after("toggletokenization",this.handletokenchange),this.after("removefocusedtoken",this.handletokenchange),this.after("removelasttoken",this.handletokenchange),this.after("reset",this.handletokenchange),this.setuparia=function(){var t="tokenizedmultiselectowns" +math.floor(1e10*math.random()).tostring();this.select("suggestionscontainer").attr("id",t),this.$text.attr("aria-owns",t)},this.after("initialize",function(){this.inittextnode(),this.attr.placeholdertext=this.$text.attr("placeholder"),this.setuparia(),this.on("uitextchanged",this.handletextchange),this.on("uitextchanged",this.updatewidth),this.on("keyup keydown keypress paste",this.handlekeypress),this.on("uiresettokenizedmultiselect",this.reset),this.on("uitokenizedmultiselectmaxitems",this.setmaxitems),this.on("uitokenizedmultiselectsuggestions",this.updatesuggestions),this.on("mouseover",{suggestionselector:this.handlemouseover}),this.on("click",{suggestionselector:this.toggletokenization,tokendeleteselector:this.removefocusedtoken})})}var n=i("dbjh"),o=i("tlys"),a=i("pul/"),r=i("i3qs"),c=i("frdp"),l=i.n(c),h=object(n.default)(s,a.a);e.a=h}).call(e,i("4ksj"))},hhhh:function(t,e,i){"use strict";function s(t){if(y.a.set(t.dm),object(h.default)(t),ht.a.attachto(document,{noteardown:!0,showunreadnotificationcount:gt.a.getdecider("page_title_unread_notification_count"),badgeaftertweetcount:gt.a.getdecidervalue("page_title_badge_after_unread_tweets")}),st.a.attachto(document),d.a.attachto("body"),$.a.attachto(document),_t.a.attachto("body",{noteardown:!0}),s.a.attachto(document,{rweboptincookiename:t.rweboptincookiename,rweboptincookienewvalue:t.rweboptincookienewvalue}),f.a.attachto(document,{noteardown:!0}),u.a.attachto("#spam_challenge_dialog",{noteardown:!0}),pt.a.attachto(document,t,{noteardown:!0}),t.loggedin){object(jt.a)(t),at.a.attachto(document,t,{noteardown:!0});var e=y.a.get("poll_options");e?t.a.attachto(document,{foregroundpollinterval:e.foreground_poll_interval,burstpollinterval:e.burst_poll_interval,burstpollduration:e.burst_poll_duration,maxpollinterval:e.max_poll_interval,noteardown:!0}):t.a.attachto(document,{foregroundpollinterval:1e3*t.deciders.dm_polling_frequency_in_seconds,noteardown:!0}),t.deciders.live_pipeline_consume&&q.a.attachto(document),g.a.attachto("#list-membership-dialog",t,{noteardown:!0}),z.a.attachto("#list-operations-dialog",t,{noteardown:!0}),v.a.attachto("#create-custom-timeline-dialog",t),b.a.attachto("#curate-dialog",t),z.a.attachto("#moments-summary-list-dialog",t),object(c.a)(t),x.a.attachto(document,{noteardown:!0}),m.a.attachto(document,{noteardown:!0}),k.a.attachto(document,{noteardown:!0}),ft.a.attachto(document,{currentuserpath:t.routes.profile,noteardown:!0}),ct.a.attachto("#retweet-tweet-dialog",t,{noteardown:!0}),w.a.attachto("#delete-tweet-dialog",t,{noteardown:!0}),c.a.attachto("#block-dialog",t,{noteardown:!0}),wt.a.attachto("#report-dialog",t,{noteardown:!0}),t.deciders.gdpragegatedialog?n.a.attachto("#gdpr-age-gate-dialog",t,{noteardown:!0}):n.a.attachto("#age-gate-dialog",t,{noteardown:!0}),t.deciders.gdprsoftbouncedialog&&l.a.attachto("#gdpr-soft-bounce-dialog",t,{noteardown:!0}),t.deciders.enable_tweetstorm_creation&&(ut.a.attachto("#tweetstorm-dialog",t,{noteardown:!0}),vt.a.attachto(document,t,{noteardown:!0}),qt.a.attachto(document,t,{noteardown:!0}),ft.a.attachto(document,t,{noteardown:!0}),$t.a.attachto(document,t,{noteardown:!0}),t.deciders.enable_tweetstorm_drafts&&(nt.a.attachto("#tweetstorm-load-draft",t,{noteardown:!0}),bt.a.attachto(document,t,{noteardown:!0})),t.deciders.enable_tweetstorm_tooltip&&lt.a.attachto(document,t,{noteardown:!0}))}dt.a.attachto(document),gt.a.getdecider("native_notifications")&&(st.a.attachto(document,{defaulticon:t.defaultnotificationicon}),nt.a.attachto(document)),vt.a.attachto(document),gt.a.attachto(document,{autosubscribe:gt.a.getdecider("autosubscribenativepush"),allowregistration:gt.a.getdecider("enablenativepush"),noteardown:!0}),wt.a.attachto(document,{noteardown:!0}),ht.a.attachto(document,t.typeaheaddata,{noteardown:!0}),tt.a.attachto(document,{noteardown:!0}),yt.a.attachto(document,{noteardown:!0}),t.typeaheaddata.followedsearches.enabled&&(j.a.attachto(document,{noteardown:!0}),r.a.attachto(document,{noteardown:!0})),q.a.attachto("#goto-user-dialog",t),object(pt.a)({profile_user:t.profile_user,deviceenabled:t.deviceenabled,deviceverified:t.deviceverified,formauthenticitytoken:t.formauthenticitytoken,loggedin:t.loggedin}),b.a.attachto(document,{noteardown:!0});var i={itemtype:"tweet",noteardown:!0,loggedin:t.loggedin,eventdata:{scribecontext:{component:"gallery"}}};u.a.attachto(".gallery",t,i),et.a.attachto(".gallery",t,i),tt.a.attachto(".gallery",t,i),ct.a.attachto(document,{noteardown:!0}),rt.a.attachto(document,t),h.a.attachto(document,t,{noteardown:!0,loggedin:t.loggedin,keyboardshortcuts:t.keyboardshortcuts}),g.a.attachto(document,t,{noteardown:!0}),bt.a.attachto("#quick-promote-dialog",t,{noteardown:!0}),l.a.attachto("#block-user-dialog",t,{noteardown:!0}),p.a.attachto(document,{noteardown:!0}),a.a.attachto("#embed-tweet-dialog",t,{noteardown:!0}),qt.a.attachto("#why-this-ad-dialog",t,{noteardown:!0}),w.a.attachto("#leadgen-confirm-dialog",t),object(it.a)("uiwantstorefreshtimestamps"),dt.a.attachto(document),f.a.attachto(document,{nightmodeactivated:t.night_mode_activated}),p.a.attachto(document,{noteardown:!0}),at.a.attachto(document,{noteardown:!0}),x.a.attachto("#media-edit-dialog",{noteardown:!0}),it.a.attachto(document),ot.a.attachto(".dashboard",{eventdata:{scribecontext:{component:"dashboard_nav"}}}),e.a.attachto("#feedback_dialog",t.debugdata,{noteardown:!0}),o.a.attachto(document,t.debugdata,{noteardown:!0}),object(mt.a)(t),v.a.attachto(document,t,{noteardown:!0}),m.a.attachto(document,t,{noteardown:!0}),d.a.attachto("#bouncer-dialog",t,{noteardown:!0}),y.a.attachto("#location-picker-dialog",t,{noteardown:!0}),k.a.attachto(document,{noteardown:!0}),o.a.attachto("#auth-webview-dialog",t,{noteardown:!0}),et.a.attachto(document),rt.a.attachto(document,t,{noteardown:!0}),xt.a.attachto("#sms-confirmation-dialog"),kt.a.attachto("#sms-confirmation-dialog",t,{noteardown:!0}),mt.a.attachto(document),i.a.attachto(document,{includelongvideos:gt.a.getdecider("dynamic_video_ads_include_long_videos")}),zt.a.attachto(document,t,{noteardown:!0}),ot.a.attachto(document,{noteardown:!0}),a.a.attachto("#page-container",t),ut.a.attachto("#page-container",{livevideocontinueplayingbehindmodalsenabled:t.livevideocontinueplayingbehindmodalsenabled}),j.a.attachto(document),r.a.attachto(document),lt.a.attachto(document,{usercolor:t.user_color,screenname:t.screenname})}e.a=s;var n=i("h8zi"),o=i("5k28"),a=i("bcjo"),r=i("5lan"),c=i("k6ly"),l=i("n/jq"),h=i("1qvz"),d=i("pvwj"),u=i("4th6"),p=i("er8d"),f=i("qo7l"),m=i("w3ke"),g=i("guwx"),v=i("6l6i"),b=i("p3ed"),w=i("o3dw"),s=i("a1lw"),c=i("ckc9"),y=i("8tpw"),t=i("9ooz"),d=i("b2of"),i=i("ww42"),x=i("nwdm"),k=i("qpfa"),m=i("i4aw"),p=i("6ej1"),a=i("6prl"),o=i("glfs"),e=i("ac9p"),j=i("g2xo"),r=i("zif6"),f=i("tnqm"),u=i("pb0g"),b=i("eq71"),n=i("fo1a"),l=i("8z7v"),$=i("8ymj"),v=i("vnf/"),q=i("zape"),h=i("nvga"),w=i("iqrg"),g=i("6+u0"),z=i("hzky"),q=i("/ynh"),y=i("ockb"),k=i("xg5f"),x=i("uaj/"),j=i("ueze"),z=i("y/m3"),tt=i("jctv"),et=i("9rxz"),it=i("ctpe"),st=i("ks/n"),nt=i("s+cd"),ot=i("y9hg"),at=i("xtdv"),rt=i("i/r1"),ct=i("w/ag"),lt=i("swew"),ht=i("w0am"),dt=i("p9c3"),ut=i("+9xk"),pt=i("rlv+"),ft=i("6ycc"),mt=i("qpek"),gt=i("9nax"),vt=i("kz7r"),bt=i("xhag"),wt=i("4lvv"),st=i("drjy"),ct=i("f0az"),yt=i("ohux"),tt=i("ey4t"),_t=i("q+8d"),dt=i("rxx0"),it=i("11yp"),xt=i("whvx"),kt=i("3egj"),mt=i("v2wg"),pt=i("mc7r"),at=i("v93p"),ot=i("lrhz"),et=i("ny+n"),jt=i("twgl"),rt=i("duhp"),ft=i("todr"),ut=i("tkyg"),bt=i("zwio"),nt=i("+lko"),lt=i("ahbl"),$t=i("g3ad"),vt=i("bco2"),qt=i("9udm"),ht=i("gew7"),wt=i("cp4g"),gt=i("iamj"),zt=i("4iwu"),qt=i("8s9k")},hlo1:function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in a)e[s]||(e[s]=a[s]);return r.render(t,e,i)}var n=i("opvs").default,o={screen_name:i("5hsp"),screen_name:i("5hsp"),screen_name:i("5hsp"),screen_name:i("5hsp"),screen_name:i("5hsp"),screen_name:i("5hsp"),screen_name:i("5hsp"),screen_name:i("5hsp"),screen_name:i("5hsp"),screen_name:i("5hsp")},a=n(o),r=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("<button type="button" class="btn-link reply-users-btn js-tooltip" data-original-title="select who gets your reply">'),s.s(s.f("is_reply_user_count_1",t,e,1),t,e,0,149,225,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.s(i.f("first_reply_user",t,e,1),t,e,0,180,196,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(i.rp("<screen_name0",t,e,""))}),t.pop())}),t.pop()),s.s(s.f("is_reply_user_count_2",t,e,1),t,e,0,286,427,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.s(i.f("first_reply_user",t,e,1),t,e,0,317,333,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(i.rp("<screen_name1",t,e,""))}),t.pop()),i.b(" and "),i.s(i.f("second_reply_user",t,e,1),t,e,0,381,397,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(i.rp("<screen_name2",t,e,""))}),t.pop())}),t.pop()),s.s(s.f("is_reply_user_count_3",t,e,1),t,e,0,488,688,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.s(i.f("first_reply_user",t,e,1),t,e,0,519,535,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(i.rp("<screen_name3",t,e,""))}),t.pop()),i.b(" "),i.s(i.f("second_reply_user",t,e,1),t,e,0,579,595,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(i.rp("<screen_name4",t,e,""))}),t.pop()),i.b(" and "),i.s(i.f("third_reply_user",t,e,1),t,e,0,643,659,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(i.rp("<screen_name5",t,e,""))}),t.pop())}),t.pop()),s.s(s.f("is_reply_user_count_more_than_3",t,e,1),t,e,0,759,1270,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.s(i.f("reply_user_count_minus_2_one",t,e,1),t,e,0,802,982,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.s(i.f("first_reply_user",t,e,1),t,e,0,835,851,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(i.rp("<screen_name6",t,e,""))}),t.pop()),i.b(" "),i.s(i.f("second_reply_user",t,e,1),t,e,0,895,911,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(i.rp("<screen_name7",t,e,""))}),t.pop()),i.b(" and "),i.b(i.v(i.f("reply_user_count_minus_2",t,e,0))),i.b(" other")}),t.pop()),i.s(i.f("reply_user_count_minus_2_other",t,e,1),t,e,0,1058,1227,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.s(i.f("first_reply_user",t,e,1),t,e,0,1089,1105,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(i.rp("<screen_name8",t,e,""))}),t.pop()),i.b(" "),i.s(i.f("second_reply_user",t,e,1),t,e,0,1149,1165,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(i.rp("<screen_name9",t,e,""))}),t.pop()),i.b(" and "),i.b(i.v(i.f("reply_user_count_minus_2",t,e,0))),i.b(" others")}),t.pop())}),t.pop()),s.b("</button>\n"),s.fl()},partials:{"<screen_name0":{name:"screen_name",partials:{},subs:{}},"<screen_name1":{name:"screen_name",partials:{},subs:{}},"<screen_name2":{name:"screen_name",partials:{},subs:{}},"<screen_name3":{name:"screen_name",partials:{},subs:{}},"<screen_name4":{name:"screen_name",partials:{},subs:{}},"<screen_name5":{name:"screen_name",partials:{},subs:{}},"<screen_name6":{name:"screen_name",partials:{},subs:{}},"<screen_name7":{name:"screen_name",partials:{},subs:{}},"<screen_name8":{name:"screen_name",partials:{},subs:{}},"<screen_name9":{name:"screen_name",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:a,render:s}}).call(e,i("jtwp"))},hyoy:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("\n"+i),s.b(" "),s.s(s.f("intnumber_one",t,e,1),t,e,0,21,51,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.v(i.f("localized_number",t,e,0))),i.b(" following")}),t.pop()),s.b("\n"+i),s.b(" "),s.s(s.f("intnumber_other",t,e,1),t,e,0,92,122,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.v(i.f("localized_number",t,e,0))),i.b(" following")}),t.pop()),s.b("\n"),s.b("\n"),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},hzky:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({top:90,win:window,savelistselector:".update-list-button",editorselector:".list-editor",currentnameselector:".js-list-details .js-list-name",currentdescselector:".js-list-details .js-list-desc",nameinputselector:".list-editor input[name="name" ]",descriptionselector:".list-editor textarea[name="description" ]",privacyselector:".list-editor input[name="mode" ]"}),this.openlistoperationsdialog=function(t,e){e=e||{},this.userid=e.userid,"uiopenupdatelistdialog"===t.type&&this.modifydialog(),this.open(),this.$nameinput.focus()},this.modifydialog=function(){this.$modaltitle=this.select("modaltitleselector"),this.originaltitle=this.originaltitle||this.$modaltitle.text(),this.$modaltitle.text(object(a.default)("edit list details"));var e=t(this.attr.currentnameselector).attr("data-raw-text").trim(),i=t(this.attr.currentdescselector).attr("data-raw-text").trim();this.$nameinput.val(e),this.$descriptioninput.val(i),this.ispublic||(this.$privacyinput[1].checked=!0),this.$savebutton.attr("data-list-id",this.listid).attr("data-operation","update"),this.togglesavebuttondisabled(),this.modified=!0,this.$descriptioninput.on("keyup",this.togglesavebuttondisabled.bind(this)),this.$privacyinput.on("change",this.togglesavebuttondisabled.bind(this))},this.revertmodifications=function(){this.modified&&(this.revertdialog(),this.$editor.find("input,textarea").val(""),this.$descriptioninput.off("keyup"),this.$privacyinput.off("change"),this.modified=!1)},this.revertdialog=function(){this.$modaltitle.text(this.originaltitle),this.$savebutton.removeattr("data-list-id").removeattr("data-operation"),this.ispublic||(this.$privacyinput[0].checked=!0)},this.savelist=function(e,i){if(!this.requestinprogress){this.requestinprogress=!0;var s=t(i.el),n="update"===s.attr("data-operation")?"uiupdatelist":"uicreatelist",o={name:this.formvalue("name"),description:this.formvalue("description",{type:"textarea"}),mode:this.formvalue("mode",{conditions:":checked"})};"update"===s.attr("data-operation")&&(o=r({},o,{list_id:s.attr("data-list-id")})),this.trigger(n,o),this.$savebutton.prop("disabled",!0)}},this.savelistsuccess=function(t,e){this.close();var i=object(a.default)("list saved!");"datadidcreatelist"===t.type?(i=object(a.default)("list created!"),this.userid?this.trigger("uiopenlistmembershipdialog",{userid:this.userid}):e&&e.slug&&(this.attr.win.location="/" +this.attr.screenname+"/lists/"+e.slug)):this.revertdialog(),this.$editor.find("input:text,textarea").val(""),this.trigger("uishowmessage",{message:i})},this.savelistcomplete=function(t,e){this.requestinprogress=!1,this.togglesavebuttondisabled()},this.togglesavebuttondisabled=function(t,e){this.$savebutton.prop("disabled",""===this.$nameinput.val())},this.formvalue=function(t,e){return e=e||{},e.type=e.type||"input",e.conditions=e.conditions||"",this.$editor.find(e.type+"[name=""+t+""]"+e.conditions).val()},this.disablesavebutton=function(){this.$savebutton.prop("disabled",!0)},this.updatestate=function(t,e){this.listid=e.init_data.list_id,this.ispublic=e.init_data.is_public},this.after("initialize",function(){this.listid=this.attr.list_id,this.ispublic=this.attr.is_public,this.$editor=this.select("editorselector"),this.$nameinput=this.select("nameinputselector"),this.$descriptioninput=this.select("descriptionselector"),this.$privacyinput=this.select("privacyselector"),this.$savebutton=this.select("savelistselector"),this.on("click",{savelistselector:this.savelist}),this.on("focus blur keyup",{nameinputselector:this.togglesavebuttondisabled}),this.on("uidialogopened",this.disablesavebutton),this.on("uidialogclosed",this.revertmodifications),this.on(document,"uiopencreatelistdialog uiopenupdatelistdialog",this.openlistoperationsdialog),this.on(document,"datadidcreatelist datadidupdatelist",this.savelistsuccess),this.on(document,"datadidcreatelist datadidupdatelist datafailedtocreatelist datafailedtoupdatelist",this.savelistcomplete),this.on(document,"uipagechanged",this.updatestate)})}var n=i("dbjh"),o=i("uhc7"),a=i("0d4m"),r=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},c=object(n.default)(s,o.a);e.a=c}).call(e,i("4ksj"))},"i/r1":function(t,e,i){"use strict";function s(){this.requestembedcode=function(t,e){var i=this.cachekeyforoptions(e),s=this.cachedembedcodes[i],n=this.receivedembedcode.bind(this,e),o=this.failedtoreceiveembedcode.bind(this,e);if(s)return void this.receivedembedcode(e,s);this.get({datatype:"jsonp",url:this.embedcodeurl(),data:a({id:e.tweetid},e.data),eventdata:{},success:n,error:o})},this.embedcodeurl=function(){return"//api.twitter.com/1/statuses/oembed.json"},this.receivedembedcode=function(t,e){var i=this.cachekeyforoptions(t);this.cachedembedcodes[i]=e,this.trigger("dataoembedsuccess",{options:t,data:e})},this.failedtoreceiveembedcode=function(t){t.retry?(t.retry=!1,this.trigger("dataoembedretry",t),this.requestembedcode({},t)):this.trigger("dataoembederror",t)},this.cachekeyforoptions=function(t){return json.stringify(t.data)+t.tweetid},this.after("initialize",function(){this.on("uineedsoembed",this.requestembedcode),this.cachedembedcodes={}})}var n=i("dbjh"),o=i("vtwx"),a=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t};e.a=object(n.default)(s,o.a)},i17q:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("<div role="button" tabindex="0" aria-label=""),s.b(s.v(s.f(" label",t,e,0))),s.b('" '),s.s(s.f("can_compose_alt_text",t,e,1),t,e,0,434,476,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b('aria-describedby=""),i.b(i.v(i.f(" aria_description_id",t,e,0))),i.b('"')}),t.pop()),s.b(' class="composerthumbnail"),s.s(s.f(" is_large_size",t,e,1),t,e,0,544,569,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" composerthumbnail--large")}),t.pop()),s.b(" "),s.s(s.f("is_gif",t,e,1),t,e,0,599,621,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b("composerthumbnail--gif")}),t.pop()),s.s(s.f("is_video",t,e,1),t,e,0,645,669,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b("composerthumbnail--video")}),t.pop()),s.b('" data-file-id=""),s.b(s.v(s.f(" file_id",t,e,0))),s.b('">\n <div class="composerthumbnail-imagecontainer">\n'),s.b(' <img class="composerthumbnail-image" src=""),s.b(s.v(s.f(" src",t,e,0))),s.b('" style=""),s.b(s.v(s.f(" offset_styles",t,e,0))),s.b('" draggable="false" alt="">\n </div>\n\n'),s.s(s.f("is_gif",t,e,1),t,e,0,1022,1266,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <div class="composerthumbnail-overlay composerthumbnail-gifbadge">\n <div class="icon icon--medium icon--gifbadge"></div>\n </div>\n'),i.s(i.f("is_placeholder",t,e,1),t,e,0,1187,1244,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(' <div class="composerthumbnail-loading"></div>\n')}),t.pop())}),t.pop()),s.b("\n"+i),s.s(s.f("is_video",t,e,1),t,e,0,1294,1580,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <div class="composerthumbnail-overlay composerthumbnail-edit">'),i.b(i.v(i.f("edit_button_label",t,e,0))),i.b('</div>\n <div class="composerthumbnail-overlay composerthumbnail-duration">'),i.b(i.v(i.f("duration",t,e,0))),i.b('</div>\n <div class="composerthumbnail-play">\n <div class="icon icon--playbutton"></div>\n </div>\n')}),t.pop()),s.b("\n"+i),s.s(s.f("can_compose_alt_text",t,e,1),t,e,0,1622,1818,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <div class="composerthumbnail-description">add description</div>\n <div id=""),i.b(i.v(i.f(" aria_description_id",t,e,0))),i.b('" class="u-hiddenvisually composerthumbnail-ariadescription">'),i.b(i.v(i.f("aria_description",t,e,0))),i.b("</div>\n")}),t.pop()),s.b("\n"+i),s.s(s.f("is_placeholder",t,e,1),t,e,1,0,0,"")||s.b(' <div class="composerthumbnail-overlay composerthumbnail-remove">\n <div class="icon icon--close icon--smallest"></div>\n </div>\n'),s.b("</div>\n"),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},i3qs:function(t,e,i){"use strict";e.a={backspace:8,clear:12,tab:9,enter:13,esc:27,page_up:33,page_down:34,end:35,home:36,left:37,up:38,right:39,down:40,delete:46,y:89,z:90}},i4aw:function(t,e,i){"use strict";function s(){this.scribeemailsettingsclick=function(t,e){this.scribe({page:"self_unsuspend",section:"banner",component:"email_verification",element:"settings",action:"click"})},this.scribephonesettingsclick=function(t,e){this.scribe({page:"self_unsuspend",section:"banner",component:"phone_verification",action:"click"})},this.scriberesendconfirmationemailclick=function(t,e){this.scribe({page:"self_unsuspend",section:"banner",component:"email_verification",element:"resend_confirmation_email",action:"click"})},this.after("initialize",function(){this.on("uiclickemailsettingslink",this.scribeemailsettingsclick),this.on("uiclickphonesettingslink",this.scribephonesettingsclick),this.on("uiresendconfirmationemail",this.scriberesendconfirmationemailclick)})}var n=i("dbjh"),o=i("3odc");e.a=object(n.default)(s,o.a)},iaiq:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div class="dmconversation-lastreadmarker">\n <div class="dmlastreadmarker">\n <div class="dmdivider">\n <span class="dmdivider-text">\n \n '),s.s(s.f("unread_count_one",t,e,1),t,e,0,181,197,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b("1 unread message")}),t.pop()),s.b("\n"+i),s.b(" "),s.s(s.f("unread_count_other",t,e,1),t,e,0,252,284,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.v(i.f("unread_count",t,e,0))),i.b(" unread messages")}),t.pop()),s.b("\n"+i),s.b(" \n </span>\n </div>\n </div>\n</div>"),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},icf7:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div class="videotrim">\n <div class="videotrim-shroud"></div>\n <div class="videotrim-videocontainer">\n <video class="videotrim-video" preload="auto"></video>\n <div class="videotrim-controls">\n <span class="videotrim-playstate">\n <span class="icon icon--play"></span>\n <span class="icon icon--pause"></span>\n </span>\n <div class="videotrim-timeline">\n <div class="videotrim-timelinecursor"></div>\n <div class="videotrim-scrubber">\n <div class="videotrim-timebubble"></div>\n <div class="videotrim-unplayedscrubber"></div>\n </div>\n </div>\n <span class="videotrim-timecontainer">\n <span class="videotrim-time"></span>\n <span class="videotrim-widesttime" aria-hidden="true"></span>\n </span>\n <span class="videotrim-audiostate">\n <span class="icon icon--soundon"></span>\n <span class="icon icon--soundoff"></span>\n </span>\n </div>\n </div>\n <div class="videotrim-selection">\n <div class="videotrim-ticks"></div>\n <div class="videotrim-innerselection">\n <div class="videotrim-midhandle">\n <div class="videotrim-hideticks"></div>\n <div class="videotrim-lefthandle"></div>\n <div class="videotrim-midhandlecursor"></div>\n <div class="videotrim-midhandleinner">\n <div class="videotrim-midhandlegrip"></div>\n </div>\n <div class="videotrim-righthandle"></div>\n </div>\n </div>\n </div>\n</div>\n\n\n'),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},ih6c:function(t,e,i){"use strict";var s=i("kgvp"),n=i("cztd"),o=i.n(n),a=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},r={extractmentionsforreply:function(t,e){var i=t.attr("data-screen-name"),n=t.attr("data-retweeter"),o=t.attr("data-mentions")?t.attr("data-mentions").split(" "):[],a=t.attr("data-tagged")?t.attr("data-tagged").split(" "):[];o=o.concat(a);var r=[i,e,n];return o=o.filter(function(t){return r.indexof(t)<0}),n&&n!==i&&n!==e&&o.unshift(n),(i&&!o.length||i!==e)&&o.unshift(i),s.a.unique(o)},linkify:function(t,e){return e=a({hashtagclass:"twitter-hashtag pretty-link",hashtagurlbase:"/search?q=%23",symboltag:"s",textwithsymboltag:"b",cashtagclass:"twitter-cashtag pretty-link",cashtagurlbase:"/search?q=%24",usernameclass:"twitter-atreply pretty-link",usernameurlbase:"/",usernameincludesymbol:!0,listclass:"twitter-listname pretty-link",urlclass:"twitter-timeline-link",urltarget:"_blank",suppressnofollow:!0,htmlescapenonentities:!0},e||{}),o.a.autolinkentities(t,o.a.extractentitieswithindices(t),e)}};e.a=r},"in+x":function(t,e,i){"use strict";function s(t){this.attr={id:null,limit:4,storagelist:"recentsearcheslist",maxlength:100,ttl_ms:12096e5,searchpathwithquery:"/search?src=typd&q=",querysource:"typed_query"},this.attr=n.default.merge(this.attr,t),this.getremotesuggestions=function(t,e,i){return i},this.requiresremotesuggestions=function(){return!1},this.removeallrecentsearches=function(){this.items=[],this.updatestorage()},this.getlocalsuggestions=function(t,e){if(t&&""!==t.query){e(this.items.filter(function(e){return 0===e.name.indexof(t.query)}).slice(0,this.attr.limit))}else e(this.items.slice(0,this.attr.limit))},this.updatestorage=function(){this.storage.setitem(this.attr.storagelist,this.items,this.attr.ttl_ms)},this.removeonerecentsearch=function(t){this.removerecentsearchfromlist(t.query),this.updatestorage()},this.addrecentsearch=function(t){t&&t.query&&(t.query=t.query.trim(),this.updaterecentsearchlist(t),this.updatestorage())},this.updaterecentsearchlist=function(t){var e=this.items,i={normalized_name:t.query.tolowercase(),name:t.query,recent_search_path:this.attr.searchpathwithquery+encodeuricomponent(t.query),search_query_source:this.attr.querysource};this.removerecentsearchfromlist(t.query),e.unshift(i),e.length>this.attr.maxlength&&e.pop()},this.removerecentsearchfromlist=function(t){for(var e=this.items,i=-1,s=t.tolowercase(),n=0;n<e.length;n++)if(e[n].normalized_name===s){i=n;break}-1!==i&&e.splice(i,1)},this.initialize=function(){var t=object(o.a)({withexpiry:!0});this.storage=new t("typeahead"),this.items=this.storage.getitem(this.attr.storagelist)||[]},this.initialize()}var n=i("yzit"),o=i("rwgq");e.a=s},id66:function(t,e,i){"use strict";(function(t){function i(){this.defaultattrs({momentitemselector:".momentcurationmenuitem",addtweetfrommomentselector:".momentcurationmenuitem:not(.is-member)",removetweetfrommomentselector:".momentcurationmenuitem.is-member",addtweettoothermomentselector:".js-actionmomentmakeraddtweettoothermoment",addtweettonewmomentselector:".js-actionmomentmakercreatemoment",momentmemberclass:"is-member"}),this.renderusermomentslist=function(t,e){this.select("momentitemselector").remove(),this.select("addtweettoothermomentselector").toggle(e.html.length>0).before(e.html)},this.setcurationclassvalue=function(t){var e=this;return function(i,s){return e.select("momentitemselector").filter("[data-moment-id="+s.moment_id+"]").toggleclass(e.attr.momentmemberclass,t)}},this.triggermomentcurationevent=function(e){return function(i,s,n){var o=t(s.el),a=o.attr("data-moment-id"),r=n.$tweet.attr("data-tweet-id");this.trigger(e,{moment_id:a,tweet_id:r,scribecontext:{component:"tweet_actions_dropdown"}}),this.trigger("uiclosedropdowns")}},this.getmomentswithevent=function(t){return function(e,i,s){var n=s.$tweet.attr("data-tweet-id");this.trigger(t,{tweet_id:n})}},this.after("initialize",function(){this.attr.loggedin&&(this.on("click",{addtweetfrommomentselector:this.composehandler(this.getclosesttweet,this.triggermomentcurationevent("uimomentmakeraddtweet")),removetweetfrommomentselector:this.composehandler(this.getclosesttweet,this.triggermomentcurationevent("uimomentmakerremovetweet")),addtweettoothermomentselector:this.composehandler(this.getclosesttweet,this.getmomentswithevent("uiopenaddtomomentdialog")),addtweettonewmomentselector:this.composehandler(this.getclosesttweet,this.triggermomentcurationevent("uimomentmakercreatemoment"))}),this.on("uidropdownopened",this.composehandler(this.getclosesttweet,this.getmomentswithevent("uimomentsgetdropdownusermoments"))),this.on(document,"datamomentmakeraddtweetsuccess",this.setcurationclassvalue(!0)),this.on(document,"datamomentmakerremovetweetsuccess",this.setcurationclassvalue(!1)),this.on(document,"datamomentsgetdropdownusermomentssuccess",this.renderusermomentslist))})}e.a=i}).call(e,i("4ksj"))},igdv:function(t,e,i){"use strict";function s(){this.defaultattrs({noshowerror:!0}),this.mergeerrorparams=function(t,e,i,s){return h({},t,{error:{type:e,code:i,message:s}})},this.sendimage=function(t,e){var i=this,s=e.media_data||{},n=function(t){return i.trigger("datamediasrucomplete",s),h({},e,{media_id:t})},o=d(t.target,"datadmsendfailed",function(t){return i.trigger("datamediasrucancel",s),i.mergeerrorparams(e,"media_upload",t.code,t.message)});return s.uploadid?this.mediasrufinalize(s).then(n,o):promise.resolve(e)},this._sendmessagepromise=function(t,e,i){var s=this;return new promise(function(n,o){var a=function(t){e(t),n()},r=function(t){i(t),o()};s.post({url:"/i/direct_messages/new",data:t,eventdata:t,success:a,error:r})})},this.sendmessage=function(t,e){var i=this,s=function(i,s){var n=this;return s&&s.retry&&"datadmdialogsendmessageretry"!==t.type?settimeout(function(){return n.trigger(i,"datadmdialogsendmessageretry",e)},s.delay):this.trigger(i,"datadmsendsuccess",s),s},n=d(t.target,"datadmsendfailed",function(t){return i.mergeerrorparams(e,"message_send",t.xhr.status,t.message)}).bind(this);return this._sendmessagepromise(e,s.bind(this,t.target),n)},this.getconversationqueue=function(t){if(t)return this.conversationqueues[t]=this.conversationqueues[t]||object(c.a)(),this.conversationqueues[t]},this.updateinflight=function(t){var e=this,i=object.keys(this.conversationqueues).reduce(function(t,i){return t[i]=e.conversationqueues[i].length(),t},{});return this.trigger("datadmmessagesinflight",i),t},this.enqueuemessage=function(t,e){var i=this.updateinflight.bind(this),s=this.getconversationqueue(t).enqueue(e).then(i,i);return this.updateinflight(),s},this.handlesend=function(t,e){var i=this;e.resend_id=e.resend_id||l.a.add({event:t,sendparams:e});var s=function(){return i.sendimage(t,e).then(i.sendmessage.bind(i,t))},n=e.conversation_id;return n?this.enqueuemessage(n,s):s()},this.discarddraftdata=function(t,e){e.resend_id&&l.a.remove(e.resend_id)},this.handleresend=function(t,e){var i=l.a.get(e.resend_id);i&&this.handlesend(i.event,i.sendparams)},this.after("initialize",function(){this.on("uidmsendmessage datadmdialogsendmessageretry",this.handlesend),this.on("uidmresendconfirm",this.handleresend),this.conversationqueues={},this.on("uidmconversationneedsinflightstate",this.updateinflight),this.on("datadmsendsuccess uidmresenddiscard",this.discarddraftdata)})}var n=i("dbjh"),o=i("ldny"),a=i("vtwx"),r=i("x+k1"),c=i("gshy"),l=i("h6fk"),h=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},d=o.a.triggerfn;e.a=object(n.default)(s,a.a,r.a)},ipyt:function(t,e,i){"use strict";(function(t){function s(){this.fitiframeheight=function(e,i){if(e&&i){var s=i.iframeselector||this.attr.iframeselector,o={};if(e.originalevent&&(e=e.originalevent),object(n.a)(e.origin,window.location)&&"string"==typeof e.data&&t.isfunction(i.isqualified))try{o=json.parse(e.data),o&&i.isqualified(o)&&(this.$node.find(s).css("height",o.height+"px"),t.isfunction(i.additonaltreatment)&&i.additonaltreatment(this.$node.find(s)))}catch(t){}}}}var n=i("hc4n");e.a=s}).call(e,i("4ksj"))},jhm3:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({streamitemselector:".js-stream-item",promotedtweetselector:".promoted-tweet",originaltweetselector:".js-original-tweet",favoritedclass:"favorited",favoritecountselector:".profiletweet-action--favorite .profiletweet-actioncount",tweetstatcountselector:"tweet-stat-count",tweetselectionalgorithmmap:{most_favorited:"getmostfavoritedtweet",mutual_follow:"getmutualfollowtweet",not_following:"getnotfollowingtweet"}}),this.getinsertionindex=function(t,e){var i=e.prompt,s=this.getinsertionindexforprompt(i);s<0||this.trigger("uiprompthasinsertionindex",{prompt:i,insertionindex:s})},this.geteligibletweets=function(){var e=this.attr.promotedtweetselector;return this.select("streamitemselector").filter(function(i,s){return 0===t(s).find(e).length})},this.getinsertionindexforprompt=function(e){var i=e.renderdata.pointertweetid||this.gettweetidforprompt(e);return this.select("streamitemselector").map(function(){return t(this).data("item-id").tostring()}).toarray().indexof(i)},this.gettweetidforprompt=function(t){var e=this.attr.tweetselectionalgorithmmap[t.renderdata.pointertweetselection];if(this[e]){var i=this[e]();return i.length>0?i.data("item-id").tostring():void 0}},this.getmutualfollowtweet=function(){var e=this;return this.geteligibletweets().filter(function(i,s){var n=t(s).find(e.attr.originaltweetselector);return n.data("you-follow")&&n.data("follows-you")}).eq(0)},this.getnotfollowingtweet=function(){var e=this;return this.geteligibletweets().filter(function(i,s){return!t(s).find(e.attr.originaltweetselector).data("you-follow")}).eq(0)},this.getmostfavoritedtweet=function(){var e=this;return this.geteligibletweets().filter(function(i,s){return!t(s).find(e.attr.originaltweetselector).hasclass(e.attr.favoritedclass)}).sort(function(i,s){var n=function(i){return t(i).find(e.attr.favoritecountselector).data(e.attr.tweetstatcountselector)};return n(s)-n(i)}).eq(0)},this.after("initialize",function(){this.on("uipromptneedsinsertionindex",this.getinsertionindex)})}var n=i("dbjh");e.a=object(n.default)(s)}).call(e,i("4ksj"))},jctv:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({tweetitemselector:".tweet",deleteselector:".js-actiondelete",shareviadmselector:".js-actionshareviadm",copylinktotweetselector:".js-actioncopylinktotweet",embedtweetselector:".js-actionembedtweet",embedvideoselector:".js-actionembedvideo",openadsinfolinkselector:".js-actionopenadsinfopage",openwhythisadmodalselector:".js-actionwhythisad",blockorreporttweetselector:".js-actionblockorreport",blocktweetselector:".js-actionblock",reporttweetselector:".js-actionreport",unblocktweetselector:".js-actionunblock",usertogglepintweetselector:".js-actionpintweet",curatetweetselector:".js-actioncuratetweet",curatetootherselector:".js-actioncuratetweetother",curatetonewtimelineselector:".js-actioncuratetweetnewtimeline",removemediatagselector:".js-actionremovetag",tweetcontainerselector:".js-stream-item",mediatagcontainerselector:".media-tags-container",pinnedtweetclass:"user-pinned",hastimelinesclass:"has-timelines"}),this.rendercustomtimelineslist=function(t,e){var i=this.select("curatetootherselector");this.select("curatetweetselector").remove(),i.before(e.html),this.select("curatetweetselector").length>0&&i.addclass(this.attr.hastimelinesclass)},this.curatetweet=function(e,i,s){var n=t(i.el),o=n.attr("data-timeline-id"),a=n.data("is-member"),r=s.tweetdata;r.timelineid=o,a?this.trigger("uicurateremovetweet",r):this.trigger("uicurateaddtweet",r),this.trigger("uiclosedropdowns")},this.getcustomtimelines=function(t,e,i){var s=i.$tweet.attr("data-tweet-id");this.trigger("uineedscustomtimelines",{tweetid:s})},this.confirmremovemediatag=function(t){this.trigger(t.target,"uiopenconfirmdialog",{titletext:object(n.default)("remove photo tag from tweet?"),bodytext:object(n.default)("are you sure you want to remove your photo tag from this tweet?"),canceltext:object(n.default)("cancel"),submittext:object(n.default)("ok"),action:"mediatagremove"})},this.removemediatag=function(t,e,i){this.trigger(document,"uididremovemediatag",i.tweetdata)},this.handleremovemediatagsuccess=function(t,e){object(a.a)(this.$node,this.attr.tweetitemselector,e.id_str).find(this.attr.mediatagcontainerselector).html(e.item_html),this.trigger("uishowmessage",{message:object(n.default)("photo tag removed")})},this.handleremovemediatagfailure=function(t){this.trigger("uishowmessage",{message:object(n.default)("cannot delete the tag. please try again later.")})},this.showconfirmpindialog=function(t){t.stopimmediatepropagation(),this.trigger(t.target,"uiopenconfirmdialog",{titletext:object(n.default)("pin this tweet to the top of your profile"),bodytext:object(n.default)("this will replace any previously pinned tweet. are you sure?"),canceltext:object(n.default)("cancel"),submittext:object(n.default)("pin"),action:"userpintweettoggle"})},this.showconfirmunpindialog=function(t){t.stopimmediatepropagation(),this.trigger(t.target,"uiopenconfirmdialog",{titletext:object(n.default)("unpin from your profile"),bodytext:object(n.default)("are you sure?"),canceltext:object(n.default)("cancel"),submittext:object(n.default)("unpin"),action:"userpintweettoggle"})},this.showuserpintoggledmessage=function(t,e){this.trigger("uishowstickymessage",e)},this.unpinothertweets=function(t,e){this.select("tweetitemselector").removeclass(this.attr.pinnedtweetclass),this.handletransition("addclass",this.attr.pinnedtweetclass).call(this,t,e)},this.handletransition=function(t,e){return function(i,s){var n=s.id||s.sourceeventdata.id;object(a.a)(this.$node,this.attr.tweetitemselector,n)[t](e)}},this.confirmpintoggle=function(t,e,i){var s=i.$tweet.hasclass(this.attr.pinnedtweetclass)?"uineeduserunpintweetconfirm":"uineeduserpintweetconfirm";this.trigger(i.$tweet,s)},this.togglepinnedtweet=function(t,e,i){return i.$tweet.hasclass(this.attr.pinnedtweetclass)?"uididuserunpintweet":"uididuserpintweet"},this.unblockfromtweetaction=function(t,e){this.trigger("uiclosedropdowns"),this.trigger("uiunblockaction",e)},this.openadsinfolink=function(t,e){window.open("https://business.twitter.com/help/how-twitter-ads-work","_blank"),this.trigger("uiclosedropdowns")},this.after("initialize",function(){var t=this.mktweetdatacollectorforaction(this.interactiondatawithcard);this.on("click",{embedtweetselector:this.composehandler(this.getclosesttweet,t,this.triggertweetaction("uineedsembedtweetdialog")),embedvideoselector:this.composehandler(this.getclosesttweet,t,this.triggertweetaction("uineedsembedvideodialog")),copylinktotweetselector:this.composehandler(this.getclosesttweet,t,this.triggertweetaction("uineedscopylinktotweetdialog")),openwhythisadmodalselector:this.composehandler(this.getclosesttweet,t,this.triggertweetaction("uineedswhythisaddialog")),openadsinfolinkselector:this.openadsinfolink}),this.attr.loggedin&&(this.on("click",{deleteselector:this.composehandler(this.getclosesttweet,t,this.triggertweetaction("uiopendeletedialog")),usertogglepintweetselector:this.composehandler(this.getclosesttweet,this.confirmpintoggle),shareviadmselector:this.composehandler(this.getclosesttweet,t,this.triggertweetaction("uicomposenewdmwithtweet")),curatetweetselector:this.composehandler(this.getclosesttweet,t,this.curatetweet),curatetootherselector:this.composehandler(this.getclosesttweet,t,this.triggertweetaction("uiopencuratedialog")),curatetonewtimelineselector:this.composehandler(this.getclosesttweet,t,this.triggertweetaction("uiopencreatecustomtimelinedialog")),removemediatagselector:this.confirmremovemediatag,blockorreporttweetselector:this.composehandler(this.getclosesttweet,t,this.triggertweetaction("uineedsblockorreportdialog")),blocktweetselector:this.composehandler(this.getclosesttweet,t,this.triggertweetaction("uineedsblockdialog")),unblocktweetselector:this.composehandler(this.getclosesttweet,t,this.triggertweetaction("uididunblockfromtweet")),reporttweetselector:this.composehandler(this.getclosesttweet,t,this.triggertweetaction("uineedsreportdialog"))}),this.on("uidropdownopened",this.composehandler(this.getclosesttweet,this.getcustomtimelines)),this.on("uiuserpintweettoggleconfirm",this.composehandler(this.getclosesttweet,t,this.triggertweetaction(this.togglepinnedtweet.bind(this)))),this.on("uimediatagremoveconfirm",this.composehandler(this.getclosesttweet,t,this.removemediatag)),this.on(document,"uihasinjectednewtimeline uihasinjectedoldtimelineitems uihasinjectedrangetimelineitems",this.applyariaattrs),this.on(document,"datagotcustomtimelines",this.rendercustomtimelineslist),this.on(document,"uineeduserpintweetconfirm",this.showconfirmpindialog),this.on(document,"uineeduserunpintweetconfirm",this.showconfirmunpindialog),this.on(document,"uididunblockfromtweet",this.unblockfromtweetaction),this.on(document,"datadiduserpintweet datadiduserunpintweet",this.showuserpintoggledmessage),this.on(document,"datadiduserpintweet",this.unpinothertweets),this.on(document,"uididuserpintweet datafailedtouserunpintweet",this.handletransition("addclass",this.attr.pinnedtweetclass)),this.on(document,"uididuserunpintweet datafailedtouserpintweet",this.handletransition("removeclass",this.attr.pinnedtweetclass)),this.on(document,"datamediatagremovesuccess",this.handleremovemediatagsuccess),this.on(document,"datamediatagremovefailure",this.handleremovemediatagfailure))})}var n=i("0d4m"),o=i("dbjh"),a=i("xo2u"),r=i("mgri"),c=i("alsu"),l=i("2kb6"),h=i("rhwy"),d=i("id66"),u=object(o.default)(s,r.a,h.a,c.a,l.a,d.a);e.a=u}).call(e,i("4ksj"))},jmwl:function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in a)e[s]||(e[s]=a[s]);return r.render(t,e,i)}var n=i("opvs").default,o={"dialogs/close_button":i("38hd")},a=n(o),r=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div class="modal modal-medium draggable">\n <div class="modal-content">\n'),s.b(s.rp("<dialogs/close_button0",t,e," ")),s.b(' <div class="modal-header">\n <h3 class="modal-title">\n '),s.s(s.f("is_create_dialog",t,e,1),t,e,0,194,217,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b("create a new collection")}),t.pop()),s.b("\n"+i),s.b(" "),s.s(s.f("is_create_dialog",t,e,1),t,e,1,0,0,"")||s.b("edit collection"),s.b("\n"+i),s.b(' </h3>\n </div>\n\n <div class="modal-body">\n <div class="custom-timeline-editor">\n '),s.s(s.f("is_create_dialog",t,e,1),t,e,0,430,621,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b('<p class="explanation">\n collections are public sets of tweets that you control.\n <br />\n create a collection, add tweets, and share it with the world.\n </p>')}),t.pop()),s.b("\n"),s.b("\n"+i),s.b(' <div class="field custom-timeline-name-field">\n <label class="t1-label" for="custom-timeline-name">collection name</label>\n <input type="text" class="text" name="name" id="custom-timeline-name" value=""),s.b(s.v(s.f(" timeline_name",t,e,0))),s.b('" aria-describedby="custom-timeline-name-help" />\n <p class="help-text">\n <span id="custom-timeline-name-help">25 characters</span>\n <span class="custom-timeline-name-count">25</span>\n </p>\n </div>\n <hr/>\n\n <div class="field custom-timeline-description-field">\n <label class="t1-label" for="custom-timeline-description">description</label>\n <textarea name="custom-timeline-description" id="custom-timeline-description" aria-describedby="custom-timeline-description-help">'),s.b(s.v(s.f("timeline_description",t,e,0))),s.b('</textarea>\n <p class="help-text">\n <span id="custom-timeline-description-help">160 characters, optional</span>\n <span class="custom-timeline-description-count">160</span>\n </p>\n </div>\n <hr/>\n\n <fieldset class="field">\n <legend class="t1-legend">collection order</legend>\n <div class="options">\n <label class="t1-label u-block">\n <input class="radio u-inlineblock" type="radio" name=""),s.b(s.v(s.f(" id_prefix",t,e,0))),s.b('-timeline-order" value="curation_reverse_chron" '),s.s(s.f("curation_reverse_chron",t,e,1),t,e,0,2037,2055,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' checked="checked" ')}),t.pop()),s.b(' />\n <b>recently added first</b>\n </label>\n <label class="t1-label u-block">\n <input class="radio u-inlineblock" type="radio" name=""),s.b(s.v(s.f(" id_prefix",t,e,0))),s.b('-timeline-order" value="tweet_chron" '),s.s(s.f("tweet_chron",t,e,1),t,e,0,2327,2345,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' checked="checked" ')}),t.pop()),s.b(' />\n <b>oldest first</b>\n </label>\n <label class="t1-label u-block">\n <input class="radio u-inlineblock" type="radio" name=""),s.b(s.v(s.f(" id_prefix",t,e,0))),s.b('-timeline-order" value="tweet_reverse_chron" '),s.s(s.f("tweet_reverse_chron",t,e,1),t,e,0,2614,2632,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' checked="checked" ')}),t.pop()),s.b(' />\n <b>newest first</b>\n </label>\n </div>\n </fieldset>\n <hr/>\n\n <div class="custom-timeline-editor-save">\n <button type="button" class="edgebutton edgebutton--primary update-custom-timeline-button" data-custom-timeline-id=""),s.b(s.v(s.f(" id",t,e,0))),s.b('" disabled>\n '),s.s(s.f("is_create_dialog",t,e,1),t,e,0,2994,3011,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b("create collection")}),t.pop()),s.b("\n"+i),s.b(" "),s.s(s.f("is_create_dialog",t,e,1),t,e,1,0,0,"")||s.b("save collection"),s.b("\n"+i),s.b(" </button>\n </div>\n </div>\n </div>\n </div>\n</div>\n"),s.fl()},partials:{"<dialogs/close_button0":{name:"dialogs/close_button",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:a,render:s}}).call(e,i("jtwp"))},jona:function(t,e,i){"use strict";function s(){this.defaultattrs({focusclass:"focus",activeclass:"active",fileinputselector:".file-input",uploadphotoselector:".photo-selector",imagebtnselector:".photo-selector .btn"}),this.hideanddisableimagebutton=function(){this.select("uploadphotoselector").hide()},this.showandenableimagebutton=function(){this.select("uploadphotoselector").show()},this.applyfocusstyleimagebutton=function(t){this.select("imagebtnselector").addclass(this.attr.focusclass)},this.removefocusstyleimagebutton=function(t){this.select("imagebtnselector").removeclass(this.attr.focusclass)},this.applyactivestyleimagebutton=function(t){this.select("imagebtnselector").addclass(this.attr.activeclass)},this.removeactivestyleimagebutton=function(t){this.select("imagebtnselector").removeclass(this.attr.activeclass)},this.after("initialize",function(){this.on("focusin",{fileinputselector:this.applyfocusstyleimagebutton}),this.on("focusout",{fileinputselector:this.removefocusstyleimagebutton}),this.on("mousedown",{fileinputselector:this.applyactivestyleimagebutton}),this.on("mouseup mouseleave",{fileinputselector:this.removeactivestyleimagebutton}),this.on("uienableimageselection",this.showandenableimagebutton),this.on("uidisableimageselection",this.hideanddisableimagebutton)})}e.a=s},k7b4:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({prompttype:null,promptselector:".promptbirdprompt",actionselector:".js-promptaction",dismissselector:".js-promptdismiss",promptlayoutcontainerselector:".js-prompt-layout-container",promptbirdstreamitemselector:".promptbirdprompt-streamitem",isstickyclass:"js-issticky",triggerimpressiononinsert:!0}),this.insertprompt=function(t){},this.removeprompt=function(t){t.closest(this.attr.promptlayoutcontainerselector).remove()},this.showprompt=function(t,e){var i=this.filterprompt(e.prompt);i&&(i.html=o.a.getprompthtml(i,this.attr.format),this.insertprompt(i),this.bootprompt(i),this.attr.triggerimpressiononinsert&&this.trigger("uipromptbirdpromptwasshown",this.triggerdata(i.id)))},this.bootprompt=function(t){var e=this;if(t.js_boot){var s=function(i){return i({promptelement:e.getpromptbypromptid(t.id)})};i.e(1).then(function(e){var n=i("wswo")("./"+t.js_boot).default;s(n)}.bind(null,i)).catch(i.oe)}},this.filterprompt=function(t){if(this.attr.prompttype===t.type)return t},this.actionclicked=function(e,i){this.triggerpromptaction(i.el,"uipromptbirdclick"),t(i.el).hasclass(this.attr.isstickyclass)||this.removeprompt(this.getpromptfromchild(i.el))},this.dismissclicked=function(t,e){t.preventdefault(),this.dismissprompt(e.el)},this.dismissprompt=function(e){this.triggerpromptaction(e,"uipromptbirddismissprompt");var i=t(e).closest(this.attr.promptbirdstreamitemselector);this.trigger(i,"uiremoveclassbeforepromptbird"),this.removeprompt(this.getpromptfromchild(e))},this.triggerpromptaction=function(e,i){var s=this.getpromptfromchild(e),n=s.data("prompt-intent"),o=s.data("prompt-intent-params"),a=parseint(s.data("prompt-id"),10),r=t(e).data("prompt-action-type"),c=t(e).data("prompt-scribe-action");this.trigger(i,this.triggerdata(a,n,o,r,c))},this.triggerdata=function(t,e,i,s,n){return{scribecontext:{component:"promptbird_"+t},prompt_id:t,intent:e,intent_params:i,prompt_action_type:s,prompt_scribe_action:n}},this.getpromptfromchild=function(e){return t(e).closest(this.attr.promptselector)},this.getpromptbypromptid=function(t,e){var i=this.attr.promptselector+"[data-prompt-id=""+t+""]",s=this.$node.find(i).addback(i);return e?s.closest(this.attr.promptlayoutcontainerselector):s},this.getpromptidfromnode=function(t){return(t.is(this.attr.promptselector)?t:t.find(this.attr.promptselector)).data("prompt-id")},this.after("initialize",function(){this.on(document,"uipromptbirdshouldrenderprompt",this.showprompt),this.on("click",{actionselector:this.actionclicked,dismissselector:this.dismissclicked})})}var n=i("dbjh"),o=i("gxxu");e.a=object(n.default)(s)}).call(e,i("4ksj"))},kpi8:function(t,e,i){"use strict";function s(){this.defaultattrs({intent:"post_then_trigger"}),this.action=function(t){var e=this,i=o.a.decode(t),s=i.post_path,n=i.success_event_name,a=i.fail_event_name,r=this.tryparsedata(i.post_data),c=this.tryparsedata(i.success_event_data),l=this.tryparsedata(i.fail_event_data);return this.post({url:s,data:r}).then(function(){return e.trigger(n,c)}).catch(function(){a&&e.trigger(a,l)})},this.tryparsedata=function(t){var e=void 0;try{e=json.parse(t)}catch(t){e={}}return e}}var n=i("r5ni"),o=i("tx0g"),a=i("vtwx");e.a=n.a.mixin(s,a.a)},"ks/n":function(t,e,i){"use strict";function s(){this.attributes({defaultdisplayduration:5e3,defaulticon:void 0}),this.displaynotification=function(t,e){if(e&&"granted"===notification.permission){var i=new notification(e.title,{body:e.body,icon:e.icon||this.attr.defaulticon,tag:e.tag});this.trigger("uinativenotificationtriggered",{type:e.type}),i.onclick=this.clickcallback.bind(this,e.click,e.type),i.onerror=this.errorcallback.bind(this,e.error,e.type),settimeout(i.close.bind(i),e.displayduration||this.attr.defaultdisplayduration)}},this.clickcallback=function(t,e,i){i.target.close&&i.target.close(),this.trigger("uinativenotificationclicked",{type:e}),this.triggereventwithdata(t)},this.errorcallback=function(t,e){this.trigger("uinativenotificationerror",{type:e}),this.triggereventwithdata(t)},this.triggereventwithdata=function(t){t&&t.eventname&&this.trigger(t.eventname,t.eventdata||{})},this.requestpermission=function(){var t=this;notification.requestpermission(function(e){switch(e){case"granted":t.trigger("uinativenotificationpermissiongranted");break;case"denied":t.trigger("uinativenotificationpermissiondenied");break;case"default":t.trigger("uinativenotificationpermissiondismissed")}}),this.trigger("uinativenotificationpermissionrequested")},this.after("initialize",function(){"notification"in window&&(this.on("uirequestnativenotificationpermission",this.requestpermission),this.on("uidisplaynativenotification",this.displaynotification))})}var n=i("dbjh"),o=object(n.default)(s);e.a=o},koam:function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in a)e[s]||(e[s]=a[s]);return r.render(t,e,i)}var n=i("opvs").default,o={"dm/dm_typeahead_item":i("y2i5")},a=n(o),r=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("<li class="dmtokenizedmultiselectsuggestion "),s.b(s.v(s.f("suggestion_class",t,e,0))),s.b(" "),s.s(s.f("preselected",t,e,1),t,e,0,81,95,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b("is-preselected")}),t.pop()),s.b(" "),s.s(s.f("selected",t,e,1),t,e,0,125,136,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b("is-selected")}),t.pop()),s.b('" data-token-id=""),s.b(s.v(s.f(" data_token_id",t,e,0))),s.b('" data-token-text=""),s.b(s.v(s.f(" data_token_text",t,e,0))),s.b('" role="option" tabindex="-1">\n <div class="dmtokenizedmultiselectsuggestion-body">\n'),s.b(s.rp("<dm/dm_typeahead_item0",t,e," ")),s.b(' </div>\n <div class="dmtokenizedmultiselectsuggestion-state">\n <span class="dmtokenizedmultiselectsuggestion-selectedindicator icon icon--check"></span>\n <span class="dmtokenizedmultiselectsuggestion-preselectedindicator">in group</span>\n </div>\n</li>\n'),s.fl()},partials:{"<dm/dm_typeahead_item0":{name:"dm/dm_typeahead_item",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:a,render:s}}).call(e,i("jtwp"))},kz7r:function(t,e,i){"use strict";function s(){this.after("initialize",function(){this.scribeonevent("uipushpromptshown",{component:"push_manager",element:"soft_prompt",action:"impression"}),this.scribeonevent("uipushpromptclick",{component:"push_manager",element:"soft_prompt",action:"click"}),this.scribeonevent("uipushpromptdismiss",{component:"push_manager",element:"soft_prompt",action:"dismiss"}),this.scribeonevent("uibrowserpushpromptimpression",{component:"push_manager",element:"browser_prompt",action:"impression"}),this.scribeonevent("uibrowserpushpromptallow",{component:"push_manager",element:"browser_prompt",action:"permissions_granted"}),this.scribeonevent("uibrowserpushpromptdeny",{component:"push_manager",element:"browser_prompt",action:"permissions_denied"}),this.scribeonevent("uibrowserpushpermissiondenied",{component:"push_manager",action:"permissions_denied"}),this.scribeonevent("uibrowserpushpromptdismiss",{component:"push_manager",element:"browser_prompt",action:"dismiss"}),this.scribeonevent("uibrowserpushprompterror",{component:"push_manager",element:"browser_prompt",action:"permissions_error"}),this.scribeonevent("uibrowserpushunsubscribe",{component:"push_manager",action:"disable"}),this.scribeonevent("uibrowsersilentsubscribeattempt",{component:"push_manager",element:"silent_subscribe",action:"impression"}),this.scribeonevent("uibrowsersilentsubscribeerror",{component:"push_manager",element:"silent_subscribe",action:"error"}),this.scribeonevent("uibrowsersilentsubscribesuccess",{component:"push_manager",element:"silent_subscribe",action:"success"})})}var n=i("dbjh"),o=i("3odc");e.a=object(n.default)(o.a,s)},l8cn:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("<a href="#" class="dmreadreceiptuserlist-expandseen">\n \n '),s.s(s.f("user_count_one",t,e,1),t,e,0,80,100,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.v(i.f("user_count",t,e,0))),i.b(" other")}),t.pop()),s.b("\n"+i),s.b(" "),s.s(s.f("user_count_other",t,e,1),t,e,0,145,166,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.v(i.f("user_count",t,e,0))),i.b(" others")}),t.pop()),s.b("\n"+i),s.b(" \n</a>"),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},lrgq:function(t,e,i){"use strict";(function(t){function i(){this.defaultattrs({focusclass:"focus",focuscontainerselector:".tweet"}),this.addfocusstyle=function(e,i){t(i.el).addclass(this.attr.focusclass)},this.addfocusstyletotarget=function(e){t(e.target).addclass(this.attr.focusclass)},this.removefocusstyle=function(e,i){var s=this;settimeout(function(){var e=i.el,n=document.activeelement;t.contains(e,n)||e===n||t(e).removeclass(s.attr.focusclass)},0)},this.after("initialize",function(){this.on(document,"uishouldaddfocusstyle",this.addfocusstyletotarget),this.on("focusin",{focuscontainerselector:this.addfocusstyle}),this.on("focusout",{focuscontainerselector:this.removefocusstyle})})}e.a=i}).call(e,i("4ksj"))},ltdq:function(t,e,i){"use strict";function s(){this.createactionhandler=function(t,e){var i=this;return function(s,n){return i.post({url:"/i/moments/edit/"+n.moment_id+"/"+t,data:n,success:"datamomentmaker"+e+"tweetsuccess",error:"datamomentmaker"+e+"tweetfailure"})}},this.bindaction=function(t){var e=t.charat(0).touppercase()+t.slice(1).tolowercase();this.on("uimomentmaker"+e+"tweet",this.createactionhandler(t.tolowercase(),e))},this.sortmoment=function(t,e){this.post({url:"/i/moments/edit/"+e.moment_id+"/sort",data:e,success:"datamomentmakersortmomentsuccess",error:this.genericerrormessage.bind(this)})},this.editmetadata=function(t,e){this.post({url:"/i/moments/edit/"+e.moment_id+"/meta",data:e,success:"datamomentmakereditmetasuccess",error:"datamomentmakereditmetafailure",noabortonnavigate:!0})},this.setcoverdata=function(t,e){this.post({url:"/i/moments/edit/"+e.moment_id+"/update_cover",data:e,success:"datamomentmakersetcoversuccess",error:"datamomentmakersetcoverfailure"})},this.setcovercropdata=function(t,e){this.post({url:"/i/moments/edit/"+e.moment_id+"/update_cover",data:e,success:"datamomentmakersetcovercropsuccess",error:"datamomentmakersetcovercropfailure"})},this.setcoverdatabymediaid=function(t,e){function i(){this.trigger("datamomentmakersetcoverfailure")}var s=this,n=e.fileid,a=o.a.get(n);if(a)return this.trigger(document,"uimediasruinit",{fileid:n,uploadid:a.uploadid,mediacategory:a.mediacategory}),this.mediasrufinalize(a).then(function(t){return s.post({url:"/i/moments/edit/"+e.momentid+"/update_cover/"+t,success:"datamomentmakersetcoversuccess",error:"datamomentmakersetcoverfailure"})}).catch(function(t){throw i(),t})},this.createmoment=function(t,e){function i(t){this.trigger("uinavigate",{href:t.url})}function s(){this.trigger("uishowerror",{message:object(l.default)("something went wrong. this moment couldn't be created. give it a minute, then try again.")})}this.post({url:"/i/moments/create",data:e,success:i.bind(this),error:s.bind(this)})},this.deletemoment=function(t,e){function i(t){this.trigger("datamomentmakerdeletemomentsuccess",{href:t.href||"/i/moments"})}this.post({url:"/i/moments/delete",data:e,success:i.bind(this),error:"datamomentmakerdeletemomentfailure"})},this.updatecrop=function(t,e){function i(){this.trigger("datamomentmakerupdatecropfailure"),this.genericerrormessage()}this.post({url:"/i/moments/edit/"+e.moment_id+"/update_crop",data:e,success:"datamomentmakerupdatecropsuccess",error:i.bind(this)})},this.updatemomentvisibility=function(t,e){function i(t){t&&t.permission_error?this.trigger("uishowerror",{message:object(l.default)("you do not currently have permission to perform this action.")}):this.trigger("uimomentmakerupdatevisibilitysuccess",h({},t,e))}function s(){this.trigger("uimomentmakerupdatevisibilityerror",e),this.genericerrormessage()}this.post({url:"/i/moments/visibility/"+e.moment_id,data:{mode:e.visibility_mode},success:i.bind(this),error:s.bind(this)})},this.updatensfwsetting=function(t,e){function i(){this.trigger("uishowmessage",{message:object(l.default)("moment sensitivity updated successfully.")})}function s(){this.trigger("datamomentmakerupdatensfwerror",{previous_value:e.previous_value})}this.post({url:"/i/moments/edit/"+e.moment_id+"/update_nsfw",data:e,success:i.bind(this),error:s.bind(this)})},this.updatepublishlocationsetting=function(t,e){function i(){this.trigger("uishowmessage",{message:object(l.default)("moment location setting updated successfully.")})}function s(){this.trigger("datamomentmakerupdatepublishlocationerror",{previous_value:e.previous_value})}this.post({url:"/i/moments/edit/"+e.moment_id+"/update_publish_location",data:e,success:i.bind(this),error:s.bind(this)})},this.updatethemecolorsetting=function(t,e){function i(){this.trigger("datamomentmakerupdatethemecolorerror",{previous_value:e.previous_value})}this.post({url:"/i/moments/edit/"+e.moment_id+"/update_theme_color",data:e,success:"datamomentmakerupdatethemecolorsuccess",error:i.bind(this)})},this.genericerrormessage=function(){this.trigger("uishowerror",{message:object(l.default)("something went wrong. give it a minute, then try again.")})},this.after("initialize",function(){this.bindaction("add"),this.bindaction("remove"),this.bindaction("reorder"),this.on("uimomentmakersortmoment",this.sortmoment),this.on("uimomentmakereditmeta",this.editmetadata),this.on("uimomentmakersetcover",this.setcoverdata),this.on("uimomentmakersetcovercrop",this.setcovercropdata),this.on("uimomentmakersetcoverbymediaid",this.setcoverdatabymediaid),this.on("uimomentmakercreatemoment",this.createmoment),this.on("uimomentmakerdeletemoment",this.deletemoment),this.on("uimomentmakerupdatevisibility",this.updatemomentvisibility),this.on("uimomentmakerupdatecrop",this.updatecrop),this.on("uimomentmakerupdatensfw",this.updatensfwsetting),this.on("uimomentmakerupdatepublishlocation",this.updatepublishlocationsetting),this.on("uimomentmakerupdatethemecolor",this.updatethemecolorsetting)})}var n=i("dbjh"),o=i("h6fk"),a=i("vtwx"),r=i("9np9"),c=i("x+k1"),l=i("0d4m"),h=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t};e.a=object(n.default)(s,a.a,r.a,c.a)},lbzy:function(t,e,i){"use strict";(function(t){function s(){this.clickitems=function(t,e){this.trigger("uiitemclick")},this.itemselect=function(){var t=void 0,e={index:this.node.selectedindex},i=void 0;if(this.node.selectedindex>=0){i=this.node.options[this.node.selectedindex];for(var s=0;s<i.attributes.length;s++)t=i.attributes[s].name,e[t]=i.attributes[s].value;e.text=i.innerhtml}this.trigger("uiitemselect",e)},this.setitems=function(e,i){var s=this;this.$node.empty(),i.items&&i.items.foreach(function(e){var i=t("<option />");for(var n in e)"text"===n?i.html(e[n]):i.attr(n,e[n]);i.appendto(s.$node)}),this.itemselect()},this.after("initialize",function(){this.node.jquery&&(this.node=this.node[0]),this.attr.items&&this.node.trigger("setitems",{items:this.attr.items}),this.on("setitems",this.setitems),this.on("change",this.itemselect),this.on("mousedown",this.clickitems)})}var n=i("dbjh");e.a=object(n.default)(s)}).call(e,i("4ksj"))},lcsn:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<span class="emojipicker-categorycolumn">\n'),s.s(s.f("categories",t,e,1),t,e,0,59,205,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <button type="button" class="emojicategoryicon emojicategoryicon--"),i.b(i.v(i.f("id",t,e,0))),i.b("" title=""),i.b(i.v(i.f(" title",t,e,0))),i.b('" data-category=""),i.b(i.v(i.f(" id",t,e,0))),i.b('" tabindex="-1"></button>\n')}),t.pop()),s.b("</span>"),s.b('<span class="emojipicker-maincolumn">\n <div class="emojipicker-query">\n <input class="emojipicker-queryinput" type="text" autocomplete="off" placeholder="search for emoji">\n <button type="button" class="icon icon--close emojipicker-clearquery"></button>\n </div>\n <div class="emojipicker-scrollablerow">\n <div class="emojipicker-loading">\n <span class="spinner-bigger"></span>\n </div>\n <div class="emojipicker-results">\n'),s.s(s.f("categories",t,e,1),t,e,0,723,1107,"{{ }}")&&(s.rs(t,e,function(t,e,s){s.b(' <div class="emojipicker-categoryresult" data-category=""),s.b(s.v(s.f(" id",t,e,0))),s.b('">\n <h3 class="emojipicker-categoryheader">\n '),s.b(s.v(s.f("title",t,e,0))),s.b("\n"+i),s.s(s.f("is_recent",t,e,1),t,e,0,894,999,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <button type="button" class="emojipicker-clearrecent btn-link">clear</button>\n')}),t.pop()),s.b(' </h3>\n <div class="emojipicker-categoryitems"></div>\n </div>\n')}),t.pop()),s.b(' </div>\n </div>\n <div class="emojipicker-diversityrow">'),s.s(s.f("skin_tones",t,e,1),t,e,0,1208,1466,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b('<input class="emojipicker-skintone" type="radio" name="skin-tone" value=""),i.b(i.v(i.f(" value",t,e,0))),i.b('" title=""),i.b(i.v(i.f(" title",t,e,0))),i.b('"><span class="emojipicker-skintoneswatch">'),i.b('<span class="icon icon--checklight icon--smallest"></span>'),i.b("</span>")}),t.pop()),s.b("</div>\n</span>\n"),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},ldny:function(t,e,i){"use strict";(function(t){e.a={triggerfn:function(e,i,s){return i=array.isarray(i)?i:[i],function(n){i.foreach(function(i){var o=t.isfunction(i)?i(n):i,a=t.isfunction(s)?s(n):s;o&&t(e).trigger(o,a||n)})}},chain:function(){var e=array.prototype.slice.call(arguments);return function(){var i=array.prototype.slice.call(arguments);for(var s in e)t.isfunction(e[s])&&e[s].apply(e[s],i)}}}}).call(e,i("4ksj"))},liht:function(t,e,i){"use strict";function s(){this.defaultattrs({sharedtweetselector:".directmessage-tweet"}),this.opensharedtweet=function(t,e){this.trigger("uidmdialogsharedtweetclick")},this.after("initialize",function(){this.on("click",{sharedtweetselector:this.opensharedtweet})})}var n=i("dbjh"),o=i("o/dd"),a=object(n.default)(s,o.a);e.a=a},lsln:function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in a)e[s]||(e[s]=a[s]);return r.render(t,e,i)}var n=i("opvs").default,o={"dialogs/close_button":i("38hd"),"media/video_trim":i("icf7")},a=n(o),r=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div class="modal draggable mediaeditdialog'),s.s(s.f("is_video",t,e,1),t,e,1,0,0,"")||s.b(" mediaeditdialog--photo"),s.b('">\n <div class="modal-content">\n'),s.b(s.rp("<dialogs/close_button0",t,e," ")),s.b(' <div class="modal-header">\n <h3 class="modal-title">'),s.b(s.v(s.f("title",t,e,0))),s.b("</h3>\n </div>\n"),s.s(s.f("is_video",t,e,1),t,e,0,259,2741,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <div class="mediaeditdialog-videosection">\n <div class="modal-body">\n'),i.b(i.rp("<media/video_trim1",t,e," ")),i.s(i.f("whitelisted_video_user",t,e,1),t,e,0,411,2503,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(' <form class="mediaeditform form-horizontal">\n <div class="control-group">\n <div class="mediaeditform-titlecharcounter charcounter">\n <input class="mediaeditform-title charcounter-target js-initial-focus" type="text" name="video_metadata[title]" value=""),i.b(i.v(i.f(" video_title",t,e,0))),i.b('" placeholder="type the title of your video here" />\n <div class="charcounter-counter"></div>\n </div>\n </div>\n <div class="control-group">\n <div class="mediaeditform-descriptioncharcounter charcounter">\n <textarea class="mediaeditform-description charcounter-target" name="video_metadata[description]" placeholder="type a brief description here.">'),i.b(i.v(i.f("video_description",t,e,0))),i.b('</textarea>\n <div class="charcounter-counter"></div>\n </div>\n </div>\n <div class="control-group mediaeditform-ctacontainer">\n <select class="mediaeditform-ctaselect"),i.s(i.f(" has_cta",t,e,1),t,e,1,0,0,"")||i.b(" u-inactive"),i.b(' t1-select" name="video_metadata[cta]">\n <option value="" '),i.s(i.f("has_cta",t,e,1),t,e,1,0,0,"")||i.b(" selected"),i.b('>choose a call to action</option>\n <option value="visit_site" '),i.s(i.f("is_cta_visit_site",t,e,1),t,e,0,1674,1683,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(" selected")}),t.pop()),i.b('>visit site:</option>\n <option value="watch_now" '),i.s(i.f("is_cta_watch_now",t,e,1),t,e,0,1791,1800,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(" selected")}),t.pop()),i.b('>watch now:</option>\n </select>\n <input class="mediaeditform-ctaurl"),i.s(i.f(" has_cta",t,e,1),t,e,1,0,0,"")||i.b(" u-hidden"),i.b('" type="text" name="video_metadata[cta_url]" value=""),i.b(i.v(i.f(" video_ctl_url",t,e,0))),i.b('" placeholder="website" />\n </div>\n <div class="control-group">\n <div class="checkbox">\n <label>\n <input class="mediaeditform-embeddable" type="checkbox" name="video_metadata[embeddable]" value="true" '),i.s(i.f("is_video_embeddable",t,e,1),t,e,0,2322,2329,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b("checked")}),t.pop()),i.b(">\n allow video to be embedded\n </label>\n </div>\n </div>\n </form>\n")}),t.pop()),i.b(' </div>\n <div class="modal-footer text-right">\n <button type="button" class="edgebutton edgebutton--primary js-done">\n done\n </button>\n </div>\n </div>\n')}),t.pop()),s.s(s.f("is_video",t,e,1),t,e,1,0,0,"")||(s.b(' <div class="mediaeditdialog-photosection">\n <div class="modal-body"><div class="mediaeditdialog-photocontainer"></div></div>\n'),s.s(s.f("can_compose_alt_text",t,e,1),t,e,0,2944,3380,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <div class="mediaeditdialog-footer modal-footer">\n <textarea aria-label="image description" class="mediaeditdialog-alttexttextarea js-initial-focus" placeholder="describe this photo for the visually impaired" maxlength="420">'),i.b(i.v(i.f("alt_text",t,e,0))),i.b('</textarea>\n <button type="button" class="edgebutton edgebutton--primary js-done mediaeditdialog-applyalttextbutton" disabled>apply</button>\n </div>\n')}),t.pop()),s.b(" </div>\n")),s.b(" </div>\n</div>\n"),s.fl()},partials:{"<dialogs/close_button0":{name:"dialogs/close_button",partials:{},subs:{}},"<media/video_trim1":{name:"media/video_trim",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:a,render:s}}).call(e,i("jtwp"))},"m24/":function(t,e,i){"use strict";(function(t){function s(){this.attributes({avatarselector:".dmtypingindicator-avatar",avatarscontainerselector:".dmtypingindicator-avatarscontainer",containerselector:".dmconversation-typingindicator",messagebubbleselector:".typingindicatormessagebubble",overflowavatarselector:".dmtypingindicator-avatar.is-overflowavatar",overflowavatarclass:"is-overflowavatar",overflowcountselector:".dmtypingindicator-overflowcount",typingindicatorselector:".dmtypingindicator",showhideduration:300,avatardisplayduration:4e3,maxnumavatars:5}),this.reset=function(t,e){this.$container.addclass("u-hidden").css({height:""}),this.$avatarscontainerselector.empty(),this.$messagebubble.addclass("is-hidden"),this.activeavatarlist().foreach(function(t){return cleartimeout(t.timer)}),this.activeavatars={}},this.show=function(){this.$container.stop().clearqueue().css({height:""}).removeclass("u-hidden"),this.$messagebubble.removeclass("is-hidden"),this.trigger("uidmtypingindicatorshown")},this.hideanimation=function(){return this.$messagebubble.addclass("is-hidden"),this.$container.delay(250).animate({height:0},this.attr.showhideduration).promise()},this.hide=function(e){var i=this;(e?this.hideanimation():t.deferred().resolve().promise()).then(function(){i.activeavatarlist().length?i.show():(i.$avatarscontainerselector.empty(),i.$container.addclass("u-hidden"))})},this.updateoverflow=function(){var e=this.activeavatarlist().length,i=t(h.a.render({count:e-this.attr.maxnumavatars+1}));this.$avatarscontainerselector.find(this.attr.overflowcountselector).remove();var s=e-this.attr.maxnumavatars>0;s&&this.$avatarscontainerselector.append(i);var n=this.select("avatarselector").not(".is-hidden").not(this.attr.overflowavatarselector);n.css("visibility","");var o=this.attr.maxnumavatars-n.length;if(o>0){var a=this.select("overflowavatarselector").slice(0,o);a.removeclass(this.attr.overflowavatarclass),s&&a.last().css("visibility","hidden")}},this.addavatar=function(e){var i=this.profileimagedata[e].image_url,s=this.profileimagedata[e].name;if(i){var n=t(c.a.render({alt:s,image_count:1,images:[{src:i}],overflow:this.activeavatarlist().length>=this.attr.maxnumavatars}));!this.activeavatarlist().length&&this.$avatarscontainerselector.empty(),this.$avatarscontainerselector.append(n),this.activeavatars[e]={timer:this.setremovetimeout(e),node:n},this.updateoverflow(),this.$container.hasclass("u-hidden")&&this.show()}},this.setremovetimeout=function(t){return settimeout(this.removeavatar.bind(this,t,!0),this.attr.avatardisplayduration)},this.refreshtimer=function(t){var e=this.activeavatars[t];e&&(cleartimeout(e.timer),e.timer=this.setremovetimeout(t))},this.iseventforcurrentconvo=function(t,e){return this.conversationid&&this.conversationid===e.conversation_id},this.removeavatar=function(t,e){var i=this.activeavatars[t];if(i){cleartimeout(i.timer);var s=1===this.activeavatarlist().length;!s&&i.node.addclass("is-hidden"),delete this.activeavatars[t],this.updateoverflow(),s&&this.hide(e)}},this.activeavatarlist=function(){return object.keys(this.activeavatars)},this.handleuserupdate=function(t,e){var i=this;if(!e.should_request_inbox&&!e.is_empty){var s=(e.conversations||[]).filter(function(t){return t.conversation_id===i.conversationid})[0];s&&!s.is_empty&&(this.avatarstoclear.foreach(function(t){return i.removeavatar(t,!1)}),this.avatarstoclear=[])}},this.handleconversationupdate=function(t,e){e.conversation_id!==this.conversationid&&(this.reset(),this.conversationid=e.conversation_id);var i=e.participants||[];this.profileimagedata=i.reduce(function(t,e){return t[e.id]={image_url:e.profile_image_url,name:e.name},t},{})},this.handleupdateevent=function(t,e){e.user_id&&this.avatarstoclear.push(e.user_id)},this.handletypingevent=function(t,e){var i=e.user_id;if(o.a.user.id!==i){this.activeavatars[i]?this.refreshtimer(i):this.addavatar(i)}},this.after("addavatar",function(){this.trigger("uidmtypingindicatoravataradded",{num_avatars:this.activeavatarlist().length})}),this.after("refreshtimer",function(){this.trigger("uidmtypingindicatoravatarrefreshed",{num_avatars:this.activeavatarlist().length})}),this.after("initialize",function(){this.activeavatars={},this.profileimagedata={},this.avatarstoclear=[],this.$container=this.select("containerselector"),this.$avatarscontainerselector=this.select("avatarscontainerselector"),this.$messagebubble=this.select("messagebubbleselector"),this.on(document,"datadmuserupdates",this.handleuserupdate),this.on(document,"uidmconversationupdated",this.handleconversationupdate),this.on(document,"datadmtyping",object(a.a)(this.handletypingevent,this.iseventforcurrentconvo)),this.on(document,"datadmupdate",object(a.a)(this.handleupdateevent,this.iseventforcurrentconvo))})}var n=i("dbjh"),o=i("iamj"),a=i("4oun"),r=i("+71d"),c=i.n(r),l=i("0t2c"),h=i.n(l);e.a=object(n.default)(s)}).call(e,i("4ksj"))},mbsm:function(t,e,i){"use strict";function s(){this.scribeclickonbutton=function(t,e){this.scribe({element:"media_tag_prompt",action:"click"},e)},this.scribeuserselected=function(t,e){e.items.length&&this.scribe({component:"media_tag",element:"taggable_user",action:"click"},e)},this.scribeusernotselected=function(t,e){this.scribe({component:"media_tag",element:"nontaggable_user",action:"click"},e)},this.scribetweet=function(t,e){e.tweetdata.tagged_users&&e.tweetdata.tagged_users.length&&e.tweetdata.in_reply_to_status_id&&e.tweetdata.in_reply_to_status_id.length?this.scribe({action:"reply_with_tags"},e):e.tweetdata.tagged_users&&e.tweetdata.tagged_users.length&&this.scribe({action:"tweet_with_tags"},e)},this.after("initialize",function(){this.on("uishowselectpopover",this.scribeclickonbutton),this.on("uiupdatedselectedusers",this.scribeuserselected),this.on("uisendtweetwithmedia",this.scribetweet),this.on("uicouldnotselectuser",this.scribeusernotselected)})}var n=i("dbjh"),o=i("3odc");e.a=object(n.default)(s,o.a)},mdlq:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.s(s.f("emojified_text_as_html",t,e,1),t,e,0,27,55,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.t(i.f("emojified_text_as_html",t,e,0)))}),t.pop()),s.s(s.f("emojified_text_as_html",t,e,1),t,e,1,0,0,"")||s.b(s.v(s.f("text",t,e,0))),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},mpc1:function(t,e,i){"use strict";var s={feedbacknpscardname:"2586390716:feedback_nps",feedbackcsatcardname:"2586390716:feedback_csat",feedbacknpsscribecomponentname:"nps_feedback_survey",feedbackcsatscribecomponentname:"csat_feedback_survey"};e.a=s},"n/jq":function(t,e,i){"use strict";function s(){this.defaults={cancelselector:".cancel-action",blockselector:".block-action"},this.openblockuser=function(t,e){var i={useronly:!0,modal:"block"};this.attr.sourceeventdata=e,this.displaytweet(e.tweetid,i),this.open()},this.blockuser=function(){this.trigger("uididblockuser",{sourceeventdata:this.attr.sourceeventdata}),this.close()},this.after("initialize",function(){this.on("click",{cancelselector:this.close,blockselector:this.blockuser}),this.on(document,"uiopenblockuserdialog",this.openblockuser)})}var n=i("dbjh"),o=i("uhc7"),a=i("wqlg");e.a=object(n.default)(s,o.a,a.a)},n85q:function(t,e,i){"use strict";function s(t){var e=t.match(n);if(e)return e[1];throw new error("unexpected mustache path: "+t)}var n=/^\.\/(.+)\.mustache$/,o=function(t){var e={};return t.keys().foreach(function(i){var n=s(i);e[n]=t(i)}),e}(i("aixw"));e.a=o},nvga:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({showshortcutsbtnselector:"#show-shortcuts-btn",dismissshortcutsbtnselector:"#dismiss-shortcuts-btn",suppresssrmsgcookie:"suppress_sr_shortcuts_msg",loggedin:!1,closeonotherdialogopened:!0,keyboardshortcuts:[]}),this.rendersrmessage=function(){if(!t("#kb-shortcuts-msg").length){var e=h.a.render({});t(e).insertbefore(document.body.firstchild)}},this.addmessage=function(){object(a.a)(this.attr.suppresssrmsgcookie)||this.rendersrmessage()},this.removemessage=function(){t("#kb-shortcuts-msg").remove(),object(a.a)(this.attr.suppresssrmsgcookie,"1",{expires:1/0})},this.rendershortcutsdialog=function(){if(!t("#keyboard-shortcut-dialog").length){var e={keyboard_shortcuts:this.attr.keyboardshortcuts};t("body").append(c.a.render(e)),this.$dialogcontainer=t("#keyboard-shortcut-dialog"),this.$dialog=this.$dialogcontainer.find(this.attr.modalselector)}},this.showshortcutsdialog=function(){this.rendershortcutsdialog(),this.open()},this.after("initialize",function(){this.on(document,"click",{showshortcutsbtnselector:this.showshortcutsdialog,dismissshortcutsbtnselector:this.removemessage}),this.on(document,"uiswiftloaded",this.addmessage),this.on(document,"uiopenkeyboardshortcutsdialog",this.showshortcutsdialog)})}var n=i("dbjh"),o=i("uhc7"),a=i("dsp6"),r=i("qfjf"),c=i.n(r),l=i("bdsg"),h=i.n(l),d=object(n.default)(s,o.a);e.a=d}).call(e,i("4ksj"))},nffu:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.s(s.f("protected",t,e,1),t,e,0,14,128,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b('<span class="icon icon--protected">'),i.b('<span class="u-hidden">protected tweets</span>'),i.b("</span>")}),t.pop()),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},nnea:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({stickerselector:".stickersmediaimage-stickerimage",stickerlinkselector:".stickersmediaimage-stickerlink",stickermediaimageselector:".stickersmediaimage",hittestingenabledclass:"is-hittesting"}),this.animatesticker=function(e){var i=t(e.target),s="stickeranimation-"+i.data("animationrefindex"),n=i.data("currentanimationpattern");n="a"===n?"b":"a",i.data("currentanimationpattern",n),s=s+"-"+n,i.css("-webkit-animation-name",s),i.css("animation-name",s)},this.transformsticker=function(t,e){return"matrix("+t.matrix.join(",")+")scale("+e+")"},this.generatestickerdataarray=function(t){var e=this.select("imageselector").width();this.stickerdata=t.map(function(t,i){var s=e*t.aspectratio;return h({width:e,height:s,halfwidth:e/2,halfheight:s/2,animationrefindex:i,matrix:[t.transforma,t.transformb,t.transformc,t.transformd,t.transformtx*e,t.transformty*s]},t)},this)},this.generatetemplatevariables=function(t,e,i,s){var n=math.ceil((e.width()-i.width())/2);return{image:t.src,width:t.width,height:t.height,bgwidth:i.width(),bgheight:i.height(),blackbarwidth:n,stickers:this.stickerdata.map(function(t){return h({},t,{link:s?"/i/stickers/"+t.id:"",transform:this.transformsticker(t,1)})},this)}},this.rendermainimageandstickerplaceholders=function(t,e){this.generatestickerdataarray(e);var i=r.a.getdecidervalue("stickersinteractivity"),s=this.generatetemplatevariables(t,this.select("gallerymediaselector"),this.select("imageselector"),i),n=l.a.render(s);this.$current.attr("loaded",!0),this.stickersfirstvisibletime=date.now(),this.select("gallerymediaselector").html(n),this.$stickerscontainer=this.select("stickermediaimageselector"),r.a.getdecidervalue("stickersinteractivityduringloading")||this.enablehittesting()},this.detectedbrowser=function(){return object(n.a)().name},this.isnotfirefoxorie=function(){var t=this.detectedbrowser();return!("mozilla"===t||"msie"===t)},this.isvalidbrowserforsvg=function(){return!(document.implementation&&!document.implementation.hasfeature("http://www.w3.org/tr/svg11/feature#image","1.1"))&&this.isnotfirefoxorie()},this.hypot=function(t,e){return math.sqrt(t*t+e*e)},this.getbiggestrastersticker=function(t){var e=t.images.raster;return e[e.length-1].url},this.findbestsizedrastersticker=function(t){for(var e=!1,i=t.width*this.hypot(t.matrix[0],t.matrix[2]),s=t.height*this.hypot(t.matrix[1],t.matrix[3]),n=t.images.raster,o=0;o<n.length-1;o++)if(n[o].w>i&&n[o].h>s){e=n[o].url;break}return e||this.getbiggestrastersticker(t)},this.determinestickerurl=function(t){return this.isvalidbrowserforsvg()&&t.images.vector?t.images.vector.url:this.findbestsizedrastersticker(t)},this.loadstickersasbloburls=function(t,e,i){var s=this;this.rendermainimageandstickerplaceholders(t,e);var n=this.stickerdata.map(function(t){return t.url=s.determinestickerurl(t),t.url}),a=this.$stickerscontainer.width(),r=this.$stickerscontainer.height();i===this.currentstickerkey&&o.a.createmapofbloburls(n).then(function(t){i===s.currentstickerkey&&(s.urltobloburlmap=t,promise.all(s.stickerdata.map(function(t){return this.generatehittestpixels(t,a,r,i)},s)).then(function(){return s.beginhittesting()}))})},this.loadmainimageandstickers=function(t,e,i){var s=this;a.a.load(t,function(t){var n=t[0];s.loadstickersasbloburls(n,e,i)})},this.replacemediawithimageandstickers=function(t){var e=this.getlargemediaurl(this.$current),i=e+json.stringify(t);this.currentstickerkey!==i&&(this.currentstickerkey=i,this.loadmainimageandstickers(e,t,i))},this.resetstickers=function(){this.lasthitindex=-1,this.$stickerscontainer=null,this.ishittesting=!1,this.stickerdata=[],this.currentstickerkey=null,this.urltobloburlmap&&o.a.revokemapofbloburls(this.urltobloburlmap),this.urltobloburlmap=null},this.generatehittestpixels=function(t,e,i,s){var n=this,o=document.createelement("canvas");o.width=e,o.height=i;var a=new image,r=this.getbloburlforsticker(t);return new promise(function(c,l){if(a.onload=function(){var s=o.getcontext("2d");s.transform.apply(s,t.matrix),s.drawimage(a,-t.halfwidth,-t.halfheight,t.width,t.height),t.hittestpixels=s.getimagedata(0,0,e,i),c(t)},a.onerror=l,s!==n.currentstickerkey||!r)return l();a.src=n.urltobloburlmap[t.url]})},this.enablehittesting=function(){this.select("galleryselector").addclass(this.attr.hittestingenabledclass),this.ishittesting=!0},this.getbloburlforsticker=function(t){return this.urltobloburlmap&&this.urltobloburlmap[t.url]},this.replacetempimageswithrealimages=function(){var e=this;this.select("stickerselector").each(function(i,s){var n=e.stickerdata[i],o=e.getbloburlforsticker(n);o&&t(s).css("background-image","url("+o+")")})},this.beginhittesting=function(){this.enablehittesting(),this.replacetempimageswithrealimages();var t=this.select("stickerselector"),e=math.max(0,d-(date.now()-this.stickersfirstvisibletime));settimeout(function(){return t.trigger("uianimatesticker")},e)},this.getstickerhitindex=function(t){if(!this.$stickerscontainer)return-1;var e=this.$stickerscontainer[0].getboundingclientrect(),i=e.bottom-e.top,s=e.right-e.left;if(!s||!i)return-1;var n=this.$stickerscontainer.offset(),o=(t.pagex-n.left)/s,a=(t.pagey-n.top)/i;return o<0||o>=1||a<0||a>=1?-1:this.stickerdata.reduce(function(t,e,i){var s=e.hittestpixels;return s&&s.data[4*(math.floor(o*s.width)+math.floor(a*s.height)*s.width)+3]?i:t},-1)},this.animateifhittestchanged=function(t){if(this.ishittesting){var e=this.getstickerhitindex(t);e!==this.lasthitindex&&(this.lasthitindex=e,this.select("stickerlinkselector").css("cursor",e>=0?"pointer":"default"),e>=0&&this.select("stickerselector").eq(e).trigger("uianimatesticker"))}},this.navigateifhittestsucceeds=function(t){if(this.ishittesting){var e=this.getstickerhitindex(t);e>=0&&this.select("stickerselector").eq(e).trigger("click")}},this.preventwhenhittesting=function(t){this.ishittesting&&t.originalevent&&(t.stoppropagation(),t.preventdefault())},this.after("initialize",function(){this.resetstickers(),this.on("uianimatesticker",{stickerselector:this.animatesticker}),this.on("mousemove",{stickermediaimageselector:this.animateifhittestchanged}),this.on("click",{stickerlinkselector:this.preventwhenhittesting}),this.on("mouseup",{stickerlinkselector:this.navigateifhittestsucceeds})}),this.before("teardown",this.resetstickers)}e.a=s;var n=i("rw6j"),o=i("+dwm"),a=i("/zmn"),r=i("iamj"),c=i("w3xn"),l=i.n(c),h=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},d=500}).call(e,i("4ksj"))},nub0:function(t,e,i){"use strict";function s(){this.addcarduritoparams=function(t,e){this.carduri=e&&e.carduri},this.removecarduritoparams=function(){delete this.carduri},this.after("initialize",function(){this.on(document,"uisetdmcreatecarduriparam",this.addcarduritoparams),this.on(document,"uiresetdmcreatecarduriparam",this.removecarduritoparams)}),this.after("reset",function(){this.removecarduritoparams()})}e.a=s},nwdm:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({emailsettingslinkselector:".email-settings-link",phonesettingslinkselector:".phone-settings-link",resendconfirmationemaillinkselector:".resend-confirmation-email-link",resetbouncelinkselector:".reset-bounce-link"}),this.emailsettingslink=function(){this.trigger("uiclickemailsettingslink")},this.phonesettingslink=function(){this.trigger("uiclickphonesettingslink")},this.resendconfirmationemail=function(e,i){this.trigger("uiresendconfirmationemail",{unsuspend:t(e.target).hasclass("unsuspend-confirmation")})},this.resetbouncelink=function(){this.trigger("uiresetbouncelink")},this.after("initialize",function(){this.on("click",{emailsettingslinkselector:this.emailsettingslink,phonesettingslinkselector:this.phonesettingslink,resendconfirmationemaillinkselector:this.resendconfirmationemail,resetbouncelinkselector:this.resetbouncelink})})}var n=i("dbjh");e.a=object(n.default)(s)}).call(e,i("4ksj"))},"o/dd":function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({jsmediapreviewselector:".js-media-preview",jstweetselector:'.js-stream-tweet:not(".rtbad-container")',jslinkselector:".js-link",jspermalinkselector:".js-permalink",jsdetailslinkselector:".js-details",jsadaptivephotoselector:".js-adaptive-photo",playablemediaplayerselector:".playablemedia-player",quotetweetselector:".quotetweet-container",quotetweetclass:"quotetweet-container",quotetweetinnerselector:".quotetweet-innercontainer",pushstate:!0,expandohandleselector:".js-open-close-tweet span",dropdownselector:".profiletweet-action .dropdown-menu",withheldtweetclass:"withheld-tweet",profiletweetactionbuttonselector:".js-actionbutton",profiletweetactioncountselector:".js-actioncount",jstweettextcontainer:".js-tweet-text-container",jsexpandedtweettextselector:".js-expanded-tweet-text",jstweettext:".js-tweet-text",newwindowclass:"js-new-window"}),this.shouldnavigatetopermalink=function(t){return this.attr.ismobile||this.isquotetweet(t)},this.isquotetweet=function(t){return t.hasclass(this.attr.quotetweetclass)},this.handlemediapreviewclick=function(e,i){var s=t(i.el),n=s.closest(this.attr.jstweetselector);this.shouldexpandwhentargetis(t(e.target),n)&&(e.preventdefault(),e.stoppropagation(),this.handleclick(e,n,!0))},this.handlequotetweetclick=function(t){var e=t.closest("[data-tweet-id]").attr("data-tweet-id"),i=t.find(this.attr.quotetweetinnerselector).attr("data-item-id"),s=[{id:e,item_type:a.a.tweet},{id:i,item_type:a.a.quotedtweet}];this.trigger("uiquotetweetclick",{items:s})},this.handletweetclick=function(e,i){var s=t(i.el);this.isquotetweet(s)&&this.handlequotetweetclick(s),this.shouldexpandwhentargetis(t(e.target),s)&&(e.preventdefault(),e.stoppropagation(),this.handleclick(e,s,!1))},this.handleclick=function(t,e,i){var s=e.hasclass(this.attr.quotetweetclass),n=e.find(this.attr.jspermalinkselector),o=s?n.attr("href"):e.data("permalink-path"),a=s?n.data("conversation-id"):e.data("conversation-id"),c=e.closest("[data-impression-id]"),l={impressionid:c.attr("data-impression-id"),disclosuretype:c.attr("data-disclosure-type"),impressioncookie:c.attr("data-impression-cookie"),href:o,conversation_id:a};!i&&this.shouldnavigatetopermalink(e)&&this.setimpressioncookieonprofiletweet(e),e.trigger("uihasclickedtweet",r({},l,{organicexpansion:!0})),this.modifierkey(t)||n.length&&(n.attr("target")||n.hasclass(this.attr.newwindowclass))?this.opennewtab(o):this.trigger("uinavigate",l)},this.opennewtab=function(t){window.open(t,"_blank").opener=null},this.setimpressioncookieonprofiletweet=function(t){if(t.hasclass("profile-promoted-tweet")){var e=t.closest("[data-impression-cookie]").attr("data-impression-cookie");if(e){var i=new date,s=new date(i.gettime()+1e4);this.setcookie(e,s)}}},this.shouldexpandwhentargetis=function(t,e){return!this.selectedtext()&&!e.hasclass(this.attr.withheldtweetclass)&&(this.targetiswhitelistedtoexpandtweet(t,e)||!this.targetisblacklistedtoexpandtweet(t,e))},this.targetiswhitelistedtoexpandtweet=function(t,e){var i=[this.attr.expandohandleselector,this.attr.jsdetailslinkselector,this.attr.jsmediapreviewselector,this.attr.quotetweetselector];return t.closest(i.join(),e).length>0},this.targetisblacklistedtoexpandtweet=function(t,e){var i=["a","button",this.attr.jslinkselector,this.attr.dropdownselector,this.attr.jsadaptivephotoselector,this.attr.playablemediaplayerselector];return t.closest(i.join(),e).length},this.selectedtext=function(){return n.a.getselection()},this.modifierkey=function(t){return t.shiftkey||t.ctrlkey||t.metakey||t.which>1},this.preventfocusonclick=function(t){t.preventdefault()},this.setcookie=function(t,e){object(o.a)("ic",t,{expires:e})},this.after("initialize",function(){this.on("click",{jsmediapreviewselector:this.handlemediapreviewclick,quotetweetselector:this.handletweetclick,jstweetselector:this.handletweetclick}),this.on("uishortcutenter",{quotetweetselector:this.handletweetclick}),this.on("mousedown",{profiletweetactionbuttonselector:this.preventfocusonclick,profiletweetactioncountselector:this.preventfocusonclick,quotetweetselector:this.preventfocusonclick})})}e.a=s;var n=i("mj5m"),o=i("dsp6"),a=i("rbkv"),r=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t}}).call(e,i("4ksj"))},o3dw:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({cancelselector:".cancel-action",deleteselector:".delete-action"}),this.opendeletetweet=function(t,e){this.attr.sourceeventdata=e,this.displaytweet(e.tweetid,{modal:"delete"}),this.id=e.id,this.open()},this.deletetweet=function(){this.trigger("uididdeletetweet",{id:this.id,sourceeventdata:this.attr.sourceeventdata})},this.deletetweetsuccess=function(t,e){this.trigger("uididdeletetweetsuccess",this.attr.sourceeventdata),this.close()},this.restorefocustotweet=function(e){t(e.target).is(this.$dialog)&&this.activeel&&this.trigger(t(this.activeel).closest(".tweet"),"uishouldaddfocusstyle")},this.after("initialize",function(){this.on("click",{cancelselector:this.close,deleteselector:this.deletetweet}),this.on(document,"uiopendeletedialog",this.opendeletetweet),this.on(document,"datadiddeletetweet",this.deletetweetsuccess),this.on(document,"uidialogrestorepreviousfocus",this.restorefocustotweet),this.on(document,"uiclosedeletetweetdialog",this.close)})}var n=i("dbjh"),o=i("uhc7"),a=i("wqlg"),r=object(n.default)(s,o.a,a.a);e.a=r}).call(e,i("4ksj"))},ohux:function(t,e,i){"use strict";function s(){this.savesearch=function(t,e){this.post({url:"/i/saved_searches/create.json",data:e,eventdata:{scribecomponent:e.scribecomponent,scribeaction:"add"},success:"dataaddedsavedsearch",error:"datasavedsearcherror"})},this.removesavedsearch=function(t,e){this.post({url:"/i/saved_searches/destroy/"+encodeuricomponent(e.id)+".json",data:"",eventdata:{scribecomponent:e.scribecomponent,scribeaction:"remove"},success:"dataremovedsavedsearch",error:"datasavedsearcherror"})},this.after("initialize",function(){this.on("uiaddsavedsearch",this.savesearch),this.on("uiremovesavedsearch",this.removesavedsearch)})}var n=i("dbjh"),o=i("vtwx");e.a=object(n.default)(s,o.a)},opmg:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("<style id="user-style-"),s.b(s.v(s.f(" screen_name",t,e,0))),s.b('">\n'),s.b("\n"+i),s.s(s.f("user_color",t,e,1),t,e,0,395,1485,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" a,\n a:hover,\n a:focus,\n a:active {\n color: #"),i.b(i.v(i.f("user_color",t,e,0))),i.b(";\n }\n\n .u-textusercolor,\n .u-textusercolorhover:hover,\n .u-textusercolorhover:hover .profiletweet-actioncount,\n .u-textusercolorhover:focus {\n color: #"),i.b(i.v(i.f("user_color",t,e,0))),i.b(" !important;\n }\n\n .u-borderusercolor,\n .u-borderusercolorhover:hover,\n .u-borderusercolorhover:focus {\n border-color: #"),i.b(i.v(i.f("user_color",t,e,0))),i.b(" !important;\n }\n\n .u-bgusercolor,\n .u-bgusercolorhover:hover,\n .u-bgusercolorhover:focus {\n background-color: #"),i.b(i.v(i.f("user_color",t,e,0))),i.b(" !important;\n }\n\n .u-dropdownusercolor > li:hover,\n .u-dropdownusercolor > li:focus,\n .u-dropdownusercolor > li > button:hover,\n .u-dropdownusercolor > li > button:focus,\n .u-dropdownusercolor > li > a:focus,\n .u-dropdownusercolor > li > a:hover {\n color: #fff !important;\n background-color: #"),i.b(i.v(i.f("user_color",t,e,0))),i.b(" !important;\n }\n\n .u-boxshadowinsetusercolorhover:hover,\n .u-boxshadowinsetusercolorhover:focus {\n box-shadow: inset 0 0 0 5px #"),i.b(i.v(i.f("user_color",t,e,0))),i.b(" !important;\n }\n\n .u-dropdownopenusercolor.dropdown.open .dropdown-toggle {\n color: #"),i.b(i.v(i.f("user_color",t,e,0))),i.b(";\n }\n")}),t.pop()),s.b("\n"+i),s.s(s.f("user_color_light",t,e,1),t,e,0,1575,1935,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" .u-textusercolorlight {\n color: #"),i.b(i.v(i.f("user_color_light",t,e,0))),i.b(" !important;\n }\n\n .u-borderusercolorlight,\n .u-borderusercolorlightfocus:focus,\n .u-borderusercolorlighthover:hover,\n .u-borderusercolorlighthover:focus {\n border-color: #"),i.b(i.v(i.f("user_color_light",t,e,0))),i.b(" !important;\n }\n\n .u-bgusercolorlight {\n background-color: #"),i.b(i.v(i.f("user_color_light",t,e,0))),i.b(" !important;\n }\n")}),t.pop()),s.b("\n"+i),s.s(s.f("rgba_user_color_lighter",t,e,1),t,e,0,2045,2195,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" .u-boxshadowusercolorlighterfocus:focus {\n box-shadow: 0 0 8px rgba(0, 0, 0, 0.05), inset 0 1px 2px "),i.b(i.v(i.f("rgba_user_color_lighter",t,e,0))),i.b(" !important;\n }\n")}),t.pop()),s.b("\n"+i),s.s(s.f("user_color_lightest",t,e,1),t,e,0,2304,2568,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" .u-textusercolorlightest {\n color: #"),i.b(i.v(i.f("user_color_lightest",t,e,0))),i.b(" !important;\n }\n\n .u-borderusercolorlightest {\n border-color: #"),i.b(i.v(i.f("user_color_lightest",t,e,0))),i.b(" !important;\n }\n\n .u-bgusercolorlightest {\n background-color: #"),i.b(i.v(i.f("user_color_lightest",t,e,0))),i.b(" !important;\n }\n")}),t.pop()),s.b("\n"+i),s.s(s.f("user_color_lighter",t,e,1),t,e,0,2671,2929,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" .u-textusercolorlighter {\n color: #"),i.b(i.v(i.f("user_color_lighter",t,e,0))),i.b(" !important;\n }\n\n .u-borderusercolorlighter {\n border-color: #"),i.b(i.v(i.f("user_color_lighter",t,e,0))),i.b(" !important;\n }\n\n .u-bgusercolorlighter {\n background-color: #"),i.b(i.v(i.f("user_color_lighter",t,e,0))),i.b(" !important;\n }\n")}),t.pop()),s.b("\n"+i),s.s(s.f("user_color_dark",t,e,1),t,e,0,3025,3202,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" .u-bgusercolordarkhover:hover {\n background-color: #"),i.b(i.v(i.f("user_color_dark",t,e,0))),i.b(" !important;\n }\n\n .u-borderusercolordark {\n border-color: #"),i.b(i.v(i.f("user_color_dark",t,e,0))),i.b(" !important;\n }\n")}),t.pop()),s.b("\n"+i),s.s(s.f("user_color_darker",t,e,1),t,e,0,3299,3399,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" .u-bgusercolordarkeractive:active {\n background-color: #"),i.b(i.v(i.f("user_color_darker",t,e,0))),i.b(" !important;\n }\n")}),t.pop()),s.b("\n"),s.b("\n"+i),s.b("\n"+i),s.b("\n"+i),s.b("a,\n.btn-link,\n.btn-link:focus,\n.icon-btn,\n"),s.b(".pretty-link b,\n.pretty-link:hover s,\n.pretty-link:hover b,\n.pretty-link:focus s,\n.pretty-link:focus b,\n"),s.b(".metadata a:hover,\n.metadata a:focus,\n"),s.b("a.account-group:hover .fullname,\na.account-group:focus .fullname,\n.account-summary:focus .fullname,\n"),s.b(".message .message-text a,\n.message .message-text button,\n.stats a strong,\n.plain-btn:hover,\n.plain-btn:focus,\n.dropdown.open .user-dropdown.plain-btn,\n.open > .plain-btn,\n#global-actions .new:before,\n.module .list-link:hover,\n.module .list-link:focus,\n"),s.b(".stats a:hover,\n.stats a:hover strong,\n.stats a:focus,\n.stats a:focus strong,\n"),s.b(".find-friends-sources li:hover .source,\n\n"),s.b("\n"+i),s.b(".stream-item a:hover .fullname,\n.stream-item a:focus .fullname,\n"),s.b(".stream-item .view-all-supplements:hover,\n.stream-item .view-all-supplements:focus,\n"),s.b(".tweet .time a:hover,\n.tweet .time a:focus,\n.tweet .details.with-icn b,\n.tweet .details.with-icn .icon,\n"),s.b(".stream-item:hover .original-tweet .details b,\n.stream-item .original-tweet.focus .details b,\n.stream-item.open .original-tweet .details b,\n"),s.b(".client-and-actions a:hover,\n.client-and-actions a:focus,\n"),s.b(".dismiss-btn:hover b,\n"),s.b(".tweet .context .pretty-link:hover s,\n.tweet .context .pretty-link:hover b,\n.tweet .context .pretty-link:focus s,\n.tweet .context .pretty-link:focus b,\n"),s.b(".list .username a:hover,\n.list .username a:focus,\n.list-membership-container .create-a-list,\n.list-membership-container .create-a-list:hover,\n.new-tweets-bar,\n\n"),s.b(".card .list-details a:hover,\n.card .list-details a:focus,\n.card .card-body:hover .attribution,\n.card .card-body .attribution:focus {\n color: #"),s.b(s.v(s.f("user_color",t,e,0))),s.b(";\n}\n\n"),s.s(s.f("user_color",t,e,1),t,e,0,6174,12273,"{{ }}")&&(s.rs(t,e,function(t,e,s){s.s(s.f("logged_in",t,e,1),t,e,0,6191,6771,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" #global-actions > li > a {\n border-bottom-color: #"),i.b(i.v(i.f("user_color",t,e,0))),i.b(";\n }\n\n #global-actions > li:hover > a,\n #global-actions > li > a:focus,\n #global-actions > li.active .text,\n .dashuserdropdown.dropdown-menu .nightmode-toggle .icon,\n .nav.right-actions > li > a:hover,\n .nav.right-actions > li > a:focus {\n color: #"),i.b(i.v(i.f("user_color",t,e,0))),i.b(";\n }\n\n"),i.s(i.f("web_notifications_badge_on",t,e,1),t,e,0,6597,6737,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(" #global-actions .people.new:before {\n content: none;\n }\n")}),t.pop())}),t.pop()),s.b("\n"+i),s.b(" .foundmediasearch--keyboard .foundmediasearch-focusable.is-focused {\n border-color: #"),s.b(s.v(s.f("user_color",t,e,0))),s.b(";\n }\n\n"),s.b(" .photo-selector:hover .btn,\n .icon-btn:hover,\n .icon-btn:active,\n .icon-btn.active,\n .icon-btn.enabled {\n border-color: #"),s.b(s.v(s.f("user_color",t,e,0))),s.b(";\n border-color: "),s.b(s.v(s.f("rgba_user_color_light",t,e,0))),s.b(";\n color: #"),s.b(s.v(s.f("user_color",t,e,0))),s.b(";\n }\n\n"),s.b(" .photo-selector:hover .btn,\n .icon-btn:hover {\n background-image: linear-gradient(rgba(255,255,255,0), "),s.b(s.v(s.f("rgba_user_color_lightest",t,e,0))),s.b(");\n }\n\n .icon-btn.disabled,\n .icon-btn.disabled:hover,\n .icon-btn[disabled],\n .icon-btn[aria-disabled=true] {\n color: #"),s.b(s.v(s.f("user_color",t,e,0))),s.b(";\n }\n\n"),s.b("\n"+i),s.b(" .edgebutton--primary,\n .edgebutton--primary:focus {\n background-color: #"),s.b(s.v(s.f("user_color_medium",t,e,0))),s.b(";\n border-color: transparent;\n }\n\n .edgebutton--primary:hover,\n .edgebutton--primary:active {\n background-color: #"),s.b(s.v(s.f("user_color",t,e,0))),s.b(";\n border-color: #"),s.b(s.v(s.f("user_color",t,e,0))),s.b(";\n }\n\n .edgebutton--primary:focus {\n box-shadow:\n 0 0 0 2px #"),s.b(s.v(s.f("page_panel_background_color",t,e,0))),s.b(",\n 0 0 0 4px #"),s.b(s.v(s.f("user_color_light",t,e,0))),s.b(";\n }\n\n .edgebutton--primary:active {\n box-shadow:\n 0 0 0 2px #"),s.b(s.v(s.f("page_panel_background_color",t,e,0))),s.b(",\n 0 0 0 4px #"),s.b(s.v(s.f("user_color_medium",t,e,0))),s.b(";\n }\n\n"),s.b("\n"+i),s.b(" .edgebutton--secondary,\n .edgebutton--secondary:hover,\n .edgebutton--secondary:focus,\n .edgebutton--secondary:active {\n border-color: #"),s.b(s.v(s.f("user_color",t,e,0))),s.b(";\n color: #"),s.b(s.v(s.f("user_color",t,e,0))),s.b(";\n }\n\n .edgebutton--secondary:hover,\n .edgebutton--secondary:active {\n background-color: #"),s.b(s.v(s.f("user_color_lightest",t,e,0))),s.b(";\n }\n\n .edgebutton--secondary:focus {\n box-shadow:\n 0 0 0 2px #"),s.b(s.v(s.f("page_panel_background_color",t,e,0))),s.b(",\n 0 0 0 4px "),s.b(s.v(s.f("rgba_user_color_light",t,e,0))),s.b(";\n }\n\n .edgebutton--secondary:active {\n box-shadow:\n 0 0 0 2px #"),s.b(s.v(s.f("page_panel_background_color",t,e,0))),s.b(",\n 0 0 0 4px #"),s.b(s.v(s.f("user_color",t,e,0))),s.b(";\n }\n\n"),s.b("\n"+i),s.b(" .edgebutton--invertedprimary {\n color: #"),s.b(s.v(s.f("user_color",t,e,0))),s.b(" !important;\n }\n\n .edgebutton--invertedprimary:focus {\n box-shadow:\n 0 0 0 2px #"),s.b(s.v(s.f("user_color",t,e,0))),s.b(",\n 0 0 0 4px #"),s.b(s.v(s.f("user_color_light",t,e,0))),s.b(";\n }\n\n .edgebutton--invertedprimary:active {\n box-shadow:\n 0 0 0 2px #"),s.b(s.v(s.f("user_color",t,e,0))),s.b(",\n 0 0 0 4px #"),s.b(s.v(s.f("page_panel_background_color",t,e,0))),s.b(";\n }\n\n"),s.b("\n"+i),s.b(" .edgebutton--invertedsecondary {\n background-color: #"),s.b(s.v(s.f("user_color",t,e,0))),s.b(";\n }\n\n .edgebutton--invertedsecondary:hover {\n background-color: #"),s.b(s.v(s.f("user_color_medium",t,e,0))),s.b(";\n }\n\n .edgebutton--invertedsecondary:focus {\n box-shadow:\n 0 0 0 2px #"),s.b(s.v(s.f("user_color",t,e,0))),s.b(",\n 0 0 0 4px #"),s.b(s.v(s.f("user_color_light",t,e,0))),s.b(";\n }\n\n .edgebutton--invertedsecondary:active {\n box-shadow:\n 0 0 0 2px #"),s.b(s.v(s.f("user_color",t,e,0))),s.b(",\n 0 0 0 4px #"),s.b(s.v(s.f("page_panel_background_color",t,e,0))),s.b(";\n }\n\n"),s.b("\n"+i),s.b(" .btn:focus,\n .btn.focus,\n .button:focus,\n .emojipicker-item.is-focused,\n .emojipicker .emojicategoryicon:focus,\n .emojipicker-skintone:focus + .emojipicker-skintoneswatch,\n a:focus > img:first-child:last-child,\n button:focus {\n box-shadow:\n 0 0 0 2px #"),s.b(s.v(s.f("page_panel_background_color",t,e,0))),s.b(",\n 0 0 2px 4px "),s.b(s.v(s.f("rgba_user_color_light",t,e,0))),s.b(";\n }\n\n .selected-stream-item:focus {\n box-shadow: 0 0 0 3px "),s.b(s.v(s.f("rgba_user_color_light",t,e,0))),s.b(";\n }\n\n"),s.b(' .js-navigable-stream.stream-table-view .selected-stream-item[tabindex="-1"]:focus {\n outline: 3px solid '),s.b(s.v(s.f("rgba_user_color_light",t,e,0))),s.b(" !important;\n }\n\n"),s.b(" .js-navigable-stream.stream-table-view .selected-stream-item:focus {\n box-shadow: none;\n }\n\n"),s.b("\n"+i),s.b(" .global-dm-nav.new.with-count .dm-new .count-inner {\n background: #"),s.b(s.v(s.f("user_color",t,e,0))),s.b(";\n }\n\n .global-nav .people .count .count-inner {\n background: #"),s.b(s.v(s.f("user_color",t,e,0))),s.b(";\n }\n\n .dropdown-menu li > a:hover,\n .dropdown-menu li > a:focus,\n .dropdown-menu .dropdown-link:hover,\n .dropdown-menu .dropdown-link:focus,\n .dropdown-menu .dropdown-link.is-focused,\n .dropdown-menu li:hover .dropdown-link,\n .dropdown-menu li:focus .dropdown-link,\n .dropdown-menu .selected a,\n .dropdown-menu .dropdown-link.selected {\n background-color: #"),s.b(s.v(s.f("user_color",t,e,0))),s.b(" !important;\n }\n\n /* for items in typeahead dropdown menu on logged in pages */\n .dropdown-menu .typeahead-items li > a:focus,\n .dropdown-menu .typeahead-items li > a:hover,\n .dropdown-menu .typeahead-items .selected,\n .dropdown-menu .typeahead-items .selected a {\n background-color: #"),s.b(s.v(s.f("user_color_lightest",t,e,0))),s.b(" !important;\n color: #"),s.b(s.v(s.f("user_color",t,e,0))),s.b(" !important;\n }\n\n .typeahead a:hover,\n .typeahead a:hover strong,\n .typeahead a:hover .fullname,\n .typeahead .selected a,\n .typeahead .selected strong,\n .typeahead .selected .fullname,\n .typeahead .selected .icon--close {\n color: #"),s.b(s.v(s.f("user_color",t,e,0))),s.b(" !important;\n }\n")}),t.pop()),s.b("\n"+i),s.b(".home-tweet-box,\n.livevideo-tweetbox,\n.retweetdialog-commentbox {\n background-color: #"),s.b(s.v(s.f("user_color_lightest",t,e,0))),s.b(";\n}\n\n.top-timeline-tweetbox .timeline-tweet-box .tweet-form.condensed .tweet-box {\n color: #"),s.b(s.v(s.f("user_color",t,e,0))),s.b(";\n}\n"),s.b(".richeditor,\n.tweetboxattachments {\n border-color: #"),s.b(s.v(s.f("user_color_lighter",t,e,0))),s.b(';\n}\n\ninput:focus,\ntextarea:focus,\ndiv[contenteditable="true"]:focus,\ndiv[contenteditable="true"].fake-focus,\ndiv[contenteditable="plaintext-only"]:focus,\ndiv[contenteditable="plaintext-only"].fake-focus {\n border-color: #'),s.b(s.v(s.f("user_color_light",t,e,0))),s.b(";\n box-shadow: inset 0 0 0 1px "),s.b(s.v(s.f("rgba_user_color_medium",t,e,0))),s.b(';\n}\n\n.tweet-box textarea:focus,\n.tweet-box input[type=text],\n.currently-dragging .tweet-form.is-droppable .tweet-drag-help,\n.tweet-box[contenteditable="true"]:focus,\n.richeditor.is-fakefocus,\n.richeditor.is-fakefocus ~ .tweetboxattachments {\n border-color: #'),s.b(s.v(s.f("user_color_light",t,e,0))),s.b(";\n box-shadow: 0 0 0 1px #"),s.b(s.v(s.f("user_color_light",t,e,0))),s.b(";\n}\n\n.momentcapsuleitem.selected-stream-item:focus {\n box-shadow: 0 0 0 3px "),s.b(s.v(s.f("rgba_user_color_light",t,e,0))),s.b(";\n}\n\n"),s.b("\n"+i),s.b("s,\n.pretty-link:hover s,\n.pretty-link:focus s,\n.stream-item-activity-notification .latest-tweet .tweet-row a:hover s,\n.stream-item-activity-notification .latest-tweet .tweet-row a:focus s {\n"),s.s(s.f("user_color",t,e,1),t,e,0,13752,13783,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" color: #"),i.b(i.v(i.f("user_color",t,e,0))),i.b(";\n")}),t.pop()),s.s(s.f("user_color",t,e,1),t,e,1,0,0,"")||s.b(" color: #66b5d2;\n"),s.b("}\n\n"),s.b(".vellip,\n.vellip:before,\n.vellip:after,\n.conversation-module > li:after,\n.conversation-module > li:before,\n.threadedconversation--lonetweet:after,\n.threadedconversation-tweet:not(.is-hiddenancestor) ~ .threadedconversation-tweet:before,\n.threadedconversation-tweet:after,\n.threadedconversation-morereplies:before,\n.threadedconversation-viewother:before,\n.threadedconversation-unavailabletweet:before,\n.threadedconversation-unavailabletweet:after,\n.threadedconversation--permalinktweetwithancestors:before,\n.mini-avatar-with-thread:before,\n.permalink.self-thread-permalink-with-descendant .permalink-tweet-container:after,\n.permalink.self-thread-permalink-with-descendant .inline-reply-tweetbox-container:after {\n"),s.s(s.f("user_color_light",t,e,1),t,e,0,14681,14725,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" border-color: #"),i.b(i.v(i.f("user_color_light",t,e,0))),i.b(";\n")}),t.pop()),s.s(s.f("user_color_light",t,e,1),t,e,1,0,0,"")||s.b(" border-color: #66b5d2;\n"),s.b("}\n\n"),s.b(".tweet .sm-reply,\n.tweet .sm-rt,\n.tweet .sm-fav,\n.tweet .sm-image,\n.tweet .sm-video,\n.tweet .sm-audio,\n.tweet .sm-geo,\n.tweet .sm-in,\n.tweet .sm-trash,\n.tweet .sm-more,\n.tweet .sm-page,\n.tweet .sm-embed,\n.tweet .sm-summary,\n.tweet .sm-chat,\n"),s.b(".timelines-navigation .active .profile-nav-icon,\n.timelines-navigation .profile-nav-icon:hover,\n.timelines-navigation .profile-nav-link:focus .profile-nav-icon,\n"),s.b(".sm-top-tweet {\n"),s.s(s.f("user_color",t,e,1),t,e,0,15472,15514,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" background-color: #"),i.b(i.v(i.f("user_color",t,e,0))),i.b(";\n")}),t.pop()),s.s(s.f("user_color",t,e,1),t,e,1,0,0,"")||s.b(" background-color: #6684b4;\n"),s.b("}\n\n"),s.s(s.f("mini_profile_banner_url_for_web",t,e,1),t,e,0,15636,15757,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(".enhanced-mini-profile .mini-profile .profile-summary {\n background-image: url("),i.b(i.v(i.f("mini_profile_banner_url_for_web",t,e,0))),i.b(");\n}\n")}),t.pop()),s.b("\n"+i),s.s(s.f("user_color",t,e,1),t,e,0,15810,16519,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" #global-tweet-dialog .modal-header,\n #tweetstorm-dialog .modal-header {\n border-bottom: solid 1px "),i.b(i.v(i.f("rgba_user_color_lighter",t,e,0))),i.b(";\n }\n\n #global-tweet-dialog .modal-tweet-form-container,\n #tweetstorm-dialog .modal-body {\n background-color: #"),i.b(i.v(i.f("user_color",t,e,0))),i.b(";\n background: "),i.b(i.v(i.f("rgba_user_color_lightest",t,e,0))),i.b(";\n }\n\n .tweetstormdialog-reply-context .tweet-box-avatar:after,\n .tweetstormdialog-reply-context .tweet-box-avatar:before,\n .tweetstormdialog-tweet-box .tweet-box-avatar:after,\n .tweetstormdialog-tweet-box .tweet-box-avatar:before {\n border-color: #"),i.b(i.v(i.f("user_color_light",t,e,0))),i.b(";\n }\n\n .global-nav .search-input:focus,\n .global-nav .search-input.focus {\n border: 2px solid #"),i.b(i.v(i.f("user_color",t,e,0))),i.b(";\n }\n}\n")}),t.pop()),s.b("\n"+i),s.s(s.f("user_color_lightest",t,e,1),t,e,0,16560,16640,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" .inline-reply-tweetbox {\n background-color: #"),i.b(i.v(i.f("user_color_lightest",t,e,0))),i.b(";\n }\n")}),t.pop()),s.b("\n"+i),s.b("</style>\n"),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},ockb:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({locationpickeriframeselector:".locationpickerdialog-iframe",suggestedlocationselector:".locationpickerdialog-suggestedlocation",mainaddresslineselector:".locationpickerdialog-mainaddressline",secondaryaddresslineselector:".locationpickerdialog-secondaryaddressline",titleselector:".locationpickerdialog-title",submitbuttonselector:"#location-picker-submit-button",footerselector:".locationpickerdialog-footer",foursquarevendorinfoselector:".locationpickerdialog-foursquarevendorinfo",yelpvendorinfoselector:".locationpickerdialog-yelpvendorinfo",isshowingattributionclass:"is-showingattribution"}),this.opendialog=function(e,i){var s=t("html").attr("lang"),o="/i/locations/share?lang="+s;i=i||{},e=e||{};var a=i&&i.src||o;this.attr.loggedin?(this.select("locationpickeriframeselector").attr("src",a),this.on(window,"message",this.proxyiframeevents),this.open(),this.$button=this.select("submitbuttonselector"),this.$button.addclass("disabled").prop("disabled",!0),this.state={type:"uilocationattachmentclicked"===e.type?"location_attachment":"location_picker"},"location_picker"===this.state.type?(this.state.qrid=i.qr_id,this.state.conversationid=i.conversation_id,this.$button.addclass("primary-btn").text(object(n.default)("send")),this.select("titleselector").text(object(n.default)("share location"))):(this.handlepickertextupdate(null,i),this.$button.removeclass("primary-btn").text(object(n.default)("view related tweets")),this.updatedialogtitle(i))):this.trigger(document,"uiopensignupdialog")},this.updatedialogtitle=function(t){var e=t.blackline,i=e||object(n.default)("shared location");this.select("titleselector").text(i)},this.resetdialog=function(t,e){this.off(window,"message",this.proxyiframeevents),this.select("locationpickeriframeselector").attr("src","about:blank"),this.select("titleselector").empty(),this.select("mainaddresslineselector").empty(),this.select("secondaryaddresslineselector").empty(),this.select("footerselector").removeclass(this.attr.isshowingattributionclass),this.select("foursquarevendorinfoselector").addclass("u-hidden"),this.select("yelpvendorinfoselector").addclass("u-hidden")},this.handlepickertextupdate=function(t,e){e=e||{};var i=this.select("suggestedlocationselector"),s=i.find(".locationpickerdialog-mainaddressline"),n=i.find(".locationpickerdialog-secondaryaddressline"),o=!e.blackline&&!e.grayline,a=o?"":e.blackline||e.grayline,r=!e.blackline||!e.grayline,c=r?"":e.grayline;s.toggleclass("u-hidden",o).text(a),n.toggleclass("u-hidden",r).text(c)},this.handlelocationupdate=function(t,e){this.state.locationdata=e||{},this.$button.removeclass("disabled").prop("disabled",!1),e.attribution&&this.updateattribution(e.attribution)},this.updateattribution=function(t){var e=this.select("footerselector"),i=this.select("foursquarevendorinfoselector"),s=this.select("yelpvendorinfoselector"),n="foursquare"===t,o="yelp"===t,a=n||o;e.toggleclass(this.attr.isshowingattributionclass,a),i.toggleclass("u-hidden",!n),s.toggleclass("u-hidden",!o)},this.cansend=function(){return this.state.locationdata},this.handleclick=function(){"location_picker"===this.state.type?(this.sendlocation(),this.close()):this.viewrelatedtweets(),this.trigger("uiscribelocationdialogbuttonclick",this.state)},this.viewrelatedtweets=function(){var t=this.state.locationdata.bestplaceid||"",e="place:"+t,i="/search?"+u.a.encode({q:e});window.open(i,"_blank")},this.sendlocation=function(){var t=this.state.locationdata,e={conversation_id:this.state.conversationid,"quick_reply_response[location][id]":this.state.qrid};"coord"===t.type?l.default.push(e,{"location[shared_coordinate][lat]":t.lat,"location[shared_coordinate][lon]":t.lon}):l.default.push(e,{"location[shared_place][place][id]":t.placeid}),this.trigger("uidmsendmessage",e)},this.after("initialize",function(){this.on(document,"uilocationqrctaclicked uisharelocation uilocationattachmentclicked",this.opendialog),this.on("uidialogclosed",this.resetdialog),this.on("uib2clocationpickertextupdate",this.handlepickertextupdate),this.on("uib2clocationpickerupdateselectedlocation uib2clocationattachmentinit",this.handlelocationupdate),this.on("click",{submitbuttonselector:object(h.a)(this.handleclick,this.cansend)})})}var n=i("0d4m"),o=i("dbjh"),a=i("uhc7"),r=i("zvxx"),c=i("3odc"),l=i("yzit"),h=i("4oun"),d=i("tbnr"),u=i("tx0g"),p=object(o.default)(s,a.a,r.a,c.a,d.a);e.a=p}).call(e,i("4ksj"))},oh3l:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.s(s.f("is_translator",t,e,1),t,e,0,18,121,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b('<span class="icon icon--translator"><span class="u-hiddenvisually">translator</span></span>')}),t.pop()),s.s(s.f("is_translation_moderator",t,e,1),t,e,0,175,288,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b('<span class="icon icon--moderator"><span class="u-hiddenvisually">translation moderator</span></span>')}),t.pop()),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},orcd:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<h3 class="promptbirdprompt-title">'),s.b(s.v(s.f("title",t,e,0))),s.b("</h3>"),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},p3ed:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({top:90,closeonotherdialogopened:!0,timelineselectorselector:".timeline-selector",wasmemberselector:".timeline-item .was-member",wasnotmemberselector:".timeline-item .was-not-member",submitselector:".js-submit"}),this.opendialog=function(t,e){var i=l.a.render({});this.$node.html(i),this.$dialog=this.$dialogcontainer.find(this.attr.modalselector),this.tweetid=e.tweetid,this.impressionid=e.impressionid,this.trigger("uineedsfullcustomtimelines",{tweetid:e.tweetid}),this.scribe({component:"curate_dialog",action:"open"},e),this.open()},this.renderfulltimelineslist=function(t,e){this.select("timelineselectorselector").html(e.html)},this.submitchanges=function(){function e(e){return e.map(function(){return t(this).attr("data-timeline-id")}).get()}this.select("submitselector").prop("disabled",!0);var i=this.select("wasmemberselector").filter(":not(:checked)"),s=this.select("wasnotmemberselector").filter(":checked"),n={removed:e(i),added:e(s),tweetid:this.tweetid,impressionid:this.impressionid};this.trigger("uicuratetweets",n)},this.after("initialize",function(){this.on(document,"uiopencuratedialog",this.opendialog),this.on(document,"datagotfullcustomtimelines",this.renderfulltimelineslist),this.on(document,"datatweetscurated",this.close),this.on("click",{submitselector:this.submitchanges})})}var n=i("dbjh"),o=i("uhc7"),a=i("y4bj"),r=i("3odc"),c=i("zbkd"),l=i.n(c);e.a=object(n.default)(o.a,s,a.a,r.a)}).call(e,i("4ksj"))},p4ep:function(t,e,i){"use strict";function s(){this.defaultattrs({noshowerror:!0}),this.updatename=function(t,e){e=e||{},this.post({url:"/i/direct_messages/update_name",data:{id:e.conversation_id,name:e.name},success:r(t.target,["datadmconversationresult","dataupdateconversationnamesuccess"]),error:r(t.target,"dataupdateconversationnamefailure")})},this.after("initialize",function(){this.on("uiupdateconversationname",this.updatename)})}var n=i("dbjh"),o=i("vtwx"),a=i("ldny"),r=a.a.triggerfn;e.a=object(n.default)(s,o.a)},pafg:function(t,e,i){"use strict";(function(t){function s(e){this.attr={id:null,ttl_ms:216e5,limit:3,version:1,storagelist:"conciergelist",storageversion:"conciergeversion",prefetchlimit:3,localqueriesenabled:!1,remotequeriesenabled:!1,prefetchpath:"/i/search/typeahead.json",prefetchtype:"oneclick",remotepath:"/i/search/typeahead.json",remotetype:"oneclick",basepath:"/search?",scribemap:{images:"photos",videos:"video",news:"news",users:"people"},namemap:{"images near":object(a.default)("photos near you"),"images follow":object(a.default)("photos from people you follow"),"videos near":object(a.default)("videos near you"),"videos follow":object(a.default)("videos from people you follow"),"news near":object(a.default)("news near you"),"news follow":object(a.default)("news shared by people you follow"),"users near":object(a.default)("people near you")},modepathmap:{images:"mode=photos",videos:"mode=videos",news:"mode=news",users:"mode=users"},locationfilterpath:"near=me",followfilterpath:"f=follows",querysourcepath:"src=taoc",querysource:"typeahead_oneclick"},this.attr=o.default.merge(this.attr,e),this.after=t.noop,this.defaultattrs=t.noop,n.default.mixin(this,[c.a,l.a]),this.getstoragekeys=function(){return[this.attr.storageversion,this.attr.storagelist]},this.getprefetchcount=function(){return this.attr.prefetchlimit},this.ismetadataexpired=function(){return this.storage.getitem(this.attr.storageversion)!==this.attr.version},this.getdatafromlocalstorage=function(){this.conciergelist=this.storage.getitem(this.attr.storagelist)||this.conciergelist},this.processresults=function(t){if(!t||!t[this.attr.prefetchtype])return void this.usestaledata();t[this.attr.prefetchtype].foreach(function(t){var e=this.constructconciergesuggestion(t);e&&this.conciergelist.push(e)},this),this.storage.setitem(this.attr.storagelist,this.conciergelist,this.attr.ttl_ms),this.storage.setitem(this.attr.storageversion,this.attr.version,this.attr.ttl_ms)},this.getlocalsuggestions=function(t,e){e(t&&""!==t.query?[]:this.conciergelist.slice(0,this.attr.limit))},this.requiresremotesuggestions=function(t){return!(!t||""!==t.query)&&this.attr.remotequeriesenabled},this.processremotesuggestions=function(t,e,i){var s=i[this.attr.id]||[];if(e[this.attr.remotetype])for(var n=e[this.attr.remotetype],o=0;o<n.length;o++){var a=this.constructconciergesuggestion(n[o]);if(a){var r=s.push(a);if(r>=this.attr.limit)break}}return i[this.attr.id]=s.slice(0,this.attr.limit),i},this.constructconciergesuggestion=function(t){var e=t.filter,i=!!t.location,s=!!t.follow,n=t.topic,o=this.constructname(e,i,s,n);return o?{topic:n,searchpath:this.constructsearchpath(e,i,s,n),name:o,querysource:this.attr.querysource,searchdetails:this.constructscribedetails(e,i,s,n)}:null},this.constructname=function(t,e,i,s){var n=e?" near":"",o=i?" follow":"";return s||this.attr.namemap[t+n+o]},this.constructsearchpath=function(t,e,i,s){var n=[this.attr.querysourcepath],o=t?this.attr.modepathmap[t]:"";return o&&n.push(o),e&&n.push(this.attr.locationfilterpath),i&&n.push(this.attr.followfilterpath),s&&n.push("q="+encodeuricomponent(s)),this.attr.basepath+n.join("&")},this.constructscribedetails=function(t,e,i,s){var n={result_type:this.attr.scribemap[t]||"everything",social_filter:i?"following":"all"};return s&&(n.query=s),e&&(n.near="me"),n},this.initialize=function(){var t=object(r.a)({withexpiry:!0});this.storage=new t("typeahead"),this.conciergelist=[],this.attr.localqueriesenabled&&this.loaddata(this.attr.prefetchpath,this.attr.prefetchtype)},this.initialize()}var n=i("q9/c"),o=i("yzit"),a=i("0d4m"),r=i("rwgq"),c=i("vtwx"),l=i("8xkx");e.a=s}).call(e,i("4ksj"))},pb0g:function(t,e,i){"use strict";(function(t){function s(){var e={},i={};this.defaultattrs({mediaselector:".js-adaptive-photo,.tweet-media-img-placeholder,.adaptivestreamgridimage,.profileavatar-container,.profilecardmini-avatar,.momentmediaitem-entity--image,.profilestreamgridimage",medianewscamerabadgeselector:".adaptivemedia-newscamerabadge",adaptivemediaselector:".adaptivemedia",galleryparentselector:".gallery",gallerymediaselector:".gallery-media",gallerytweetselector:".gallerytweet",gallerytweetfooterselector:".gallerytweet .stream-item-footer",gallerynewscamerabadgeselector:".gallerytweet-newscamerabadge",closeselector:".js-close, .gallery-closetarget",galleryselector:".gallery-content",imageselector:".media-image",navselector:".gallerynav",prevselector:".gallerynav--prev",nextselector:".gallerynav--next",itemtype:"tweet",tweetlessgalleryclass:"without-tweet",hasstickersclass:"is-stickers"}),this.clearcache=function(){e={},i={}},this.isopen=function(){return t("body").hasclass("gallery-enabled")},this.open=function(e,i){this.calculatescrollbarwidth(),!this.isopen()&&i.length&&(e&&e.timelineselector?this.$timeline=i.closest(e.timelineselector):this.$timeline=i.parent(),this.tweetfooterselector=this.attr.gallerytweetfooterselector,this.cleartweet(),this.setdominantcolorformedia(i),o.a.resetminsize(this.$gallery),this.render(i),t("body").addclass("gallery-enabled"),this.$gallery.addclass("show-controls"),this.on(this.$gallery,"mouseout",this.enabletweetfade),this.trigger("uigalleryopened",e))},this.opengallery=function(e,i){var s=t(e.target).closest(this.attr.mediaselector);this.open(i,s)},this.opencardimagegallery=function(e,i){var s=t("<div/>",{"data-resolved-url-large":i.imageurl,"data-status-id":i.tweetid});this.open(i,s)},this.handleclose=function(t){this.isopen()&&(t.stoppropagation(),this.closegallery())},this.closegallery=function(){t("body").hasclass("gallery-enabled")&&(t("body").removeclass("gallery-enabled"),this.setdominantcolorformedia(),this.select("gallerymediaselector").empty(),this.resetstickers(),this.hidenav(),this.enablenav(!1,!1),this.off(window,"resize",this.debouncedresize),this.disabletweetfade(),this.off(this.$gallery,"mouseout",this.enabletweetfade),delete this.$current,this.trigger("uigalleryclosed"),this.trigger("uidialogclosed"))},this.render=function(t){this.resetstickers(),this.$current=t,this.rendernav(),this.trigger(t,"uigallerymediaload"),this.rendermedia(t)},this.rendernav=function(){if(this.$current){var t=this.$timeline.find(this.attr.mediaselector),e=t.index(this.$current),i=t.slice(0,e),s=t.slice(e+1),n=s.length>0,o=i.length>0;this.enablenav(n,o),n||o?this.shownav():this.hidenav()}},this.cleartweet=function(){this.select("gallerytweetselector").empty()},this.flushtweet=function(i){var s=this.gettweetid(t(i.target));s&&delete e[s]},this.gettweet=function(t){if(t)if(e[t]){var i=e[t];this.rendertweet(t,i.tweethtml,i.tweetstickers)}else{this.$current&&this.gettweetid(this.$current)===t&&this.select("gallerymediaselector").find(".media-image,iframe").hide();var s={id:t,modal:"gallery",hasstickers:a.a.getdecidervalue("stickersexperience")};this.trigger("uigettweet",s)}},this.gottweet=function(t,s){"id"in s&&"tweet_html"in s&&"sourceeventdata"in s&&"gallery"===s.sourceeventdata.modal&&(e[s.id]={tweethtml:s.tweet_html,tweetstickers:s.tweet_stickers},s.sourceeventdata.promotedbadgehtml&&(i[s.id]=s.sourceeventdata.promotedbadgehtml),this.rendertweet(s.id,s.tweet_html,s.tweet_stickers))},this.movedropdowntoactionlist=function(t){var e=t.find(".profiletweet-action--more"),i=t.find(".stream-item-footer .profiletweet-actionlist");e.appendto(i)},this.rendertweet=function(e,s,n){if(this.$current&&this.gettweetid(this.$current)===e.tostring()){var a=this.select("gallerytweetselector"),r=this.select("gallerymediaselector").find(".media-image,iframe");a.html(s);var c=i[e];if(c&&a.find(".stream-item-footer").prepend(t(c)),this.movedropdowntoactionlist(a),r.length&&(r.show(),o.a.resizemedia(r,this.$gallery,!1,this.tweetfooterselector),this.applydominantcolortoborder()),n){var l=this.$timeline.find(this.attr.mediaselector),h=l.filter('[data-tweet-id="'+e+'"]');h.length||(h=l.not("[data-tweet-id]"));var d=h.index(this.$current);d>=0&&n[d]&&(this.$gallery.addclass(this.attr.hasstickersclass),this.replacemediawithimageandstickers(n[d]))}this.trigger("uineedupdateinjectedtweetstats")}},this.gettweetid=function(t){return t.attr("data-status-id")?t.attr("data-status-id"):t.closest("[data-tweet-id]").attr("data-tweet-id")},this.getallindir=function(e,i){var s=void 0,n="prev"===i?-1:1,o=this.$timeline.find(this.attr.mediaselector),a=o.index(e)+n;return a>-1&&(s=o.slice(a)),s||t()},this.getindir=function(t,e){return this.getallindir(t,e).first()},this.rendermedia=function(t){t.attr("data-source-url")?this.loadvideo(t):this.loadimage(t)},this.medialoaded=function(t){if(this.isopen()){var e=this.gettweetid(t);this.setdominantcolorformedia(t),e?(this.gettweet(e),this.$gallery.closest(this.attr.galleryparentselector).removeclass(this.attr.tweetlessgalleryclass)):(this.cleartweet(),this.$gallery.closest(this.attr.galleryparentselector).addclass(this.attr.tweetlessgalleryclass));var i=t.closest(this.attr.adaptivemediaselector).find(this.attr.medianewscamerabadgeselector),s=this.$gallery.closest(this.attr.galleryparentselector).find(this.attr.gallerynewscamerabadgeselector);i.length?s.html(i.clone()):s.empty(),this.trigger("uigallerymedialoaded",{url:this.getlargemediaurl(t),id:t.attr("data-status-id")})}},this.mediafailed=function(t){this.trigger("uigallerymediafailed",{url:this.getlargemediaurl(t),id:t.attr("data-status-id")}),t.remove(),this.next()},this.loadimage=function(e){var i=this;this.$gallery.removeclass(["video","is-hittesting",this.attr.hasstickersclass].join(" "));var s=e.find("img").attr("alt"),n=t("<img>",{alt:s,addclass:"media-image"});n.on("load",function(t){e.attr("loaded",!0),i.select("gallerymediaselector").html(n),n.attr({"data-height":n[0].height,"data-width":n[0].width}),o.a.resizemedia(n,i.$gallery,!1,i.tweetfooterselector,!0),i.$current=e,i.medialoaded(e)}),n.on("error",function(){return i.mediafailed(e)}),n.attr("src",this.getlargemediaurl(e))},this.fixsnappyurl=function(t){var e=t.attr("data-source-url"),i=/https:\/\/www.snappytv.com\/tc\/(\d+)\?autoplay=true&h=(\d+)&w=(\d+)/;if(i.test(e)){var s=2*t.attr("data-height"),n=2*t.attr("data-width");e=e.replace(i,"https://www.snappytv.com/tc/$1?autoplay=true&h="+s+"&w="+n),t.attr("data-source-url",e)}},this.loadvideo=function(e){var i=t("<iframe>");this.fixsnappyurl(e),i.height(2*e.attr("data-height")).width(2*e.attr("data-width")).attr("data-height",2*e.attr("data-height")).attr("data-width",2*e.attr("data-width")).attr("src",e.attr("data-source-url")),e.attr("loaded",!0),this.select("gallerymediaselector").empty().append(i),this.$current=e,this.gettweet(e.attr("data-status-id")),this.$gallery.addclass("video").removeclass(this.attr.hasstickersclass)},this.prev=function(){this.gotomedia("prev"),this.trigger("uigallerynavigateprev")},this.next=function(){this.gotomedia("next"),this.trigger("uigallerynavigatenext")},this.gotomedia=function(t){if(this.$current){var e=this.getindir(this.$current,t);e.length&&this.render(e)}},this.shownav=function(){this.select("navselector").show()},this.hidenav=function(){this.select("navselector").hide()},this.enabletweetfade=function(){this.select("gallerytweetselector").addclass("enable-fade")},this.disabletweetfade=function(){this.select("gallerytweetselector").removeclass("enable-fade")},this.enablenav=function(t,e){t?this.select("nextselector").addclass("enabled"):this.select("nextselector").removeclass("enabled"),e?this.select("prevselector").addclass("enabled"):this.select("prevselector").removeclass("enabled")},this.getlargemediaurl=function(t){var e=t.attr("data-image-url");return t.attr("data-resolved-url-large")||e&&e+":large"},this.throttle=function(t,e,i){var s=!1;return function(){s||(t.apply(i,arguments),s=!0,settimeout(function(){return s=!1},e))}},this.hidecontrols=function(){this.$gallery.removeclass("show-controls")},this.after("initialize",function(){this.on("uireplytotweet","uiopenreplydialog"),this.on("mousemove",this.hidecontrols),this.on(document,"datadiddeletetweet",this.closegallery),this.on(document,"datagotmoremediatimelineitems",this.rendernav),this.on(document,"uiopengallery",this.opengallery),this.on(document,"uiopencardimagegallery",this.opencardimagegallery),this.on(document,"uioverlaynavigate uiclosegallery",this.closegallery),this.on(document,"uishortcutesc",this.handleclose),this.on(window,"popstate",this.closegallery),this.on(document,"uishortcutleft",this.throttle(this.prev,200,this)),this.on(document,"uishortcutright",this.throttle(this.next,200,this)),this.on(document,"datagottweet",this.gottweet),this.on(document,"datafailedtogettweet",this.cleartweet),this.on("click",{prevselector:this.prev,nextselector:this.next,closeselector:this.handleclose}),this.on(document,"uididretweet uididunretweet uididfavoritetweet uididunfavoritetweet",this.flushtweet),this.$gallery=this.select("galleryselector")})}var n=i("dbjh"),o=i("hotm"),a=i("iamj"),r=i("xgwv"),c=i("e+ft"),l=i("mrbi"),h=i("nnea"),d=i("mrdm"),u=i("hker"),p=object(n.default)(s,d.a,r.a,l.a,h.a,c.a,u.a);e.a=p}).call(e,i("4ksj"))},pmre:function(t,e,i){"use strict";(function(t){function s(){var e=void 0,i="onwebkitfullscreenchange"in document;this.getfullscreenelement=function(){return document.webkitfullscreenelement},this.getyoffset=function(){return o.a.getglobalyoffset()},this.supportsfullscreen=function(){return i},this.isenteringfullscreen=function(){return boolean(this.getfullscreenelement())},this.savefullscreenelement=function(){e=this.getfullscreenelement()},this.scrolltofullscreenelement=function(){if(e){var i=t(e).parents('[data-component-context="tweet"]');i&&"function"==typeof i.offset&&i.offset()&&window.scrollto(window.scrollx,i.offset().top-o.a.getglobalyoffset()),e=void 0}},this.changefullscreen=function(t,e){this.isenteringfullscreen()?this.savefullscreenelement():this.scrolltofullscreenelement()},this.after("initialize",function(){this.supportsfullscreen()&&this.on(document,"webkitfullscreenchange",this.changefullscreen)})}var n=i("dbjh"),o=i("reqr"),a=object(n.default)(s);e.a=a}).call(e,i("4ksj"))},pnul:function(t,e,i){"use strict";e.a={gif:"gif",image:"image",video:"video"}},preb:function(t,e,i){"use strict";(function(t){function i(){this.defaultattrs({missingtweetslinkselector:"a.missing-tweets-link",missingtweetsbarselector:".missing-tweets-bar",focaltweetselector:".original-tweet",toplevelstreamitemselector:".stream-item:not(.conversation-tweet-item)",conversationtweetclass:"conversation-tweet",detachedconversationclass:"detached-conversation",expandingconversationclass:"expanding-conversation",selectedselector:".selected-stream-item",awaitingancestorsclass:".conversation-awaiting-ancestors"}),this.handleexpandconversationandloadmissingtweets=function(t){t.preventdefault();var e=this.streamitemfromevent(t),i=this.getfocalpoint(e),s=i.data("permalink-path"),n=i.data("conversation-id");s&&this.trigger("uinavigate",{href:s,conversation_id:n})},this.streamitemfromevent=function(e){return t(e.target).closest(this.attr.toplevelstreamitemselector)},this.getfocalpoint=function(t){return t.find(this.attr.focaltweetselector)},this.gettweetid=function(e){return t(e).find(".tweet").attr("data-tweet-id")},this.notifyconversationmutated=function(e,i){var s=t(e.target),n=s.closest(this.attr.conversationmoduleselector);n.length&&this.trigger(n,"uiconversationmoduleupdated")},this.after("initialize",function(){this.on("click",{missingtweetslinkselector:this.handleexpandconversationandloadmissingtweets}),this.on("uishortcutenter",{missingtweetsbarselector:this.handleexpandconversationandloadmissingtweets}),this.on("uitweetinserted uibeforetweetremoved",this.notifyconversationmutated)})}e.a=i}).call(e,i("4ksj"))},prwu:function(t,e,i){"use strict";(function(t){function i(){this.defaultattrs({condensable:!1,condensedclass:"condensed"}),this.iscondensed=function(){return this.attr.condensable&&this.$node.hasclass(this.attr.condensedclass)},this.canbecondensed=function(){return this.attr.condensable&&!this.$node.hasclass(this.attr.condensedclass)},this.iswithincontainer=function(e){return t.contains(this.containerelement,e)},this.expand=function(t){var e=this;this.iscondensed()&&(this.$node.removeclass(this.attr.condensedclass),this.trigger("uitweetboxexpanded"),this.validateaddtweetbutton(),void 0!==this.cursorposition&&settimeout(function(){return e.setcursorposition(e.cursorposition)}),t&&this.trigger("uicomposerresetandfocus"))},this.getcondensedtext=function(){return void 0===this.condensedtext&&(this.condensedtext=void 0!==this.attr.condensedtext?this.attr.condensedtext:this.$node.attr("data-condensed-text")||""),this.condensedtext},this.condense=function(){this.$node.addclass(this.attr.condensedclass),this.$text.blur(),this.resettweettext(),this.trigger("uitweetboxcondensed")},this.condenseifnotactive=function(){var t=this;settimeout(function(){t.canbecondensed()&&!t.iswithincontainer(document.activeelement)&&(t.detectupdatedtext(),t.trigger("uihideautocomplete"),t.isempty()&&t.condense())},0)},this.condenseonmousedown=function(t){this.canbecondensed()&&(this.checkcondenseonmouseup=!0)},this.condenseonmouseup=function(){this.checkcondenseonmouseup&&(this.checkcondenseonmouseup=!1,this.condenseifnotactive())},this.condenseonfocusout=function(){this.checkcondenseonmouseup||this.condenseifnotactive()},this.expandonfocusin=function(){this.expand(!0)},this.around("resettweettext",function(t){this.iscondensed()?this.setvisibletext(this.getcondensedtext()):t()}),this.around("settweetboxoverrides",function(t,e,i){t(e,i),this.condensedtext=i?i.condensedtext:void 0,i&&this.iscondensed()&&this.setvisibletext(this.getcondensedtext())}),this.around("isempty",function(t){return this.iscondensed()&&this.getvisibletext().trim()===this.getcondensedtext().trim()||t()}),this.after("clear",function(){this.canbecondensed()&&this.condense()}),this.after("initialize",function(){if(this.containerelement=t(this.attr.condensecontainer||this.$node)[0],this.attr.condensable){this.on(this.$text,"focusin",this.ignoreduringfakefocus(this.expandonfocusin)),this.on(this.containerelement,"focusout",this.ignoreduringfakefocus(this.condenseonfocusout)),this.on(document,"mousedown",this.condenseonmousedown),this.on(document,"mouseup",this.condenseonmouseup);var e=this.hasfocus();if(e){var i=this.getvisibletext(),s=this.getcondensedtext();s&&!i.indexof(s)&&this.setvisibletext(i.replace(s,this.defaulttext))}!e&&this.isempty()||this.expand(!1)}})}e.a=i}).call(e,i("4ksj"))},pszh:function(t,e,i){"use strict";var s=i("+dwm"),n=i("p2na"),o=i("eyue"),a={getorientation:function(t){return new promise(function(e,i){return o.a.detectorientation(t,e)})},drawimagewithorientation:function(t,e,i,s,n){switch(t.save(),n){case o.a.top_right:t.scale(-1,1),t.drawimage(e,-i,0,i,s);break;case o.a.bottom_right:t.rotate(math.pi),t.drawimage(e,-i,-s,i,s);break;case o.a.bottom_left:t.scale(1,-1),t.drawimage(e,0,-s,i,s);break;case o.a.left_top:t.translate(i/2,s/2),t.rotate(math.pi/2),t.scale(1,-1),t.drawimage(e,-s/2,-i/2,s,i);break;case o.a.right_top:t.translate(i/2,s/2),t.rotate(math.pi/2),t.drawimage(e,-s/2,-i/2,s,i);break;case o.a.right_bottom:t.translate(i/2,s/2),t.rotate(math.pi/2),t.scale(-1,1),t.drawimage(e,-s/2,-i/2,s,i);break;case o.a.left_bottom:t.translate(i/2,s/2),t.rotate(-math.pi/2),t.drawimage(e,-s/2,-i/2,s,i);break;default:t.drawimage(e,0,0,i,s)}t.restore()},widthandheightfororientation:function(t,e){return e===o.a.left_top||e===o.a.right_top||e===o.a.right_bottom||e===o.a.left_bottom?{width:t.height,height:t.width}:{width:t.width,height:t.height}},progressiveresizeroughpass:function(t,e,i){for(var s=t,n=void 0;s.width/2>e||s.height/2>i;)n=document.createelement("canvas"),n.width=s.width/2,n.height=s.height/2,n.getcontext("2d").drawimage(s,0,0,s.width/2,s.height/2),s=n;return s},progressiveresize:function(t,e,i){var o=this.progressiveresizeroughpass(t,e,i),a=document.createelement("canvas");a.width=e,a.height=i,a.getcontext("2d").drawimage(o,0,0,e,i);var r=a.todataurl("image/jpeg"),c=e>n.a.max_dimension||i>n.a.max_dimension,l=s.a.getdatauriobjectsize(r)>s.a.max_upload_file_size,h=.8;return c||l?(c&&(h=e>i?n.a.max_dimension/e:n.a.max_dimension/i),this.progressiveresize(t,e*h,i*h)):s.a.getblobfromdatauri(r)},resize:function(t){var e=this;return new promise(function(i,s){n.a.hascanvas()?e.getorientation(t).then(e.resizeworker.bind(e,t)).then(i).catch(s):i(t)})},resizeworker:function(t,e){var i=this,a=new image,r=s.a.getobjecturl(t);return new promise(function(c,l){a.onload=function(r){var h=i.widthandheightfororientation(a,e),d=h.width,u=h.height;if(!d||!u)return l(r);if(!(t.size>s.a.max_upload_file_size||d>n.a.max_dimension||u>n.a.max_dimension||e!==o.a.top_left&&e!==o.a.unknown))return c(t);var p=document.createelement("canvas");p.width=d,p.height=u;var f=p.getcontext("2d");i.drawimagewithorientation(f,a,d,u,e),c(i.progressiveresize(p,d,u))},a.onerror=l,a.src=r}).then(function(t){return s.a.revokeobjecturl(r),t}).catch(function(t){throw s.a.revokeobjecturl(r),t})}};e.a=a},"pul/":function(t,e,i){"use strict";function s(){o.default.mixin(this,[r.a]),this.caret=n.a,this.defaultattrs({textselector:"textarea.tweet-box",textfakefocusclass:"fake-focus"}),this.hasfakefocus=function(){return this.$text.hasclass(this.attr.textfakefocusclass)},this.togglefakefocus=function(t){this.$text.toggleclass(this.attr.textfakefocusclass,!!t)},this.ignoreduringfakefocus=function(t){var e=this;return function(){if(!e.$text.hasclass(e.attr.textfakefocusclass))return t.apply(this,arguments)}},this.hasfocus=function(){return document.activeelement===this.$text[0]||this.hasfakefocus()},this.getvisibletext=function(){return this.cleanedtext||""},this.setvisibletext=function(t){this.detectupdatedtext(!1,t)},this.addhiddentext=function(t){return t},this.cleantext=function(t){return t},this.detectupdatedtext=function(t,e){void 0===e?e=this.$text.val():this.$text.val(e);var i=n.a.getposition(this.$text[0]);(e!==this.prevtext||t)&&(this.prevtext=e,this.updatecleanedtextandposition(this.cleantext(e),i)),this.detectupdatedcursorposition(i)},this.updatecleanedtextandposition=function(t,e){this.cleanedtext=t,this.trigger("uitextchanged",{text:t,position:math.min(e,t.length)})},this.detectupdatedcursorposition=function(t){(t=math.min(t,(this.cleanedtext||"").length))!==this.prevposition&&(this.prevposition=t,this.trigger("uicursorpositionchanged",{position:t}))},this.setcursorposition=function(t){void 0===t&&(t=this.cursorposition),void 0===t&&(t=this.$text.val().length),n.a.setposition(this.$text.get(0),t),this.detectupdatedcursorposition(t)},this.changetextandposition=function(t,e){this.setvisibletext(e.text),this.setcursorposition(e.position)},this.focus=function(){this.hasfocus()||(document.body.focus(),this.$text.trigger("focusin"),this.$text.focus())},this.inittextnode=function(){this.$text=this.select("textselector"),this.detectupdatedtext()},this.inputpoll=function(){this.detectupdatedtext()},this.seteditability=function(t){this.$text.prop("disabled",!t)},this.after("initialize",function(){this.on("uichangetextandposition",this.changetextandposition),this.on("uiinputpoll",this.inputpoll),this.on("uienableediting",this.seteditability.bind(this,!0)),this.on("uidisableediting",this.seteditability.bind(this,!1)),this.attachchild(a.a,this.$text)})}var n=i("mj5m"),o=i("q9/c"),a=i("zwfe"),r=i("ajan");e.a=s},pvwj:function(t,e,i){"use strict";function s(){this.defaultattrs({safeorigins:["https://localhost.twitter.com","https://twitter.com"],iframeselector:"#bouncer-flow",contentselector:".bouncercontent",spinnerselector:".bouncerspinner",dismissbuttonselector:".js-close"}),this.openbouncerdialog=function(t,e){var i=e.bounce.bounce_location||"/account/access",s=document.documentelement.lang||"en";this.select("iframeselector").attr("src",a.a.addtourl(i,{lang:s})),this.open()},this.onbeforeiframeunload=function(){this.setiframeloading(!0),this.position()},this.oniframeload=function(){this.setiframeloading(!1),this.position()},this.setiframeloading=function(t){if(t)this.$bouncercontent.hide(),this.$dismissbutton.hide(),this.$spinner.show(),this.$bouncercontent.height(this.$spinner.height()),this.$iframe.height(this.$spinner.height());else{this.$spinner.hide(),this.$dismissbutton.show(),this.$bouncercontent.show();var e=this.$iframe.contents().find("body").height()+20;e>this.$iframe.height()&&(this.$bouncercontent.height(e),this.$iframe.height(e))}},this.oncancel=function(){this.trigger("uibouncercancelled"),this.close()},this.oncomplete=function(){this.trigger("uibouncercompleted"),this.close()},this.on2facomplete=function(){this.is2faenrollmentcomplete=!0},this.ondialogclosed=function(){this.is2faenrollmentcomplete?(this.is2faenrollmentcomplete=!1,this.trigger("uibouncer2facompleted")):this.trigger("uibouncercancelled")},this.aroundafterclose=function(t){t(),this.ondialogclosed(),this.reset()},this.reset=function(){this.setiframeloading(!0)},this.dispatchbouncermessage=function(t,e){var i=t.originalevent,s=i&&i.data;if(-1!==this.attr.safeorigins.indexof(i.origin)&&s&&s.bouncer&&s.event){var n=s.event;"beforeunload"===n?this.onbeforeiframeunload():"load"===n?this.oniframeload():"cancel"===n?this.oncancel():"complete"===n?this.oncomplete():"2fa_complete"===n&&this.on2facomplete()}},this.after("initialize",function(){this.on(document,"datarequestbounced",this.openbouncerdialog),this.on(document,"uipreopenbouncerdialog",this.open),this.is2faenrollmentcomplete=!1,this.on(window,"message",this.dispatchbouncermessage),this.around("afterclose",this.aroundafterclose),this.$modalcontent=this.select("modalcontentselector"),this.$iframe=this.select("iframeselector"),this.$bouncercontent=this.select("contentselector"),this.$spinner=this.select("spinnerselector"),this.$dismissbutton=this.select("dismissbuttonselector"),this.reset()})}var n=i("dbjh"),o=i("uhc7"),a=i("sxxh"),r=object(n.default)(s,o.a);e.a=r},pkin:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({delayedprompts:[],tweetitemselector:'.js-stream-item[data-item-type="tweet"]:visible',originaltweetselector:".js-original-tweet",promotedtweetclass:"promoted-tweet",immediatetriggers:[]}),this.initpage=function(){this.trigger("uipromptbirdmanagerwantsprompts",{tweetids:this.gettweetids()})},this.renderimmediateprompts=function(t){t.filter(function(t){return this.shouldrenderpromptimmediately(t)},this).foreach(this.renderprompt,this)},this.renderprompt=function(t){this.trigger("uipromptbirdshouldrenderprompt",{prompt:t})},this.savedelayedprompts=function(t){var e=t.filter(function(t){return!this.shouldrenderpromptimmediately(t)},this);this.attr.delayedprompts=e},this.refreshprompts=function(t,e){e.prompts&&(this.renderimmediateprompts(e.prompts),this.savedelayedprompts(e.prompts))},this.shouldrenderpromptimmediately=function(t){return!t.trigger||this.attr.immediatetriggers.indexof(t.trigger)>-1},this.gettweetids=function(){var e=this;return this.select("tweetitemselector").filter(function(i,s){return!t(s).find(e.attr.originaltweetselector).hasclass(e.attr.promotedtweetclass)}).map(function(e,i){return t(i).data("item-id")}).toarray().join(",")},this.after("initialize",function(){this.on(document,"uiswiftloaded uipagechanged",this.initpage),this.on("datapromptbirdmanagerhasprompts",this.refreshprompts)})}var n=i("dbjh"),o=i("nwi8");e.a=object(n.default)(s,o.a)}).call(e,i("4ksj"))},"q+8d":function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({querysourcelinkselector:"a[data-query-source]",querysourcedataattr:"data-query-source",storageexpiration:6e4}),this.savequerysource=function(t){this.storage.setitem("source",{source:{value:t,expire:date.now()+this.attr.storageexpiration}},this.attr.storageexpiration)},this.catchlinkclick=function(e,i){var s=t(i.el).attr(this.attr.querysourcedataattr);s&&this.savequerysource(s)},this.savetypedquery=function(t,e){"search"===e.source&&this.savequerysource("typed_query")},this.after("initialize",function(){var t=object(o.a)({withexpiry:!0});this.storage=new t("searchquerysource"),this.on("click",{querysourcelinkselector:this.catchlinkclick}),this.on("uisearchquery",this.savetypedquery)})}var n=i("dbjh"),o=i("rwgq");e.a=object(n.default)(s)}).call(e,i("4ksj"))},"q+ee":function(t,e,i){"use strict";(function(t){function s(){n.default.mixin(this,[r.a,l.default.withadvice,c.a]),this.defaultattrs({queryselector:".geosearch-queryinput",dropdowntriggerselector:".js-geo-search-trigger",dropdownselector:".geosearch-dropdownmenu",resultselector:".geosearch-result",resultclass:"geosearch-result",focusableselector:".geosearch-focusable:visible",firstfocusableselector:".geosearch-focusable:first",focusedselector:".geosearch-focusable.is-focused",focusedclass:"is-focused"}),this.getquery=function(){return this.select("queryselector").text()||""},this.applyariaattrstodropdown=function(){var t=this.select("dropdownselector");if(t.length){var e=object(a.a)(t[0]);this.select("queryselector").attr({"aria-owns":e,"aria-expanded":!0,"aria-autocomplete":"list"}),this.select("dropdownselector").attr("role","listbox"),this.ariaapplied=!0}},this.applyariaattrstoresultsandannouncenumresults=function(){if(this.ariaapplied){var e=this.select("resultselector").length;e&&(this.select("resultselector").each(function(e,i){t(i).attr("role","option"),object(a.a)(i)}),this.trigger("uigeoresultsshown",{numresults:e}))}},this.movefocus=function(t){var e=this.select("focusedselector"),i=this.select("focusableselector"),s=i.index(e)+t,n=i.length-1;s<0?s=n:s>n&&(s=0);var o=i.eq(s);e.removeclass(this.attr.focusedclass),o.addclass(this.attr.focusedclass),this.ariaapplied&&(e.removeattr("aria-selected"),e.removeattr("tabindex"),o.attr({"aria-selected":!0,tabindex:"-1"}),this.select("queryselector").attr("aria-activedescendant",o.attr("id")))},this.querykeydown=function(t){switch(t.which){case o.a.up:return t.preventdefault(),void this.movefocus(-1);case o.a.down:return t.preventdefault(),void this.movefocus(1);case o.a.left:case o.a.right:return;case o.a.enter:t.preventdefault();var e=this.select("focusedselector");return e.length?(t.stoppropagation(),void e.trigger("uigeosearchselect")):void this.trigger("uigeosearchenter");case o.a.tab:return void this.trigger("uigeosearchtab")}this.trigger("uigeosearchautocomplete")},this.selectresult=function(e){var i=t(e.target),s=i.data("place-id"),n=i.text(),o=i.data("result-type"),a=i.data("result-type")?'[data-result-type="'+i.data("result-type")+'"]':this.attr.resultselector,r=this.$node.find(a).index(i);this.trigger("uigeosearchchangelocation",{placeid:s,placename:n,resulttype:o,placeoffset:r})},this.changequery=function(t){this.trigger("uigeosearchautocomplete")},this.setfocus=function(e){var i=t(e.target).closest(this.attr.focusableselector);this.select("focusedselector").not(i).removeclass(this.attr.focusedclass),i.addclass(this.attr.focusedclass)},this.clearfocus=function(e){t(e.target).removeclass(this.attr.focusedclass)},this.after("opendropdown",function(){this.applyariaattrstodropdown()}),this.after("closedropdown",function(){this.ariaapplied&&(this.select("focusedselector").removeattr("aria-selected").removeattr("tabindex"),this.select("queryselector").attr("aria-expanded",!1).removeattr("aria-activedescendant"))}),this.after("initialize",function(){this.on("click",{resultselector:this.selectresult}),this.on("uigeosearchselect",{resultselector:this.selectresult}),this.on("mouseover",{focusableselector:this.setfocus}),this.on("mouseout",{focusableselector:this.clearfocus}),this.on("change paste cut input",{queryselector:this.changequery}),this.on("keydown",{queryselector:this.querykeydown})})}var n=i("q9/c"),o=i("i3qs"),a=i("dsew"),r=i("1hky"),c=i("ohsy"),l=i("gugq");e.a=s}).call(e,i("4ksj"))},qgdp:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({newitemsbarselector:".js-new-tweets-bar",containerselector:".stream-container",newtweetsbarvisibleclass:"new-tweets-bar-visible",scrolltoponnewitemsclick:!0}),this.updatenewitemsbar=function(e,i){if(e.target.contains(this.node)){var s=t(i.html),n=this.select("newitemsbarselector");n.length?(n.replacewith(s),this.trigger("uinewitemsbarupdated")):(this.$node.html(s),this.$node.hide(),this.shownewitemsbar(),this.trigger("uinewitemsbarshown")),this.trigger("uinewitemsbarvisible")}},this.shownewitemsbar=function(){var e=this.$node.parent(),i=o.a.getcanvasyoffset(e),s=t(window).scrolltop();this.$node.addclass(this.attr.newtweetsbarvisibleclass),s>i?(this.$node.show(),t("html, body").scrolltop(s+this.$node.height())):this.$node.slidedown()},this.hidenewitemsbar=function(){this.trigger("uinewitemsbarhidden"),this.select("newitemsbarselector").remove(),this.$node.removeclass(this.attr.newtweetsbarvisibleclass)},this.handlenewitemsbarclick=function(e,i){var s=t(e.target).closest("[data-live-video-item-json]").attr("data-live-video-item-json");this.attr.scrolltoponnewitemsclick&&object(a.a)(0,"fast");var n=window.performance.now();this.caninjectitems?this.trigger("uiinjectnewitems",{fromclick:!0,starttimems:n}):this.trigger("uitimelineshouldrefresh",{injectimmediately:!0,frompolling:!1,getinitial:!0,starttimems:n});var o=t(e.target).attr("data-item-count"),r={unreadcount:number(o)};if(s)try{r.items=[json.parse(s)]}catch(e){}this.trigger("uinewitemsbarclick",r)},this.after("initialize",function(){var t=this;this.caninjectitems=!0,this.on(document,"uiupdatenewitemsbar",this.updatenewitemsbar),this.on(document,"uihidenewitemsbar",function(){t.caninjectitems=!0,t.hidenewitemsbar()}),this.on(document,"uitimelinecacheinvalidated",function(){t.caninjectitems=!1}),this.on("click",{newitemsbarselector:this.handlenewitemsbarclick})})}var n=i("dbjh"),o=i("reqr"),a=i("lv5l");e.a=object(n.default)(s)}).call(e,i("4ksj"))},qqqy:function(t,e,i){"use strict";(function(t){var i={},s={get:function(t){return i[t]},update:function(e){t.extend(i,e)},clear:function(){i={}}};e.a=s}).call(e,i("4ksj"))},qpek:function(t,e,i){"use strict";function s(t){var e=t.promptbirddata||{};if(e.promptbirdenabled){n.a.attachto(document),o.a.attachto(document),a.a.attachto(document,e),r.a.attachto(document,e),p.a.attachto(document,n.a),u.a.attachto(document,n.a),c.a.attachto("#above-timeline-prompt",e),l.a.attachto("#dashboard-profile-prompt",e),m.a.attachto("#promptbird-modal-prompt",e);var i=g.a.timelinepromptoptions(e.format),s=v({},e,i.promptoptions);f.a.attachto(i.timelineselector,s),h.a.attachto(i.timelineselector,v({},s,{actionselector:".promptbirdprompt--inline .js-promptaction",dismissselector:".promptbirdprompt--inline .js-promptdismiss"})),d.a.attachto(i.timelineselector,v({},s,{actionselector:".promptbirdprompt--inlinepointer .js-promptaction",dismissselector:".promptbirdprompt--inlinepointer .js-promptdismiss"}))}}e.a=s;var n=i("it+l"),o=i("ctjh"),a=i("pkin"),r=i("gggp"),c=i("dfh9"),l=i("gyvj"),h=i("hwhs"),d=i("ibme"),u=i("kpi8"),p=i("zr4x"),f=i("jhm3"),m=i("su7p"),g=i("gxxu"),v=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t}},r5ni:function(t,e,i){"use strict";function s(){this.defaultattrs({intent:null}),this.action=function(){},this.checkintents=function(t,e){if(e.intent&&this.attr.intent===e.intent)return this.action(e.intent_params)},this.after("initialize",function(){this.on(document,"uipromptbirdclick",this.checkintents)})}var n=i("dbjh");e.a=object(n.default)(s)},r8vg:function(t,e,i){"use strict";function s(){var t={tweet_box:{uitweetboxtweeterror:"failure",uitweetboxtweetsuccess:"send_tweet",uitweetboxgeotaggedtweetsuccess:"send_geotagged_tweet",uitweetboxphototweetsuccess:"send_photo_tweet",uitweetboxphototweetwithalttextsuccess:"send_photo_tweet_with_alt_text",uitweetboxphototweetwithoutalttextsuccess:"send_photo_tweet_without_alt_text",uitweetboxpolltweetsuccess:"send_poll_tweet",uitweetboxvideotweetsuccess:"send_video_tweet",uitweetboxprovideotweetsuccess:"send_pro_video_tweet",uitweetboxreplysuccess:"send_reply",uitweetboxreplyeditedsuccess:"send_reply_edited",uitweetboxemojitweetsuccess:"send_emoji_tweet",uitweetboxdmsuccess:"send_dm",uiopentweetdialog:"compose_tweet"},local:{uitweetboxlocalgiftweetsuccess:"send_gif_tweet"},remote:{uitweetboxremotegiftweetsuccess:"send_gif_tweet"},image_picker:{uiimagepickerclick:"click",uiimagepickeradd:"add",uiimagepickerremove:"remove",uiimagepickererror:"error",uiimagepickernofilereadererror:"no_file_reader",uiimagepickerselectedflash:"selected_flash",uidrop:"drag_and_drop",uidropmany:"drag_and_drop_many",uivideopickeradd:"add_video",uivideopickerproadd:"add_pro_video"},found_media_category:{uifoundmediacategoryimpression:"impression",uifoundmediacategoryselect:"select",uifoundmediacategoryadd:"add",uifoundmediacategoryerror:"error",uifoundmediacategorycancel:"cancel"},found_media_gallery:{uifoundmediagalleryimpression:"impression"},found_media_trend:{uifoundmediatrendimpression:"impression",uifoundmediatrendselect:"select",uifoundmediatrendadd:"add",uifoundmediatrenderror:"error",uifoundmediatrendcancel:"cancel"},geo_picker:{uigeopickeroffer:"offer",uigeopickerenable:"enable",uigeopickeropen:"open",uigeopickerturnon:"on",uigeopickerturnoff:"off",uigeopickerchange:"select",uigeopickerinteraction:"focus_field",uigeopickersendtweet:"send_tweet_geo_interaction"},emoji_picker:{uiemojipickeropen:"open",uiemojipickercancel:"cancel",uiemojipickerresults:"results",uiemojipickeradd:"add",uiemojipickerchangeskintone:"change"},lifeline_alerts:{uilifelinealertsselect:"select",uilifelinealertsimpression:"impression",uilifelinealertstweet:"tweet",uilifelinealertscancel:"cancel"},add_poll:{uiactivatepollcomposer:"click"},remove_poll:{uiresetpollcomposer:"click"},add_poll_option:{uipolloptionadd:"click"},remove_poll_option:{uipolloptionremove:"click"}};this.after("initialize",function(){var e=this;object.keys(t).foreach(function(i){return object.keys(t[i]).foreach(function(s){return e.scribeonevent(s,{element:i,action:t[i][s]})})})})}var n=i("dbjh"),o=i("3odc");e.a=object(n.default)(s,o.a)},"rlv+":function(t,e,i){"use strict";(function(t){function s(t){o.a.attachto("#profile-hover-container",l({},t,{eventdata:{scribecontext:{component:"profile_hover"}}})),a.a.attachto(document,l({},t,{eventdata:{scribecontext:{component:"profile_dialog"}}})),c.a.attachto(document,t),n.a.attachto(document,t),r.a.attachto(document,t)}var n=i("vsco"),o=i("hiyn"),a=i("ltqk"),r=i("txp3"),c=i("gg8t"),l=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},h=t("#profile-hover-container").length>0;e.a=h?s:t.noop}).call(e,i("4ksj"))},rs19:function(t,e,i){"use strict";(function(t){function s(){this.attributes({convosettingsselector:".dmconversationsettings",backbuttonselector:".dmconversationsettings .dmactivity-back",activitytitleselector:".dmconversationsettings .dmactivity-title",dropdownselector:".dmconversationsettings-dropdown",dropdowncontentselector:".dmconversationsettings-dropdown .dmpopover-content",subscriptionsselector:".dmconversationsettings-subscriptions",subscriptionsfootertextselector:".dmconversationsettings-subscriptionsfooter",notificationsfootertextselector:".dmconversationsettings-notificationsfooter",participantsselector:".dmconversationsettings-participants",reportconversationselector:".dmconversationsettings .js-actionreportconversation",deleteconversationselector:".dmconversationsettings .js-actiondeleteconversation",addparticipantsselector:".dmconversationsettings .js-actionaddparticipants",editgroupnameselector:".dmconversationsettings .js-actioneditgroupname",viewavatarselector:".dmconversationsettings .js-actionviewavatar",uploadavatarselector:".dmconversationsettings .js-actionchangeavatar",removeavatarselector:".dmconversationsettings .js-actionremoveavatar",convosettingsavatarupdateselector:".dmconversationsettings .dmupdateavatar",convosettingsnameupdateselector:".dmconversationsettings .dmupdatename",convosettingsmentionsselector:".dmconversationsettings-mentions",notificationcheckboxselector:'input[name="dm[toggle_notifications]"]',subscriptioncheckboxselector:'input[name="dm[toggle_subscriptions]"]',mentionscheckboxselector:'input[name="dm[toggle_mentions]"]',blockupdatesinterval:8e3}),this.initconvosettings=function(t,e){e=e||{},this.isgroup=!e.is_oto,this.conversationid=e.conversation_id,this.ismuted=void 0,this.reporteduserid=void 0,this.dropdownhtml=void 0,this.participantshash=void 0,this.mentionsdisabled=void 0,this.trigger("uineedsdmconversation",{conversation_id:this.conversationid});var i=e.from_inbox?"to-inbox":"to-convo";this.select("backbuttonselector").removeattr("to-convo to-inbox").attr(i,!0),this.select("activitytitleselector").text(e.is_oto?object(r.default)("conversation info"):object(r.default)("group info")),this.select("reportconversationselector").text(e.is_oto?object(r.default)("report account"):object(r.default)("report conversation")),this.select("deleteconversationselector").text(e.is_oto?object(r.default)("delete conversation"):object(r.default)("leave conversation")),this.select("dropdownselector").toggleclass("u-hidden",!this.isgroup),this.$notificationscheckbox.prop("checked",e.is_muted),this.$mentionscheckbox.prop("checked",e.mentions_disabled),this.select("notificationsfootertextselector").empty(),this.select("subscriptionsselector").addclass("u-hidden"),this.select("participantsselector").empty().toggleclass("u-hidden",!this.isgroup),this.blocknotificationsupdates=!1,this.updateconvosettings(null,e)},this.updateconvosettings=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.conversation;i=void 0===i?{}:i;var s=i.title,n=void 0===s?{name:e.name}:s,o=i.avatar,a=void 0===o?{is_custom:!1}:o,r=e.conversation_settings;r=void 0===r?{}:r;var c=r.notifications,l=r.reporteduserid,h=r.dropdownhtml,d=void 0===h?null:h,u=r.participantshash,p=r.dmsubscriptions;this.$convosettings.toggleclass("has-readonlyactions",!e.is_trusted),this.$convosettings.toggleclass("is-selfconversation",!!e.is_self),this.updateconvosettingsname(n),this.updateconvosettingsavatar(a),this.dropdownhtml!==d&&(this.dropdownhtml=d,this.select("dropdownselector").html(this.dropdownhtml)),void 0!==u&&this.updateparticipantsview(u),void 0===c||this.blocknotificationsupdates||(this.updatenotifications(null,c),this.updatementions(null,c)),void 0!==p&&this.updatesubscriptions(p),this.reporteduserid=l},this.updatenotifications=function(t,e){var i=this;if(this.ismuted!==e.is_muted){this.ismuted=e.is_muted;var s=e.show_mentions_toggle&&!this.ismuted;this.select("notificationsfootertextselector").toggleclass("u-hidden",s),this.select("notificationsfootertextselector").text(this.mknotificationstext(e)),this.$notificationscheckbox.prop("checked",this.ismuted),t&&(this.blocknotificationsupdates=!0,settimeout(function(){return i.blocknotificationsupdates=!1},this.attr.blockupdatesinterval))}},this.updatementions=function(t,e){var i=e.mentions_disabled,s=e.show_mentions_toggle;this.select("convosettingsmentionsselector").toggleclass("u-hidden",!s),s&&this.mentionsdisabled!==i&&(this.mentionsdisabled=i,this.$mentionscheckbox.prop("checked",i))},this.mknotificationstext=function(e){return!this.ismuted&&this.isgroup?object(r.default)("disable all notifications from this conversation. this will not remove you from the group."):this.ismuted||this.isgroup?e.mute_expiration_time?object(r.default)("muted until {{time}}.",{time:new date(e.mute_expiration_time).tolocalestring(t("html").attr("lang")||"en",e.is_short_interval?{hour:"2-digit",minute:"2-digit"}:{weekday:"long",month:"short",day:"2-digit"})}):object(r.default)("notifications are muted."):object(r.default)("disable all notifications from this conversation.")},this.updateparticipantsview=function(t){this.participantshash!==t&&(this.trigger("uineedsconversationparticipants",{conversation_id:this.conversationid}),this.participantshash=t)},this.handleaddparticipants=function(){this.trigger("uiaddparticipants",{conversation_id:this.conversationid})},this.handlereportconversation=function(){this.trigger("uidmlaunchconversationreportwebview",{reported_user_id:this.reporteduserid,conversation_id:this.conversationid})},this.handledeleteconversation=function(){this.trigger("uishowdmdeleteconversationconfirmation",{conversation_id:this.conversationid,is_group:this.isgroup})},this.handlenotificationstoggling=function(t){this.$notificationscheckbox.is(":checked")?this.trigger("uidmdialogmutenotifications",{conversation_id:this.conversationid}):(this.trigger("uitogglenotifications",{conversation_id:this.conversationid,enable_notifications:!0}),this.trigger("uidmupdatenotificationsstate",{is_muted:!1})),this.$notificationscheckbox.prop("checked",!1),t.preventdefault()},this.handlementionstoggling=function(t){var e=this.$mentionscheckbox.is(":checked");this.trigger("uitogglementions",{conversation_id:this.conversationid,disable_mentions:e}),t.preventdefault()},this.handlesubscriptionstoggling=function(e){var i=t(e.target);this.trigger("uitoggledmbroadcastsubscription",{user_id:i.attr("data-broadcaster-id"),enable_subscriptions:i.is(":checked")}),e.preventdefault()},this.renderparticipants=function(t,e){this.select("participantsselector").html(e.html)},this.triggeronconvosettingsavatar=function(t,e){this.$updateavatar.trigger(t,e)},this.updateconvosettingsavatar=function(t){var e=t.html?"uidmsetconversationavatar":"uidmresetconversationavatar",i=h({is_oto:!this.isgroup,conversation_id:this.conversationid},t);this.triggeronconvosettingsavatar(e,i)},this.triggeronconvosettingsname=function(t,e){this.$updatename.trigger(t,e)},this.updateconvosettingsname=function(t){var e=t.html?"uidmupdateconversationname":"uidminitconversationname",i=h({is_oto:!this.isgroup,conversation_id:this.conversationid},t);this.triggeronconvosettingsname(e,i)},this.processuserupdates=function(t,e){var i=this;if(!e.should_request_inbox&&!e.is_empty){var s=(e.conversations||[]).find(function(t){return t.conversation_id===i.conversationid});this.updateconvosettings(null,s)}},this.updatesubscriptions=function(t){this.select("subscriptionsselector").removeclass("u-hidden"),this.select("subscriptionsfootertextselector").text(t.subscription_text),this.select("subscriptioncheckboxselector").prop("checked",t.enabled),this.select("subscriptioncheckboxselector").attr("data-broadcaster-id",t.broadcaster_id)},this.isdataforcurrentconvo=function(t,e){return e.conversation_id===this.conversationid},this.after("initialize",function(){this.$convosettings=this.select("convosettingsselector"),this.$notificationscheckbox=this.select("notificationcheckboxselector"),this.$mentionscheckbox=this.select("mentionscheckboxselector"),this.$updateavatar=this.select("convosettingsavatarupdateselector"),this.$updatename=this.select("convosettingsnameupdateselector"),this.on("click",{reportconversationselector:this.handlereportconversation,deleteconversationselector:this.handledeleteconversation,addparticipantsselector:this.handleaddparticipants,editgroupnameselector:this.triggeronconvosettingsname.bind(this,"uieditconversationname"),viewavatarselector:this.triggeronconvosettingsavatar.bind(this,"uidmrequestviewconversationavatar"),uploadavatarselector:this.triggeronconvosettingsavatar.bind(this,"uidmrequestuploadconversationavatar"),removeavatarselector:this.triggeronconvosettingsavatar.bind(this,"uidmrequestremoveconversationavatar"),dropdowncontentselector:"uiclosedropdowns"}),this.on("change",{notificationcheckboxselector:this.handlenotificationstoggling,subscriptioncheckboxselector:this.handlesubscriptionstoggling,mentionscheckboxselector:this.handlementionstoggling}),this.on(document,"uiinitdmconversationsettings",this.initconvosettings),this.on(document,"datadmuserupdates",this.processuserupdates),this.on("datadmconversationresult",object(o.a)(this.updateconvosettings,this.isdataforcurrentconvo)),this.on(document,"uidmupdatenotificationsstate",this.updatenotifications),this.on("dataconversationparticipantsresult",object(o.a)(this.renderparticipants,this.isdataforcurrentconvo)),this.attachchild(c.a,this.select("convosettingsavatarupdateselector")),this.attachchild(l.a,this.select("convosettingsnameupdateselector"))})}var n=i("dbjh"),o=i("4oun"),a=i("ajan"),r=i("0d4m"),c=i("5e2z"),l=i("csbf"),h=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t};e.a=object(n.default)(s,a.a)}).call(e,i("4ksj"))},rmeb:function(t,e,i){"use strict";function s(){this.adcachekey=function(t){var e="t" +t.id;return t.promoted_id&&(e+="i" +t.promoted_id),e}}e.a=s},"s+cd":function(t,e,i){"use strict";function s(){this.after("initialize",function(){this.scribeonevent("uinativenotificationpermissiongranted",{page:"",section:"",component:"native_notifications",element:"permission",action:"success"}),this.scribeonevent("uinativenotificationpermissiondenied",{page:"",section:"",component:"native_notifications",element:"permission",action:"failure"}),this.scribeonevent("uinativenotificationpermissiondismissed",{page:"",section:"",component:"native_notifications",element:"permission",action:"dismiss"}),this.scribeonevent("uinativenotificationpermissionrequested",{page:"",section:"",component:"native_notifications",element:"permission",action:"impression"}),this.scribeonevent("uinativenotificationtriggered",{page:"",section:"",component:"native_notifications",element:"notification",action:"show"}),this.scribeonevent("uinativenotificationclicked",{page:"",section:"",component:"native_notifications",element:"notification",action:"click"}),this.scribeonevent("uinativenotificationerror",{page:"",section:"",component:"native_notifications",element:"notification",action:"error"})})}var n=i("dbjh"),o=i("3odc"),a=object(n.default)(s,o.a);e.a=a},s0ux:function(t,e,i){"use strict";(function(t){function i(){this.getitemposition=function(e){return t(this.attr.genericinteractionitemselector).index(e.closest(this.attr.genericinteractionitemselector))}}e.a=i}).call(e,i("4ksj"))},s6yn:function(t,e,i){"use strict";(function(t){function s(){this.attributes({feedbackdismissselector:".dmfeedback-dismiss",feedbackselector:".dmfeedback",feedbackpageframeselector:"iframe.b2cfeedback"}),this.showfeedback=function(t,e){this.$b2cfeedback.is(":visible")||this.$b2cfeedback.show();var i="/i/pages/feedback?carduri=" +encodeuricomponent(t)+"&lang="+e;this.$feedbackiframe.attr(" src")!==i&&this.$feedbackiframe.attr("src",i),this.trigger("uifeedbackpanelopened")},this.dismissfeedback=function(){var t=this.$feedbackiframe.data("current-view");this.closefeedback(),this.trigger("uib2cfeedbackdismiss",{cardname:this.feedback.name,feedbackid:this.feedback.feedback_id,currentview:t})},this.closefeedback=function(){this.$b2cfeedback.hide(),this.$feedbackiframe.attr("src",""),this.trigger("uifeedbackpanelclosed")},this.handlefeedbackerror=function(t,e){var i=e&&e.errormessage;this.trigger(document,"uishowerror",{message:i}),this.trigger("datadmerror",{message:i})},this.handlefeedbacktweetbtnclick=function(t,e){this.closefeedback(),this.trigger(document,"uiopentweetdialog",{title:object(r.default)("tweet about your experience"),cantweetdefaulttext:!1,text:e&&e.prefilledtext})},this.updatefeedbackpanel=function(e,i){var s=t("html").attr("lang")||"en";i&&i.feedback&&(this.feedback=i.feedback,this.showfeedback(this.feedback.card_uri,s))},this.handlefeedbackupdateview=function(t,e){this.$feedbackiframe.data("current-view",e.view)},this.resizeiframe=function(t){this.fitiframeheight(t,{iframeselector:this.attr.feedbackpageframeselector,isqualified:function(t){return t.name&&"commerce_page"===t.name&&t.height}})},this.closefeedbackpanelwithid=function(t,e){this.feedback&&e.dmid===this.feedback.dm_id&&this.closefeedback()},this.after("initialize",function(){this.$b2cfeedback=this.select("feedbackselector"),this.$feedbackiframe=this.select("feedbackpageframeselector"),this.on("uib2cclosefeedbackanchor uidmdialogclearactions",this.closefeedback),this.on("uib2cfeedbackposterror",this.handlefeedbackerror),this.on("uib2ctweetbtnclicked",this.handlefeedbacktweetbtnclick),this.on("uib2cfeedbackupdateview",this.handlefeedbackupdateview),this.on("uidmconversationupdated",this.updatefeedbackpanel),this.on("uidmmesagedeleted",this.closefeedbackpanelwithid),this.on(window,"message",this.resizeiframe),this.on(window,"message",this.proxyiframeevents),this.on("click",{feedbackdismissselector:this.dismissfeedback})})}var n=i("dbjh"),o=i("tbnr"),a=i("ipyt"),r=i("0d4m"),c=object(n.default)(s,o.a,a.a);e.a=c}).call(e,i("4ksj"))},s9br:function(t,e,i){"use strict";function s(){this.attributes({acceptselector:".dmtrustrequest-confirm",trustcontainerselector:".dmconversation-trustrequest",untrustedmediaselector:".sensitive--untrusted"}),this.shouldupdate=function(t,e){return this.conversationid!==e.conversation_id||this.istrusted!==e.is_trusted||this.isreadonly!==e.is_readonly},this.storeconvodata=function(t){this.conversationid=t.conversation_id,this.istrusted=t.is_trusted,this.isoto=t.is_oto,this.isreadonly=t.is_readonly},this.handleconversationupdate=function(t,e){this.storeconvodata(e);var i=!1===this.istrusted&&!this.isreadonly;if(i){var s=e.conversation.title.raw,n=r.a.render({conversation_title:s,is_oto:e.is_oto});this.select("trustcontainerselector").html(n)}this.select("trustcontainerselector").toggleclass("u-hidden",!i);var o=i?"uidmhidecomposesection":"uidmshowcomposesection";this.trigger(o)},this.handleaccept=function(t,e){this.select("trustcontainerselector").addclass("u-hidden"),this.select("untrustedmediaselector").trigger("uishowallmedia"),this.trigger("uidmshowcomposesection"),this.trigger("uidmtrustrequestaccept",{conversation_id:this.conversationid})},this.after("initialize",function(){this.on("uidmupdatetrustrequest uiopenconversationview uiopennewconversationview",object(o.a)(this.handleconversationupdate,this.shouldupdate,this)),this.on("click",{acceptselector:this.handleaccept})})}var n=i("dbjh"),o=i("4oun"),a=i("unb/"),r=i.n(a);e.a=object(n.default)(s)},skr5:function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in a)e[s]||(e[s]=a[s]);return r.render(t,e,i)}var n=i("opvs").default,o={"promptbird/templates/icon":i("8qxq"),"promptbird/templates/title":i("orcd"),"promptbird/templates/explanation":i("7sib"),"promptbird/templates/call_to_action":i("hk7e"),"promptbird/templates/second_call_to_action":i("8t/i")},a=n(o),r=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("<div class="promptbirdprompt promptbirdprompt--modal '),s.b(s.v(s.f("prompt_css_class",t,e,0))),s.b('" data-prompt-id=""),s.b(s.v(s.f(" prompt_id",t,e,0))),s.b('" data-prompt-intent=""),s.b(s.v(s.f(" prompt_intent",t,e,0))),s.b('">\n'),s.b(s.rp("<promptbird/templates/icon0",t,e," ")),s.b(s.rp("<promptbird/templates/title1",t,e," ")),s.b(s.rp("<promptbird/templates/explanation2",t,e," ")),s.b(s.rp("<promptbird/templates/call_to_action3",t,e," ")),s.b(s.rp("<promptbird/templates/second_call_to_action4",t,e," ")),s.b("</div>\n"),s.fl()},partials:{"<promptbird/templates/icon0":{name:"promptbird/templates/icon",partials:{},subs:{}},"<promptbird/templates/title1":{name:"promptbird/templates/title",partials:{},subs:{}},"<promptbird/templates/explanation2":{name:"promptbird/templates/explanation",partials:{},subs:{}},"<promptbird/templates/call_to_action3":{name:"promptbird/templates/call_to_action",partials:{},subs:{}},"<promptbird/templates/second_call_to_action4":{name:"promptbird/templates/second_call_to_action",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:a,render:s}}).call(e,i("jtwp"))},su7p:function(t,e,i){"use strict";function s(){this.defaultattrs({prompttype:"modal",top:120,width:590,blockclickduration:2e3}),this.insertprompt=function(t){var e=!t.renderdata.hide_dismiss,i="promptbirdprompt--black"===t.renderdata.prompt_css_class;this.select("modalcontentselector").toggleclass("promptbirdprompt--black",i),this.disablebackgroundclicks(e),this.select("modalcontentselector").html(t.html),this.open(),this.removeoradjustclosebtnposition(e)},this.removeprompt=function(){},this.disablebackgroundclicks=function(t){var e=this;this.attr.enableclosingviabackground=!1,t&&settimeout(function(){return e.attr.enableclosingviabackground=!0},this.attr.blockclickduration)},this.removeoradjustclosebtnposition=function(t){this.select("closebuttonselector").remove(),t&&this.select("promptselector").append(this.$modalclosebtn)},this.dismisspromptondismissdialog=function(){this.dismissprompt(this.select("promptselector"))},this.onuishortcutesc=function(){this.isopen()&&(this.trigger("uipromptbirdmodalpromptkeyboarddismiss"),this.dismisspromptondismissdialog())},this.after("initialize",function(){this.$modalclosebtn=this.select("closebuttonselector").clone(!1),this.on(document,"uishortcutesc",this.onuishortcutesc),this.on(this.$node,"uidialogclosed",this.dismisspromptondismissdialog),this.on("click",{actionselector:this.close})})}var n=i("k7b4"),o=i("uhc7");e.a=n.a.mixin(s,o.a)},t0ie:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({timebubbleselector:".videotrim-timebubble",timelineselector:".videotrim-timeline",timelinecursorselector:".videotrim-timelinecursor",scrubberselector:".videotrim-scrubber",unplayedscrubberselector:".videotrim-unplayedscrubber",timeselector:".videotrim-time",widesttimeselector:".videotrim-widesttime",selectionselector:" .videotrim-selection",ticksselector:".videotrim-ticks",innerselectionselector:".videotrim-innerselection",lefthandleselector:".videotrim-lefthandle",midhandleselector:".videotrim-midhandle",midhandlecursorselector:".videotrim-midhandlecursor",righthandleselector:".videotrim-righthandle",shroudselector:".videotrim-shroud",minselectionduration:1,maxselectionduration:30,maxvisibleduration:36,defaultselectionduration:20,scrollpixels:20,timetofadeoutbubble:1e3,pixelsbeforewarninglength:50,maxpixelspersecond:30,widthforhandles:42,minwidthformidhandle:18,dragscrollrepeatinterval:30}),this.setinitialtrimrange=function(t,e){this.initialtrimrange=e.initialtrimrange},this.initaftervideoloads=function(){if(""===this.initialtrimrange)this.starttime=0,this.endtime=this.videoduration;else if(this.initialtrimrange){var t=this.initialtrimrange.split("-");this.starttime=+t[0],this.endtime=+t[1]}else this.starttime=(this.videoduration-this.attr.defaultselectionduration)/2,this.endtime=this.starttime+this.attr.defaultselectionduration;this.starttime=this.clamp(this.starttime,0,this.videoduration),this.endtime=this.clamp(this.endtime,0,this.videoduration),this.visiblewidth=this.$node.width()-this.attr.widthforhandles,this.defaultpixelspersecond=this.visiblewidth/math.min(this.videoduration,this.attr.maxvisibleduration),this.timelinepixelspersecond=this.$timeline.width()/this.videoduration,this.generateticks(),this.zoomtodefault(),this.showselectionbubble(),this.playvideo(this.starttime),this.notifytrimrange()},this.generateticks=function(){for(var t="" ,e=0;e<this.videoduration;e+=1){t+="<div style="left:"+(100*e/this.videoduration).tofixed(4)+"%">'+(e%60?"":r.a.formatduration(e))+"</div>"}this.$ticks.html(t)},this.calculatescale=function(){this.offset=-this.$selection.position().left,this.pixelspersecond=this.$innerselection.width()/this.videoduration,this.percentpersecond=100/this.videoduration,this.mintimeforscrolling=(this.offset-this.attr.scrollpixels)/this.pixelspersecond,this.maxtimeforscrolling=(this.offset+this.attr.scrollpixels+this.visiblewidth)/this.pixelspersecond},this.formattimeprogress=function(t){return r.a.formatduration(t)+" / "+r.a.formatduration(this.videoduration)},this.updatepositions=function(){if(this.$mid.toggle(!!this.videoduration),this.videoduration){this.calculatescale(),this.$mid.css({left:this.starttime*this.percentpersecond+"%",width:(this.endtime-this.starttime)*this.percentpersecond+"%"});var t=math.min(-1,((this.endtime-this.starttime)*this.pixelspersecond-this.attr.minwidthformidhandle)/2);this.$midhandlecursor.css({left:t,right:t});var e=this.isprogressvisible?math.max(100*(this.getvideocurrenttime()-this.starttime)/(this.endtime-this.starttime),0):0;this.$unplayedscrubber.css("left",e+"%"),this.$scrubber.css({left:this.starttime*this.percentpersecond+"%",right:100-this.endtime*this.percentpersecond+"%"}),this.$widesttime.text(this.formattimeprogress(this.videoduration)),this.$time.text(this.formattimeprogress(this.getvideocurrenttime())),this.select("timelineselector"),this.updatebubblepos()}},this.showselectionbubble=function(){var t=math.max(this.selectionduration(),this.attr.minselectionduration);this.setbubble(this.formattimeforselection(t),"mid")},this.setendbubblewhiledragging=function(){3===this.dragmode?this.setbubble(r.a.formatduration(this.endtime),"right"):this.setbubble(r.a.formatduration(this.starttime),"left")},this.selectionduration=function(){return this.endtime-this.starttime},this.ismaxselected=function(){return this.selectionduration()>=this.attr.maxselectionduration},this.isminselected=function(){return this.selectionduration()<=this.attr.minselectionduration},this.formattimeforselection=function(t){var e=math.floor(t/60),i=math.floor(t%60),s="abbreviated";this.timespanformatter.patterns.none.minute.abbreviated||(s="short");var o={minuteswithabbreviation:this.timespanformatter.format(60*e,{direction:"none",type:s,unit:"minute"}),secondswithabbreviation:this.timespanformatter.format(i,{direction:"none",type:s,unit:"second"})};return this.ismaxselected()?e?object(n.default)("{{minuteswithabbreviation}} {{secondswithabbreviation}} max selected",o):object(n.default)("{{secondswithabbreviation}} max selected",o):this.isminselected()?object(n.default)("{{secondswithabbreviation}} min selected",o):e?object(n.default)("{{minuteswithabbreviation}} {{secondswithabbreviation}} selected",o):object(n.default)("{{secondswithabbreviation}} selected",o)},this.setbubble=function(t,e){this.bubblemode=e,this.bubblewidth=this.$timebubble.attr("data-mode",e||"").text(t||"").css("opacity",0).show().outerwidth(),this.updatebubblepos(),this.$timebubble.css("opacity",1).delay(this.attr.timetofadeoutbubble).fadeout(500)},this.updatebubblepos=function(){var t=null,e=void 0,i=void 0;switch(this.bubblemode){case"left":e=0,i=0;break;case"right":e=100,i=-this.bubblewidth;break;case"mid":e=50;var s=(this.starttime+this.endtime)*this.timelinepixelspersecond/2;s<this.bubblewidth/2?(i=-15,t="left"):s>this.videoduration*this.timelinepixelspersecond-this.bubblewidth/2?(i=23-this.bubblewidth,t="right"):i=-this.bubblewidth/2;break;default:return}this.$timebubble.css({left:e+"%","margin-left":i}),t?this.$timebubble.attr("data-clip",t):this.$timebubble.removeattr("data-clip")},this.setselectionview=function(t,e){e?this.$selection.width(e+this.attr.widthforhandles):e=this.$innerselection.width(),this.$selection.css("left",-this.clamp(t,0,e-this.visiblewidth)),this.updatepositions()},this.zoomtodefault=function(){var t=this.defaultpixelspersecond*this.videoduration,e=(this.defaultpixelspersecond*(this.starttime+this.endtime)-this.visiblewidth)/2;e=this.clamp(e,0,t-this.visiblewidth),this.setselectionview(e,t)},this.playlastfewseconds=function(t){this.playvideo(t?math.max(this.endtime-3,this.starttime):this.starttime),this.updatepositions()},this.begindrag=function(t,e){if(this.$shroud.toggleclass("is-sideways",1===t||3===t),this.dragmode=t,this.dragstartx=e.clientx,this.dragdirty=!1,this.dragstartoffset=this.offset,this.draghandlesinview=[1===t||4===t,3===t||4===t],4===t){var i=(e.clientx-this.$timeline.offset().left)/this.timelinepixelspersecond;if(i<this.starttime||i>this.endtime){var s=this.endtime-this.starttime;this.starttime=this.clamp(i,0,this.videoduration-s),this.endtime=this.starttime+s}this.$shroud.show(),this.zoomtodefault()}this.$mid.addclass("is-active"),this.isvideoplaying()||this.setdragpause(),this.updatepositions(),this.setendbubblewhiledragging()},this.drag=function(t){if(0!==this.dragmode){var e=window.getselection();e&&e.removeallranges(),cleartimeout(this.dragtimeoutid);var i=!1;this.$shroud.show(),this.calculatescale(),2===this.dragmode&&(this.draghandlesinview=this.draghandlesinview.map(function(t,e){return t||0===this.scrollshiftforhandle(e)},this));var s=t.clientx-this.dragstartx,n=void 0;4===this.dragmode?n=this.timelinepixelspersecond:(n=this.pixelspersecond,s+=this.offset-this.dragstartoffset);var o=this.applydrag(s/n)*n;o?(this.dragdirty=!0,this.updatepositions(),this.dragstartx+=o,this.setdragpause(),this.setendbubblewhiledragging()):math.abs(s)>this.attr.pixelsbeforewarninglength&&(this.ismaxselected()||this.isminselected())&&this.showselectionbubble(),4===this.dragmode?this.zoomtodefault():this.draghandlesinview.foreach(function(t,e){if(t){var s=this.scrollshiftforhandle(e);s&&(this.setselectionview(this.offset+s),i=!0)}},this),i&&(this.dragtimeoutid=settimeout(this.drag.bind(this,t),this.attr.dragscrollrepeatinterval))}},this.enddrag=function(){var t=this;if(this.dragmode){this.$shroud.hide(),this.updatepositions();var e=3===this.dragmode;this.dragdirty&&this.showselectionbubble(),this.isvideoplaying()?this.doubleclicktimeoutid||(this.doubleclicktimeoutid=settimeout(function(){t.doubleclicktimeoutid=null,t.playlastfewseconds(e)},300)):this.playlastfewseconds(e),this.$mid.removeclass("is-active"),this.dragmode=0,cleartimeout(this.dragtimeoutid),this.notifytrimrange()}},this.setdragpause=function(t){this.pausevideo(3===this.dragmode?this.endtime:this.starttime)},this.calculatedrag=function(t,e,i){return t=this.clamp(t+e,0,this.videoduration),1===this.dragmode?t=this.clamp(t,this.endtime-this.attr.maxselectionduration,this.endtime-this.attr.minselectionduration):3===this.dragmode&&(t=this.clamp(t,this.starttime+this.attr.minselectionduration,this.starttime+this.attr.maxselectionduration)),4!==this.dragmode&&this.draghandlesinview[i]&&(t=this.clamp(t,this.mintimeforscrolling,this.maxtimeforscrolling)),t},this.applydragleft=function(t){var e=this.starttime;return this.starttime=this.calculatedrag(this.starttime,t,0),this.starttime-e},this.applydragright=function(t){var e=this.endtime;return this.endtime=this.calculatedrag(this.endtime,t,1),this.endtime-e},this.applydrag=function(t){return 1===this.dragmode?this.applydragleft(t):3===this.dragmode?this.applydragright(t):t<0?this.applydragright(this.applydragleft(t)):this.applydragleft(this.applydragright(t))},this.scrollshiftforhandle=function(t){var e=(t?this.endtime:this.starttime)*this.pixelspersecond;return this.clamp(this.offset,e-this.visiblewidth,e)-this.offset},this.hoversidehandle=function(e){0===this.dragmode&&t(e.target).toggleclass("is-hover","mouseenter"===e.type)},this.hovermidhandle=function(t){0===this.dragmode&&this.$left.add(this.$right).toggleclass("is-hover","mouseenter"===t.type)},this.hoverselectionbubble=function(){0===this.dragmode&&this.showselectionbubble()},this.notifytrimrange=function(){var t=this.endtime-this.starttime>this.videoduration-.01;this.trigger("uitrimrangechanged",{trimstart:this.starttime,trimend:this.endtime,trimrange:t?"":this.starttime.tofixed(3)+"-"+this.endtime.tofixed(3)})},this.clamp=function(t,e,i){return math.max(e,math.min(i,t))},this.after("initialize",function(){this.timespanformatter=new l.a.timespanformatter,this.dragmode=0,this.$timebubble=this.select("timebubbleselector"),this.$timeline=this.select("timelineselector"),this.$scrubber=this.select("scrubberselector"),this.$unplayedscrubber=this.select("unplayedscrubberselector"),this.$time=this.select("timeselector"),this.$widesttime=this.select("widesttimeselector"),this.$selection=this.select("selectionselector"),this.$ticks=this.select("ticksselector"),this.$innerselection=this.select("innerselectionselector"),this.$left=this.select("lefthandleselector"),this.$mid=this.select("midhandleselector"),this.$midhandlecursor=this.select("midhandlecursorselector"),this.$right=this.select("righthandleselector"),this.$shroud=this.select("shroudselector"),this.on("uiloadvideo",this.setinitialtrimrange),this.on("uivideoloaded uivideounloaded",this.initaftervideoloads),this.on("uivideostatechanged",this.updatepositions),this.on("mousedown",{lefthandleselector:this.begindrag.bind(this,1),righthandleselector:this.begindrag.bind(this,3),midhandlecursorselector:this.begindrag.bind(this,2),timelineselector:this.begindrag.bind(this,4)}),this.on(window,"mousemove",this.drag),this.on(window,"mouseup",this.enddrag),this.on(this.$midhandlecursor,"mouseenter mouseleave",this.hovermidhandle),this.on(this.$right.add(this.$left),"mouseenter mouseleave",this.hoversidehandle),this.on(this.select("timelinecursorselector").add(this.$mid),"mouseenter",this.hoverselectionbubble)})}var n=i("0d4m"),o=i("dbjh"),a=i("1nsd"),r=i("20ha"),c=i("zvsr"),l=i.n(c);e.a=object(o.default)(s,a.a)}).call(e,i("4ksj"))},taxt:function(t,e,i){"use strict";function s(){this.defaultattrs({videoinfoselector:".composervideoinfo"}),this.videoinfoheight=null,this.clearstatedata=function(t,e){this.videoinfoheight=null,this.select("videoinfoselector").addclass("u-hidden").html("")},this.renderadvancedvideoinfo=function(t){var e={has_cta:""!==t.ctatype,is_cta_visit_site:"visit_site"===t.ctatype,is_cta_watch_now:"watch_now"===t.ctatype,embeddable:t.embeddable,cta_url:t.ctaurl,title:t.title,description:t.description},i=r.a.render(e);this.select("videoinfoselector").removeclass("u-hidden").replacewith(i)},this.updatefromeditdialog=function(t,e){var i=o.a.get(e.fileid);if(i){var s=i.advanced;i.isvideo&&s&&this.renderadvancedvideoinfo(s)}},this.createmediadataforsending=function(){var t=this.gettweetboxid();return object(n.a)(t).reduce(function(t,e){var i=e.advanced,s=t.alttext||e.alttext,n=i?{advanced_title:i.title,advanced_description:i.description,advanced_cta_type:i.ctatype,advanced_cta_url:i.ctaurl,advanced_embeddable:!!i.embeddable}:{};return c({},t,n,s?{has_alt_text:!0}:{})},{})},this.around("createdataforsending",function(t){var e=t();return c({},e,this.createmediadataforsending())}),this.after("initialize",function(){this.on(document,"uimediaeditdialogdone",this.updatefromeditdialog),this.on("uitweetsent uitweetcancelled uipreviewthumbnailremoveall uipreviewthumbnailremoved",this.clearstatedata)})}var n=i("wkyg"),o=i("h6fk"),a=i("iq7t"),r=i.n(a),c=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t};e.a=s},todr:function(t,e,i){"use strict";function s(){this.sendtweet=function(t,e){this.post({url:this.apiendpointurl(p),data:e,success:r.b.tweet.send_success,error:this.ontweeterror.bind(this),useoauthsessionauth:!0})},this.ontweeterror=function(t){this.trigger(r.b.tweet.send_error,t);var e=r.j[object(o.b)(t)];return e?(this.trigger("uishowerror",{message:e}),promise.resolve()):promise.reject()},this.sendmedia=function(t){var e=this;return this.mediasrufinalize(t).then(function(i){return e.uploadmetadata(i,t)}).then(function(i){return t.mediaid=i,e.trigger(r.b.media.send_success,{mediaid:i}),i})},this.sendmediabatch=function(t,e){var i=this;return promise.all(e.mediaitems.map(this.sendmedia.bind(this))).then(function(t){return i.trigger(r.b.media.send_batch_success,{mediaids:t})}).catch(function(t){return i.onmediaerror(t)})},this.onmediaerror=function(t){this.trigger("uishowerror",{message:t.message}),this.trigger(r.b.media.send_error,{errors:[t]})},this.sendcard=function(t,e){var i=this;return this.createcard(e).then(function(t){return i.trigger(r.b.card.send_success,{carduri:t})}).catch(function(t){return i.oncarderror(t)})},this.oncarderror=function(t){var e=object(n.default)("sorry, there was a problem creating your poll. please try again later.");this.trigger("uishowerror",{message:e}),this.trigger(r.b.card.send_error,{errors:[t]})},this.after("initialize",function(){this.on(r.b.tweet.send,this.sendtweet),this.on(r.b.card.send,this.sendcard),this.on(r.b.media.send_batch,this.sendmediabatch)})}var n=i("0d4m"),o=i("2doy"),a=i("dbjh"),r=i("jfpi"),c=i("ibie"),l=i("vtwx"),h=i("jzgn"),d=i("x+k1"),u=object(a.default)(s,l.a,d.a,h.a,c.a),p="/statuses/update.json";e.a=u},tx0k:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({itemtype:"user",dialogselector:"#dm_dialog",backbuttonselector:".dmconversationsettings .dmactivity-back",noreposition:!0,disablekeyboardshortcuts:!0,itemselector:".dminboxitem",openactivity:".dmactivity--open",openactivityclass:"dmactivity--open",addparticipants:".dmaddparticipants",compose:".dmcompose",conversation:".dmconversation",convosettings:".dmconversationsettings",emptystate:".dmemptystate",inbox:".dminbox",linksforinbox:".dmactivity-back[to-inbox]",linksforconvo:".dmactivity-back[to-convo]",linksforcompose:".dm-new-button",linksforconvosettings:".dmactivity-back[to-convosettings], .dm-to-convosettings",linkforconvosettingsfrominbox:".inbox-to-convosettings",tofieldselector:".dm-to-input",errorbar:".dmerrorbar",errortext:".dmerrorbar-text",mediapreviewselector:".dminboxitem-media, .dm-attached-media"}),this.opendialog=function(t,e){e&&e.frominitdata&&this.on("uidialogclosed",function(){this.isdialognavigation||this.isoverlaynavigation||this.trigger("uinavigate",{href:"/"}),this.isoverlaynavigation=!1}),this.trigger("uineedsdmconversationlist"),e&&e.id?this.trigger("uirenderconversationview",{conversation_id:o.a.generateconversationid(this.attr.userid,e.id),name:e.name,is_oto:!0,default_composer_text:e.default_composer_text,welcome_message_id:e.welcome_message_id,has_tweet_attachment:e.has_tweet_attachment,retain_tweet_attachment:e.retain_tweet_attachment}):e&&e.conversation_id?this.trigger("uirenderconversationview",e):e&&e.default_composer_text?this.trigger("uiopennewdm",{default_composer_text:e.default_composer_text}):this.renderinbox(),this.open()},this.closedialog=function(){this.isdialognavigation=!1,this.close()},this.renderinbox=function(t,e){t&&t.preventdefault(),this.renderview("inbox");var i=this.select("inbox");if(this.trigger("uireadstatechanged",{msgcount:0}),i.hasclass("needs-refresh"))return i.removeclass("needs-refresh"),void this.trigger("uineedsdmconversationlist");this.trigger("uidmdialogopenedconversationlist")},this.handleprofilelinkclick=function(){this.isdialognavigation||(this.isdialognavigation=this.$dialog.is(":visible"),this.closeimmediately())},this.renderconversationview=function(t,e){this.renderview("conversation"),this.trigger("uidmdialogopenedconversation",{recipient:e.conversation_id||e.screen_names})},this.rendercompose=function(t,e){t&&t.preventdefault(),this.renderview("compose"),this.trigger("uidmdialogopenednewconversation"),this.isopen()||(this.trigger("uineedsdmconversationlist"),this.open())},this.renderaddparticipants=function(t,e){this.renderview("addparticipants")},this.rendersettingsviewfrominbox=function(e){var i=t(e.target).closest(this.attr.itemselector),s=i.attr("data-thread-id"),n=i.data("is-oto"),o=i.data("is-muted");this.trigger("uiinitdmconversationsettings",{conversation_id:s,is_oto:n,is_muted:o,from_inbox:!0}),this.renderview("convosettings",s)},this.renderview=function(t){this.trigger("uidismissalldmnotices"),this.select("openactivity").removeclass(this.attr.openactivityclass),this.select(t).addclass(this.attr.openactivityclass),this.trigger("uidmactivityopened",{activity:t}),this.trigger(this.$dialog,"uidialogcontentchanged"),this.setscribecomponent(t)},this.setscribecomponent=function(t){this.attr.eventdata||(this.attr.eventdata={});var e=void 0;switch(t){case"compose":e="dm_new_conversation_dialog" ;break;case"conversation":e="dm_existing_conversation_dialog" ;break;case"inbox":e="dm_conversation_list_dialog" ;break;case"addparticipants":e="dm_add_participants_dialog" }e&&(this.attr.eventdata.scribecontext={component:e})},this.showerror=function(t,e){this.select("errortext").html(e.message||e.error),this.select("errorbar").show(),this.trigger(this.select("tofieldselector"),"uitypeaheadignorenextfocus"),this.trigger(this.$dialog,"uidialogcontentchanged")},this.previewmedia=function(e,i){e.preventdefault();var s=t(e.target);this.trigger("uidmdialogmediapreview",{imgurl:s.attr("data-full-img"),dmid:s.closest(".dm").attr("data-message-id")||s.closest(".dminboxitem").attr("data-last-message-id")})},this.hidedmdialog=function(){this.$dialogcontainer.hide(),this.openstate=!1},this.showdmdialog=function(t,e){this.$dialogcontainer.show(),this.openstate=!0},this.restoredialog=function(){this.isdialognavigation&&(this.isdialognavigation=!1,this.open())},this.dismisserrors=function(){this.trigger("uihidemessage"),this.select("errorbar").trigger("uidismissdmnotice")},this.setoverlaynavigation=function(){this.isoverlaynavigation=!0},this.after("initialize",function(){this.$dialogcontainer=this.select("dialogselector"),this.$backbutton=this.select("backbuttonselector"),this.on(document,"uishowprofilepopup",this.handleprofilelinkclick),this.on(document,"uicloseprofilepopup",this.restoredialog),this.on(document,"uineedsdmdialog",this.opendialog),this.on(document,"uiclosedmdialog",this.closedialog),this.on(document,"uiopennewdm",this.rendercompose),this.on(document,"uiaddparticipants",this.renderaddparticipants),this.on(document,"uinavigate","uiclosedmdialog"),this.on(document,"uioverlaynavigate",this.setoverlaynavigation),this.on("uirenderconversationlistview",this.renderinbox),this.on("uirenderconversationview uirendernewconversationview",this.renderconversationview),this.on("uidmaddparticipantsdone",this.renderview.bind(this,"convosettings")),this.on(document,"datadmsendsuccess datadmdeletesuccess","datadmsuccess"),this.on(document,"datadmerror",this.showerror),this.on(document,"uidmdialogmediapreview",this.hidedmdialog),this.on(document,"uidmdialogmediapreviewclosed",this.showdmdialog),this.on("uidialogclosed uidmhideerror",this.dismisserrors),this.on("uidialogclosed","uidmdialogclosed"),this.on("click",{linksforinbox:this.renderinbox,linksforconvo:this.renderview.bind(this,"conversation"),linksforconvosettings:this.renderview.bind(this,"convosettings"),linkforconvosettingsfrominbox:this.rendersettingsviewfrominbox,linksforcompose:"uiopennewdm",mediapreviewselector:this.previewmedia})})}var n=i("dbjh"),o=i("wrdm"),a=i("uhc7"),r=i("xgwv"),c=i("ca0f"),l=i("w5ds"),h=i("el2s"),d=object(n.default)(s,a.a,c.a,r.a,l.a,h.a);e.a=d}).call(e,i("4ksj"))},tblw:function(t,e,i){"use strict";function s(){this.defaultattrs({noshowerror:!0}),this.update=function(t,e){var i=this;e=e||{};var s=t.target,n=o.a.get(e.fileid);n&&this.mediasrufinalize(n).then(function(t){return i.post({url:"/i/direct_messages/update_avatar",data:{conversation_id:e.conversation_id,media_id:t},success:l(s,"datadmupdateconversationavatarsuccess"),error:l(s,"datadmupdateconversationavatarfailed")})})},this.remove=function(t,e){e=e||{},this.post({url:"/i/direct_messages/update_avatar",data:{conversation_id:e.conversation_id},success:l(t.target,"datadmremoveconversationavatarsuccess"),error:l(t.target,"datadmremoveconversationavatarfailed")})},this.after("initialize",function(){this.on("uidmupdateconversationavatar",this.update),this.on("uidmremoveconversationavatar",this.remove)})}var n=i("dbjh"),o=i("h6fk"),a=i("ldny"),r=i("vtwx"),c=i("x+k1"),l=a.a.triggerfn;e.a=object(n.default)(s,r.a,c.a)},tgdm:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({selectuserscontainerselector:".user-select-container",typeaheadcontainerselector:".typeahead-container",dropdownselector:".dropdown-menu.typeahead",inputselector:".user-select-controls input",itemselector:".typeahead-item",maxselection:10,requesttype:"",alwaysopen:!1,includepreviouslyselectedusers:!1,controlsselector:".user-select-controls",userbordercolorclass:"u-borderusercolorlight",datasourcefortagging:"accounts",additionaldatasourcerenderers:[],typeaheadsrc:"",decidersfortypeahead:{},selecteditemtype:"mediatagusers",cannotselectclass:"cannot-select",eventdata:{scribecontext:{element:"tweet_box"}}}),this.selectuser=function(t,e){if(null!=(e&&e.item&&e.item.id)){var i=this.shouldupdateuserlist(t,e),s=this.selecteduserindex(e.item.id);-1!==s||i||t.stopimmediatepropagation(),-1===s&&i?this.selectedusers.push(e.item):-1!==s&&(this.selectedusers.splice(s,1),i=!0),i?(this.trigger("uiupdatedselectedusers",{items:this.selectedusers}),this.$input.val(""),this.trigger(this.$input,"uitextchanged",{text:this.$input.val(),position:n.a.getposition(this.$input[0])})):this.trigger("uicouldnotselectuser"),this.$input.focus()}},this.shouldupdateuserlist=function(e,i){var s=i&&i.item&&i.item.id;return null!=s&&!t(e.target).find("[data-user-id="+s+"]").hasclass(this.attr.cannotselectclass)&&this.selectedusers.length<this.maxselecteditems},this.selecteduserindex=function(t){for(var e=0;e<this.selectedusers.length;e++)if(this.selectedusers[e].id===t)return e;return-1},this.resetselectedusers=function(){this.selectedusers=[],this.trigger("uitypeaheadclearrenderedresults")},this.setmaxselecteditems=function(t){this.maxselecteditems=parseint(t,10)},this.updatemaxselecteditems=function(t,e){var i=e&&e.maxselecteditems>=0?e.maxselecteditems:this.maxselecteditems;this.setmaxselecteditems(i)},this.resetcomposer=function(){this.resetselectedusers(),this.$input.val(""),this.trigger("uiupdatedselectedusers",{items:this.selectedusers}),this.trigger(this.$input,"uitextchanged",{text:this.$input.val(),position:n.a.getposition(this.$input[0])})},this.focusinputwithresultsshown=function(t,e){this.$input.focus(),this.forceshow(),this.trigger("uitypeaheadresultsshown")},this.focusinput=function(){this.select("controlsselector").addclass(this.attr.userbordercolorclass)},this.blurinput=function(){this.select("controlsselector").removeclass(this.attr.userbordercolorclass)},this.forceshow=function(){this.select("dropdownselector").show()},this.forcehide=function(){this.select("dropdownselector").hide(),this.trigger("uitypeaheadsetpreventdefault",{preventdefault:!1,key:9}),this.trigger("uitypeaheadresultshidden")},this.hideandmanageesc=function(t){t.preventdefault(),t.stoppropagation(),this.$input.blur(),this.forcehide()},this.possiblyhide=function(e){e.target===this.$node.get(0)||t.contains(this.$node.get(0),e.target)||this.forcehide()},this.after("initialize",function(){r.a.attachto(this.$node,{inputselector:this.attr.inputselector,eventdata:this.attr.eventdata});var t=[this.attr.datasourcefortagging,"selectedusers"];this.attr.includepreviouslyselectedusers&&t.push("prefillusers");var e=[["selectedusers",t]];this.attr.additionaldatasourcerenderers&&this.attr.additionaldatasourcerenderers.length&&e.push.apply(e,this.attr.additionaldatasourcerenderers),this.setmaxselecteditems(this.attr.maxselection),a.a.attachto(this.$node,{alwaysopen:this.attr.alwaysopen,blocklinkactions:!0,typeaheadsrc:this.attr.typeaheadsrc,datasourcerenders:e,datasourceoptions:{requesttype:this.attr.requesttype},selecteditemtype:this.attr.selecteditemtype,deciders:this.attr.decidersfortypeahead,inputselector:this.attr.inputselector,eventdata:this.attr.eventdata}),this.on("uitypeaheadrenderresults uishowselectedusers",this.forceshow),this.on("uitypeaheaditemselected uiselectuser",this.selectuser),this.on("uiupdatemaxselecteditems",this.updatemaxselecteditems),this.on("uiresetselectedusers",this.resetselectedusers),this.on("uiresetselectedusercomposer",this.resetcomposer),this.on("uishortcutesc",this.hideandmanageesc),this.selectedusers=[],this.$input=this.select("inputselector"),this.on("uisetfocusinselecteduserinput",this.focusinputwithresultsshown),this.on(this.$input,"focusin",this.focusinput),this.on(this.$input,"focusout",this.blurinput),this.on(document,"mousedown : focusin",this.possiblyhide)})}var n=i("mj5m"),o=i("dbjh"),a=i("ccv7"),r=i("args"),c=object(o.default)(s);e.a=c}).call(e,i("4ksj"))},titt:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({ctalocationqrselector:".js-locationqr-cta",ctaweburlselector:".js-weburl-cta",ctaviewselector:".dmctaview",convocontentselector:".dmconversation-content"}),this.getjsondata=function(e){return t(e.target).closest(this.attr.ctaviewselector).data("cta-json")},this.handleweburlclick=function(t){this.scribe(r)},this.handlelocationqrclick=function(t){t.preventdefault();var e=this.getjsondata(t),i=this.select("convocontentselector").data("thread-id");e&&e.id&&i&&this.trigger("uilocationqrctaclicked",{qr_id:e.id,conversation_id:i})},this.after("initialize",function(){this.on("click",{ctalocationqrselector:this.handlelocationqrclick,ctaweburlselector:this.handleweburlclick})})}var n=i("dbjh"),o=i("3odc"),a=object(n.default)(s,o.a),r={page:"messages",section:"thread",element:"cta_dm",action:"click"};e.a=a}).call(e,i("4ksj"))},tvrk:function(t,e,i){"use strict";function s(){this.getdynamicvideoadfromcache=function(t){return n.a.get(t)},this.updatedynamicvideoadcache=function(t){n.a.update(t)},this.cleardynamicvideoadcache=function(){n.a.clear()}}var n=i("qqqy");e.a=s},uano:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.s(s.f("primary",t,e,1),t,e,0,12,97,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.s(i.f("count",t,e,1),t,e,1,0,0,"")||i.b(" inbox\n"),i.s(i.f("count",t,e,1),t,e,0,61,86,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(" inbox ("),i.b(i.v(i.f("count",t,e,0))),i.b(")\n")}),t.pop())}),t.pop()),s.s(s.f("primary",t,e,1),t,e,1,0,0,"")||(s.s(s.f("count",t,e,1),t,e,1,0,0,"")||s.b(" requests\n"),s.s(s.f("count",t,e,1),t,e,0,174,202,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" requests ("),i.b(i.v(i.f("count",t,e,0))),i.b(")\n")}),t.pop())),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},uymv:function(t,e,i){"use strict";function s(t){return t&&t.__esmodule?t:{default:t}}object.defineproperty(e,"__esmodule",{value:!0});var n=i("gu7t"),o=s(n),a=i("zrlr"),r=s(a),c=i("wxaw"),l=s(c),h=function(){function t(e,i){(0,r.default)(this,t),this.progresscircle=e;var s="number"==typeof i?i:this.progresscircle.getattribute("r");this.circumference=2*math.pi*s,this.stateclasslist=[]}return(0,l.default)(t,[{key:"updateprogress",value:function(t){var e=this.progresscircle,i=(1-math.ceil(t)/100)*this.circumference;return e.style.strokedashoffset=i,e.style.strokedasharray=this.circumference,this}},{key:"updateclasslist",value:function(t){var e=this,i=this.progresscircle;if(array.isarray(t)){if(i.classlist){var s,n;(s=i.classlist).remove.apply(s,(0,o.default)(this.stateclasslist)),(n=i.classlist).add.apply(n,(0,o.default)(t))}else{var a=i.getattribute("class").split(" "),r=[].concat((0,o.default)(a.filter(function(t){return-1===e.stateclasslist.indexof(t)})),(0,o.default)(t));i.setattribute("class",r.join(" "))}this.stateclasslist=t}return this}}]),t}();e.default=h},v2wg:function(t,e,i){"use strict";function s(){this.scribedialogimpression=function(t,e){this.scribe({component:"sms_confirmation_dialog",action:"impression"},e)},this.scribecountrychange=function(t,e){this.scribe({component:"sms_confirmation_dialog",element:"mobile_country_code",action:"change"},e)},this.scribephonenumberinput=function(t,e){this.scribe({component:"sms_confirmation_dialog",element:"phone_number",action:"change"},e)},this.scribesendpinclick=function(t,e){this.scribe({component:"sms_confirmation_dialog",element:"activate_mobile",action:"click"},e)},this.scribeverifypinformimpression=function(t,e){this.scribe({component:"sms_confirmation_dialog",element:"verify_pin",action:"impression"},e)},this.scribepincodeinput=function(t,e){this.scribe({component:"sms_confirmation_dialog",element:"verify_pin",action:"input"},e)},this.scribeverifybuttonclick=function(t,e){this.scribe({component:"sms_confirmation_dialog",element:"verify_pin",action:"click"},e)},this.scriberesendpincodebuttonclick=function(t,e){this.scribe({component:"sms_confirmation_dialog",element:"resend_pin",action:"click"},e)},this.scribedialogcancelclick=function(t,e){this.scribe({component:"sms_confirmation_dialog",action:"cancel"},e)},this.scribeunlocksuccessimpression=function(t,e){this.scribe({component:"sms_confirmation_dialog",element:"verify_pin",action:"success"},e)},this.after("initialize",function(){this.on("dataverifypinsuccess",this.scribeunlocksuccessimpression),this.on("uicancelsmsconfirmationdialog",this.scribedialogcancelclick),this.on("uineedssmsconfirmationdialog",this.scribedialogimpression),this.on("uiresendpinaction",this.scriberesendpincodebuttonclick),this.on("uisendpinaction",this.scribesendpinclick),this.on("uismsconfirmationcountrychange",this.scribecountrychange),this.on("uismsconfirmationphonenumberinput",this.scribephonenumberinput),this.on("uismsconfirmationpincodeinput",this.scribepincodeinput),this.on("uiverifypinaction",this.scribeverifybuttonclick),this.on("uiverifypinformimpression",this.scribeverifypinformimpression)})}var n=i("dbjh"),o=i("3odc");e.a=object(n.default)(s,o.a)},v9eu:function(t,e,i){"use strict";(function(t){var i=t("html").attr("lang");e.a={language:i}}).call(e,i("4ksj"))},vndl:function(t,e,i){"use strict";function s(){this.defaultattrs({acceptselector:".js-prompt-accept",dismissselector:".js-prompt-later",daystowaitondismiss:30,usenativepush:!1}),this.shoulddisplayrequest=function(){if(!("notification"in window))return!1;var t="default"===notification.permission,e=this.storage.getitem("last_dismissed_timestamp")||0,i=this.now()-e>24*this.attr.daystowaitondismiss*60*60*1e3;return t&&i},this.now=function(){return date.now()},this.handleaccept=function(){this.attr.usenativepush&&this.pushsupported?this.trigger("uipushsubscriptionchangerequested",{subscribe:!0}):this.trigger("uirequestnativenotificationpermission"),this.trigger("uidismissdmnotice"),this.scribeaction("success")},this.handledismiss=function(){this.storage.setitem("last_dismissed_timestamp",this.now()),this.trigger("uidismissdmnotice"),this.scribeaction("dismiss")},this.scribeaction=function(t){this.scribe({component:"dm_conversation_list_dialog",element:"native_notifications_permission_request",action:t})},this.shownotice=function(){this.trigger("uishowdmnotice")},this.updatepushsupport=function(t,e){e.supported&&(this.pushsupported=!0),e.subscribed&&this.trigger("uidismissdmnotice")},this.after("initialize",function(){this.pushsupported=!1,this.storage=new r.a("dm_notifications"),this.shoulddisplayrequest()&&(this.on("click",{acceptselector:this.handleaccept,dismissselector:this.handledismiss}),this.on(document,"datapushsubscriptionstate",this.updatepushsupport),this.trigger("uiwantspushsubscriptionstate"),this.on(document,"uiswiftloaded",a.default.once(this.shownotice).bind(this)))})}var n=i("dbjh"),o=i("3odc"),a=i("yzit"),r=i("wodx"),c=object(n.default)(s,o.a);e.a=c},vdti:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("\n"+i),s.b(" via \n"),s.s(s.f("image",t,e,1),t,e,0,26,91,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <span class="provider provider--"),i.b(i.v(i.f("image",t,e,0))),i.b(""></span>\n')}),t.pop()),s.b(" "),s.b(s.v(s.f("name",t,e,0))),s.b("\n"),s.b("\n"),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},vfpm:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<li class="dropdown-link geo-turn-off-item geosearch-focusable" id="),s.b(s.v(s.f("id",t,e,0))),s.b(" role="option">\n <span class="icon icon--close icon--smallest"></span>remove location\n</li>\n'),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},"vg/a":function(t,e,i){"use strict";(function(t){function s(){this.attributes({messageclass:"directmessage",sentmessageselector:".directmessage--sent",emojionlymessageselector:".directmessage--emoji",receivedmessageselector:".directmessage--received",newmessagespillselector:".dmconversation-newmessagespill",pagebackrange:1e3,openactivityclass:"dmactivity--open",dmcomposerselector:".dmcomposer",dmcomposersectionselector:".dmconversation-composer",viewconversation:".dmconversation",conversationcontentselector:".dmconversation-content",conversationscrollcontainer:".dmconversation-scrollcontainer",conversationreadonlyclass:"is-readonly",spinnerselector:".dmconversation-spinner",quickreplyoptionpanelselector:".dmconversation-quickreply",conversationtypeselector:"[data-is-oto]",deleteconversationselector:".dmconversation .js-actiondeleteconversation",reportconversationselector:".dmconversation .js-actionreportconversation",reportuseridselector:".dmconversationactions [data-other-participant-id]",conversationavatarupdateselector:".dmconversation .dmupdateavatar",conversationnameupdateselector:".dmconversation .dmupdatename",sendingstateselector:".dmconversation-sendingstateindicator",openconvosettingsselector:".dmconversation-convosettings",maxcharacters:1e4}),this.prepareconversationview=function(t,e){e=e||{};var i="uiopennewconversationview"===t.type,s=i&&e.screen_names&&1===e.screen_names.length;this.trigger("uidmdialogclearactions"),this.trigger("uiupdateconversationstate",{is_readonly:e.is_readonly});var n=e.is_oto||s,o={is_oto:n,conversation_id:e.conversation_id};this.triggeronconversationavatar("uidmresetconversationavatar",o),this.triggeronconversationname("uidminitconversationname",o({name:e.name},o)),this.$content.empty().removeattr("data-thread-id").attr("data-thread-id",e.conversation_id),this.$viewconversation.removeattr("data-thread-id").attr("data-thread-id",e.conversation_id),this.hidenewmessagespill(),this.trigger("uiremovequickreply"),i?(this.hidespinner(),this.hideconversationsettings()):(this.showspinner(),this.loadconversationdata(e),this.initconversationsettings(e)),this.trigger("uidmconversationupdated",e)},this.currentconversationid=function(){return this.$content.attr("data-thread-id")},this.isgroupconversation=function(){return!this.select("conversationtypeselector").data("is-oto")},this.getreporteduserid=function(){return this.select("reportuseridselector").attr("data-other-participant-id")},this.isexistingconversation=function(){return!!this.currentconversationid()},this.isdataforcurrentconversation=function(t){return!this.isexistingconversation()||t.conversation_id===this.currentconversationid()},this.processconversationresult=function(t,e){if(t&&t.preventdefault(),e&&this.isdataforcurrentconversation(e)){this.isexistingconversation()||(this.initializedmcomposer(null,e),this.$viewconversation.hasclass(this.attr.openactivityclass)&&this.initconversationsettings(e)),this.$content.attr("data-thread-id",e.conversation_id),this.$viewconversation.attr("data-thread-id",e.conversation_id);var i=e&&e.conversation&&e.conversation.title||{};this.triggeronconversationname("uidmupdateconversationname",o({is_oto:e.is_oto,conversation_id:e.conversation_id},i));var s=e&&e.conversation&&e.conversation.avatar||{};this.triggeronconversationavatar("uidmsetconversationavatar",o({is_oto:e.is_oto,conversation_id:e.conversation_id},s)),this.trigger("uiupdateconversationstate",{is_readonly:e.is_readonly});var n=this.$content.children(),o=n.first().attr("data-message-id"),a=n.last().attr("data-message-id");this.ispagevisible()&&this.$content.is(":visible")&&e.conversation&&e.conversation.is_unread&&this.trigger("datamarkdmsasread",{last_message_id:e.sort_event_id||-1,recipient_id:e.conversation_id}),this.trigger("uidmupdatetrustrequest",e),this.updateconversationhtml(e,o,a),!1===e.has_more&&this.hidespinner(),this.trigger("uidmconversationupdated",e)}},this.processuserupdatesresult=function(e,i){if(!i.should_request_inbox&&!i.is_empty){var s=this.$content.attr("data-thread-id");(i.conversations||[]).foreach(function(t){t.conversation_id===s&&this.processconversationresult(null,t)},this),(i.update_events||[]).filter(function(_){return _.conversation_id===s}).foreach(function(e){switch(e.type){case"conversation_delete":this.trigger("uiclosedmconversation");break;case"message_delete":this.$content.find('[data-message-id="'+e.message_id+'"]').remove(),0===this.$content.children().length&&this.trigger("uiclosedmconversation"),this.updateqr(),this.trigger("uidmmesagedeleted",{dmid:e.message_id});break;case"mark_spam":case"unmark_spam":e.messages.foreach(function(e){var i=t(e.html);this.$content.find('[data-message-id="'+e.message_id+'"]').replacewith(i)},this)}},this),this.updaterapidfire()}},this.ispagevisible=function(){return"visible"===document.visibilitystate},this.removeanimationclass=function(e,i){t(e.target).closest(this.attr.emojionlymessageselector).removeclass("is-animating")},this.updateconversationstate=function(t,e){this.$viewconversation.toggleclass(this.attr.conversationreadonlyclass,!!e.is_readonly)},this.generateconversationhtml=function(t,e,i){var s=t.items,o=object.keys(s);o.sort(n.a.compare);var a=!(e&&i),r="",c="";return o.foreach(function(t){a||n.a.compare(t,e)<0?r+=s[t]:n.a.compare(t,i)>0&&(c+=s[t])}),{prepend:r,append:c}},this.applynewhtml=function(t,e,i,s){var n=this.$container[0].scrollheight-this.$container.scrolltop();this.$content.prepend(e.prepend);var o=this.$container[0].scrollheight-n;this.$container.scrolltop(o),this.$content.append(e.append),this.updaterapidfire(s),this.addanimation(s),this.updatescrollposition(t,s),this.updateqr(s)},this.updateconversationhtml=function(t,e,i){var s=this.generateconversationhtml(t,e,i);(s.append||s.prepend)&&this.applynewhtml(t,s,e,i)},this.updaterapidfire=function(e){if(e){var i=this.attr.messageclass;this.$content.find('[data-message-id="'+e+'"]').nextall().addback().each(function(e,s){var n=t(this),o=n.next(),a=n.hasclass(i);if(a&&o.hasclass(i)){var r=n.find("[data-user-id]").attr("data-user-id"),c=n.find("[data-time]").attr("data-time"),l=n.find("[data-custom-profile-id]").attr("data-custom-profile-id"),h=o.find("[data-user-id]").attr("data-user-id"),d=o.find("[data-time]").attr("data-time"),u=o.find("[data-custom-profile-id]").attr("data-custom-profile-id");n.css("height"),r===h&&d-c<60&&l===u&&!n.hasclass("directmessage--emoji")&&!o.hasclass("directmessage--emoji")?n.addclass("is-rapidfire"):n.removeclass("is-rapidfire")}else a&&!o.hasclass(i)&&n.removeclass("is-rapidfire")})}},this.addanimation=function(t){this.$content.find("[data-message-id=""+t+""]").nextall(this.attr.emojionlymessageselector).addclass("is-animating")},this.requestnextpage=function(){this.trigger("uineedsdmconversation",{conversation_id:this.$content.attr("data-thread-id"),max_entry_id:this.$content.children().first().attr("data-message-id")})},this.hidenewmessagespill=function(){this.$newmessagespill.addclass("is-hidden")},this.shownewmessagespill=function(){this.$newmessagespill.removeclass("is-hidden"),settimeout(this.hidenewmessagespill.bind(this),3500)},this.showspinner=function(){this.$spinner.removeclass("u-hidden")},this.hidespinner=function(){this.$spinner.addclass("u-hidden")},this.initconversationsettings=function(t){this.attachchild(a.a,this.select("openconvosettingsselector"),{enabletooltip:t.enable_mentions_tooltip}),this.trigger("uiinitdmconversationsettings",t),this.select("openconvosettingsselector").removeclass("u-hidden")},this.hideconversationsettings=function(){this.select("openconvosettingsselector").addclass("u-hidden")},this.ismessagevisible=function(t){return t.position().top<this.$container[0].clientheight},this.findmessage=function(t){return this.$content.find('[data-message-id=""+t+"" ]')},this.hasnewreceivedmessages=function(t){return t.nextall(this.attr.receivedmessageselector).length},this.updatescrollposition=function(t,e){var i=!e,s=this.findmessage(e),n=s.nextall(this.attr.sentmessageselector).length,o=this.hasnewreceivedmessages(s);i?(this.$container.scrolltop(this.$container[0].scrollheight),this.applymarker(t.last_read_event_id)):o?this.ismessagevisible(s)?this.scrolltobottom():this.shownewmessagespill():n&&(this.scrolltobottom(),this.removemarker())},this.updateqr=function(t){var e=!t,i=this.findmessage(t),s=this.hasnewreceivedmessages(i);if(e||s){var n=this.$content.children().last().data("quick-reply-json");this.trigger("uiremovequickreply"),n&&(this.trigger("uishowquickreply",{qrjson:n,isfirstresult:e}),this.scrolltobottom())}},this.adddmcomposersectionquickreplyclass=function(){this.$dmcomposersection.addclass("is-showingquickreply")},this.removedmcomposersectionquickreplyclass=function(){this.$dmcomposersection.removeclass("is-showingquickreply")},this.scrolltobottom=function(t){var e=t?250:0;this.$container.stop().clearqueue().animate({scrolltop:this.$container[0].scrollheight-this.$container[0].clientheight},e),this.hidenewmessagespill()},this.initializedmcomposer=function(t,e){this.trigger(this.attr.dmcomposerselector,"uiinitializedmcomposer",e)},this.loadconversationdata=function(t){this.$viewconversation.trigger("uineedsdmconversation",{conversation_id:t.conversation_id,frominitdata:t.frominitdata})},this.triggeronconversationavatar=function(t,e){this.$updateavatar.trigger(t,e)},this.triggeronconversationname=function(t,e){this.$updatename.trigger(t,e)},this.showcomposesection=function(){this.select("dmcomposersectionselector").removeclass("u-hidden")},this.hidecomposesection=function(){this.select("dmcomposersectionselector").addclass("u-hidden"),this.scrolltobottom(!1)},this.handleviewchange=function(t,e){var i="uidmdialogclosed"===t.type||"conversation"!==e.activity?"uidmconversationactivityhidden":"uidmconversationactivityvisible";this.trigger(i,e)},this.handletypingindicatorshown=function(){var t=this.$content.children().last();this.ismessagevisible(t)&&this.scrolltobottom()},this.removecardsfromconversation=function(){this.trigger(this.select("conversationscrollcontainer"),"uiunloadallcards")},this.launchreportingwebview=function(t,e){this.trigger("uineedsreportdialog",{userid:this.getreporteduserid(),reporteddirectmessageconversationid:this.currentconversationid(),target:"dm-conversation"})},this.triggeraction=function(t){this.trigger(t,{conversation_id:this.currentconversationid(),is_group:this.isgroupconversation()})},this.after("initialize",function(){this.attachchild(c.a,this.select("conversationavatarupdateselector")),this.attachchild(y.a,this.select("conversationnameupdateselector")),this.attachchild(u.a,this.$node),this.attachchild(f.a,this.$node),this.attachchild(p.a,this.$node),this.attachchild(m.a,this.$node),this.attachchild(x.a,this.select("quickreplyoptionpanelselector")),this.attachchild(g.a,this.$node,{tweetselector:".directmessage-message",medianotdisplayedselector:".sensitive-warning",mediacontainerselector:".sensitive-content",hiddenclass:"u-hidden"}),this.attachchild(v.a,this.$node),this.attachchild(b.a,this.$node,{eventdata:{scribecontext:{component:"dm_existing_conversation_dialog"}}}),this.attachchild(w.a,this.$node),this.attachchild(s.a,this.$node),this.attachchild(l.a,this.select("dmcomposerselector"),{defaulttext:"",condensedtext:"",suppressflashmessage:!0,eventdata:{scribecontext:{component:"tweet_box_dm"}},dmonly:!0,mediacategoryprefix:"dm_",filedatastring:"media",fileinputstring:"media",maxlength:this.attr.maxcharacters,warnlength:this.attr.maxcharacters-20,superwarnlength:this.attr.maxcharacters-10,timetodismissselectedqrinms:h.a.get("dm_quick_reply_options_panel_dismiss_in_ms")}),this.attachchild(c.a,this.$node),this.attachchild(p.a,this.$node),this.attachchild(d.a,this.select("sendingstateselector")),this.attachchild(i.a,this.select("conversationscrollcontainer"),{containerselector:this.attr.conversationscrollcontainer,cardcontainerselector:".directmessage",unloadedcardsfilter:".directmessage .js-macaw-cards-iframe-container"}),this.attachchild(k.a,this.$node),this.attachchild(m.a,this.$node),this.attachchild(d.a,this.select("conversationscrollcontainer"),{watchdocumentscroll:!1}),this.on("uidmconversationactivityhidden","uipauseallmedia"),this.$updateavatar=this.select("conversationavatarupdateselector"),this.$updatename=this.select("conversationnameupdateselector"),this.$container=this.select("conversationscrollcontainer"),this.$content=this.select("conversationcontentselector"),this.$viewconversation=this.select("viewconversation"),this.$spinner=this.select("spinnerselector"),this.$newmessagespill=this.select("newmessagespillselector"),this.$dmcomposersection=this.select("dmcomposersectionselector"),this.on(document,"datadmconversationresult datadmsendsuccess",this.processconversationresult),this.on("datadmdeletesuccess",this.processuserupdatesresult),this.on("uiopenconversationview uiopennewconversationview",this.prepareconversationview),this.on("uiopenconversationview uiopennewconversationview",this.initializedmcomposer),this.on("uiupdateconversationstate",this.updateconversationstate),this.on("uiwantsconversationhistory",a.default.throttle(this.requestnextpage,1e3)),this.on(document,"uidmdialogclosed uidmactivityopened",this.handleviewchange),this.on("uidmconversationactivityhidden",this.removecardsfromconversation),this.on("uifeedbackpanelopened uidmhidecomposesection",this.hidecomposesection),this.on("uifeedbackpanelclosed uidmshowcomposesection",this.showcomposesection),this.on("uib2cfeedbackupdateview",this.scrolltobottom),this.on("uishowquickreplyoptionpanel",this.adddmcomposersectionquickreplyclass),this.on("uiquickreplyremoved",this.removedmcomposersectionquickreplyclass),this.on("uiupdateqr",function(){this.updateqr()}),this.on("uidmtypingindicatorshown",this.handletypingindicatorshown),this.on("click",{newmessagespillselector:this.scrolltobottom,deleteconversationselector:this.triggeraction.bind(this,"uishowdmdeleteconversationconfirmation"),reportconversationselector:this.launchreportingwebview}),this.on("mouseover",{emojionlymessageselector:this.removeanimationclass}),this.on(document,"datadmuserupdates",this.processuserupdatesresult)})}var n=i("luie"),o=i("dbjh"),a=i("yzit"),r=i("ajan"),c=i("jggw"),l=i("t2va"),h=i("8tpw"),d=i("wlog"),u=i("ss9a"),p=i("s6yn"),f=i("tito"),m=i("yeq4"),g=i("2t4w"),v=i("mmtj"),b=i("liht"),w=i("titt"),s=i("thx/"),c=i("5e2z"),y=i("csbf"),t=i("ca1w"),d=i("+9xk"),i=i("a1ox"),x=i("isxp"),k=i("3yho"),m=i("s9br"),p=i("faud"),a=i("eh/h"),o=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},e=object(o.default)(s,r.a,t.a);e.a=e}).call(e,i("4ksj"))},"w/ag":function(t,e,i){"use strict";function s(){this.scribeerror=function(t,e){this.scribe({component:"oembed",action:"request_failed"})},this.scriberetry=function(t,e){this.scribe({component:"oembed",action:"retry"})},this.scriberequest=function(t,e){this.scribe({component:"oembed",action:"request"},e)},this.scribesuccess=function(t,e){this.scribe({component:"oembed",action:"success"},e)},this.after("initialize",function(){this.on("dataoembederror",this.scribeerror),this.on("dataoembedretry",this.scriberetry),this.on("dataoembedrequest",this.scriberequest),this.on("dataoembedsuccess",this.scribesuccess)})}var n=i("dbjh"),o=i("3odc");e.a=object(n.default)(s,o.a)},w3xn:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("<style>\n\n.stickersmediaimage.media-image {\n background-image: url('"),s.b(s.v(s.f("image",t,e,0))),s.b("');\n\n width: "),s.b(s.v(s.f("bgwidth",t,e,0))),s.b("px;\n height: "),s.b(s.v(s.f("bgheight",t,e,0))),s.b("px;\n}\n\n.stickersmediaimage-blackbar {\n width: "),s.b(s.v(s.f("blackbarwidth",t,e,0))),s.b("px;\n height: "),s.b(s.v(s.f("bgheight",t,e,0))),s.b("px;\n}\n\n"),s.s(s.f("stickers",t,e,1),t,e,0,238,1859,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b("@-webkit-keyframes stickeranimation-"),i.b(i.v(i.f("animationrefindex",t,e,0))),i.b("-a {\n 0% {transform: matrix("),i.b(i.v(i.f("matrix",t,e,0))),i.b(") scale(1); animation-timing-function: ease-in;}\n 13% {transform: matrix("),i.b(i.v(i.f("matrix",t,e,0))),i.b(") scale(1); animation-timing-function: ease-in;}\n 53% {transform: matrix("),i.b(i.v(i.f("matrix",t,e,0))),i.b(") scale(1.025); animation-timing-function: ease-in;}\n 100% {transform: matrix("),i.b(i.v(i.f("matrix",t,e,0))),i.b(") scale(1); animation-timing-function: ease-out;}\n}\n@keyframes stickeranimation-"),i.b(i.v(i.f("animationrefindex",t,e,0))),i.b("-a {\n 0% {transform: matrix("),i.b(i.v(i.f("matrix",t,e,0))),i.b(") scale(1); animation-timing-function: ease-in;}\n 13% {transform: matrix("),i.b(i.v(i.f("matrix",t,e,0))),i.b(") scale(1); animation-timing-function: ease-in;}\n 53% {transform: matrix("),i.b(i.v(i.f("matrix",t,e,0))),i.b(") scale(1.025); animation-timing-function: ease-in;}\n 100% {transform: matrix("),i.b(i.v(i.f("matrix",t,e,0))),i.b(") scale(1); animation-timing-function: ease-out;}\n}\n@-webkit-keyframes stickeranimation-"),i.b(i.v(i.f("animationrefindex",t,e,0))),i.b("-b {\n 0% {transform: matrix("),i.b(i.v(i.f("matrix",t,e,0))),i.b(") scale(1); animation-timing-function: ease-in;}\n 13% {transform: matrix("),i.b(i.v(i.f("matrix",t,e,0))),i.b(") scale(1); animation-timing-function: ease-in;}\n 53% {transform: matrix("),i.b(i.v(i.f("matrix",t,e,0))),i.b(") scale(1.025); animation-timing-function: ease-in;}\n 100% {transform: matrix("),i.b(i.v(i.f("matrix",t,e,0))),i.b(") scale(1); animation-timing-function: ease-out;}\n}\n@keyframes stickeranimation-"),i.b(i.v(i.f("animationrefindex",t,e,0))),i.b("-b {\n 0% {transform: matrix("),i.b(i.v(i.f("matrix",t,e,0))),i.b(") scale(1); animation-timing-function: ease-in;}\n 13% {transform: matrix("),i.b(i.v(i.f("matrix",t,e,0))),i.b(") scale(1); animation-timing-function: ease-in;}\n 53% {transform: matrix("),i.b(i.v(i.f("matrix",t,e,0))),i.b(") scale(1.025); animation-timing-function: ease-in;}\n 100% {transform: matrix("),i.b(i.v(i.f("matrix",t,e,0))),i.b(") scale(1); animation-timing-function: ease-out;}\n}\n")}),t.pop()),s.b("\n"+i),s.b('</style>\n\n<div class="stickersmediaimage media-image">\n <img src=""),s.b(s.v(s.f(" image",t,e,0))),s.b('" class="stickersmediaimage-passthroughimage" />\n\n'),s.s(s.f("stickers",t,e,1),t,e,0,2015,2702,"{{ }}")&&(s.rs(t,e,function(t,e,s){s.s(s.f("link",t,e,1),t,e,0,2029,2106,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <a class="stickersmediaimage-stickerlink js-nav" href=""),i.b(i.v(i.f(" link",t,e,0))),i.b('">\n')}),t.pop()),s.b("\n"+i),s.b(' <div\n class="stickersmediaimage-stickerimage js-tooltip"\n data-original-title=""),s.b(s.v(s.f(" tooltip",t,e,0))),s.b('"\n data-animation-ref-index=""),s.b(s.v(s.f(" animationrefindex",t,e,0))),s.b('"\n\n style="\n width: '),s.b(s.v(s.f("width",t,e,0))),s.b("px;\n height: "),s.b(s.v(s.f("height",t,e,0))),s.b("px;\n left: -"),s.b(s.v(s.f("halfwidth",t,e,0))),s.b("px;\n top: -"),s.b(s.v(s.f("halfheight",t,e,0))),s.b("px;\n\n -moz-transform: "),s.b(s.v(s.f("transform",t,e,0))),s.b(";\n -webkit-transform: "),s.b(s.v(s.f("transform",t,e,0))),s.b(";\n -o-transform: "),s.b(s.v(s.f("transform",t,e,0))),s.b(";\n transform: "),s.b(s.v(s.f("transform",t,e,0))),s.b(';\n ">\n </div>\n\n'),s.s(s.f("link",t,e,1),t,e,0,2674,2690,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(" </a>\n")}),t.pop())}),t.pop()),s.b("</div>\n"),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},w3ke:function(t,e,i){"use strict";function s(){this.defaultattrs({keepbadgestoragekey:"keep_badge_until",keepbadgeinterval:1e3}),this.processnewnotifications=function(t,e){e&&e.b&&"ok"===e.b.status&&e.b.response&&this.possiblyupdatebadgeandhighlighting(e.b.response)},this.possiblyupdatebadgeandhighlighting=function(t){t.show_badge_highlighting&&t.count>=0&&(this.trigger("uiupdateconnectbadge",t),t.timestamp>=0&&(t.count>0||this.paststoragetime())&&this.trigger("uiupdateactivityhighlighting",t.timestamp),this.updatestoragetime())},this.paststoragetime=function(){var t=(new date).gettime();return(this.storage.getitem(this.attr.keepbadgestoragekey)||{until:0}).until<t},this.updatestoragetime=function(){var t=(new date).gettime();this.storage.setitem(this.attr.keepbadgestoragekey,{until:t+this.attr.keepbadgeinterval})},this.after("initialize",function(){this.storage=new o.a("connect_badge"),this.updatestoragetime(0),this.on(document,"datanotificationsreceived",this.processnewnotifications)})}var n=i("dbjh"),o=i("wodx");e.a=object(n.default)(s)},waah:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.s(s.f("intnumber_one",t,e,1),t,e,0,26,52,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.v(i.f("localized_number",t,e,0))),i.b(" reply")}),t.pop()),s.s(s.f("intnumber_other",t,e,1),t,e,0,98,126,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.v(i.f("localized_number",t,e,0))),i.b(" replies")}),t.pop()),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},waph:function(t,e,i){"use strict";var s={hasfiles:function(t,e){var i=(t.originalevent||t).datatransfer;if(!i)return!1;var s=i.items||i.files,n=(i.types.contains?i.types.contains("files"):i.types.indexof("files")>=0)&&!!(s&&s.length>0);if(!n||!e)return n;for(var o=0;o<s.length;++o)n=n&&!!s[o].type.match(e);return n},onlyhandleeventswithfiles:function(t,e){return function(i,n){if(s.hasfiles(i,e))return t.call(this,i,n)}}};e.a=s},wlog:function(t,e,i){"use strict";function s(){this.attributes({indicatordelay:1e3}),this.state={current:0,conversationid:void 0,isvisible:!1,previousinflight:0,total:0},this.render=function(){var t=this;this.$node.html(a.a.render({total:this.state.total,current:this.state.current})),this.state.isvisible?this.timeout=settimeout(function(){return t.state.isvisible?t.$node.slidedown(300):t.$node.hide()},this.attr.indicatordelay):(cleartimeout(this.timeout),this.$node.slideup(100))},this.updatecount=function(t,e){var i=e[this.state.conversationid]||0;0===i?(this.state.total=0,this.state.current=0):0===this.state.previousinflight?(this.state.total=i,this.state.current=1):this.state.previousinflight<i?this.state.total=this.state.total+1:this.state.previousinflight>i&&(this.state.current=this.state.current+1),this.state.previousinflight=i,this.state.isvisible=i>0},this.updateconversationid=function(t,e){this.state={isvisible:!1,total:0,conversationid:e.conversation_id,current:0,previousinflight:0},this.trigger("uidmconversationneedsinflightstate")},this.after("updatecount",this.render),this.after("updateconversationid",this.render),this.after("initialize",function(){this.on(document,"datadmmessagesinflight",this.updatecount),this.on(document,"uirenderconversationview",this.updateconversationid)})}var n=i("dbjh"),o=i("kaxq"),a=i.n(o);e.a=object(n.default)(s)},wpvw:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div class="grid js-prompt-layout-container" data-component-context="prompt" role="presentation">\n <div class="grid-cell" role="presentation">\n <div class="promptbirdprompt-streamitem streamitem js-stream-item js-prompt-layout-content separated-module" data-item-type="prompt" data-item-id=""),s.b(s.v(s.f(" prompt_id",t,e,0))),s.b('" role="listitem"></div>\n </div>\n</div>'),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},wq5j:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("\n"+i),s.b(" "),s.b(s.v(s.f("localized_number",t,e,0))),s.b("\n"),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},wvpq:function(t,e,i){"use strict";function s(){this.iframe_timeout=12e4,this.defaultattrs({includepagecontext:!0,livevideoeventid:void 0}),this.sendtweet=function(t,e){var i=e.tweetboxid,s=function(t){t.tweetboxid=i,t.tweetdata=e.tweetdata,this.trigger("datatweetsuccess",t),this.trigger("datagotprofilestats",{stats:t.profile_stats}),t.tweet_stats&&this.trigger("datagottweetstats",{stats:t.tweet_stats})},o=function(t){var e=void 0;try{e={message:t.message,spamchallenge:t.challengename}}catch(t){e={error:object(n.default)("sorry! we did something wrong.")}}e.tweetboxid=i,this.trigger("datatweeterror",e)},a=this.attr.livevideoeventid?{livevideoeventid:this.attr.livevideoeventid}:{},r=c.default.merge(e.tweetdata,a);this.post({url:"/i/tweet/create",ismutation:!1,data:r,success:s.bind(this),error:o.bind(this),retryifunavailable:!0})},this.sendtweetwithmedia=function(t,e){var i=this,s=e.tweetboxid,n=e.tweetdata,o=object(a.a)(s),r=function(e){n.media_ids=e.join(","),i.sendtweet(t,{tweetboxid:s,tweetdata:n})},c=function(t){return i.trigger(t.cancelled?"datatweetcancel":"datatweeterror",{message:t.message,tweetboxid:s})};return this.collectmediaitems(o).then(r,c)},this.normalizeerror=function(t){throw t="object"===(void 0===t?"undefined":m(t))?t:{message:t}},this.collectmediaitems=function(t){var e=this;return promise.all(t.map(function(t){return e.mediasrufinalize(t).then(function(i){return e.uploadmetadata(i,t).then(void 0,e.normalizeerror)},e.normalizeerror)}))},this.sendtweetwithcard=function(t,e){var i=this,s=void 0;if(void 0===e.carddata)return this.trigger("datatweeterror",{tweetboxid:s,message:e.clienterrormsg}),promise.reject();s=e.tweetboxid;var n=function(n){var o=e.tweetdata;o.card_uri=n,i.sendtweet(t,{tweetboxid:s,tweetdata:o})},o=function(){return i.trigger("datatweeterror",{tweetboxid:s,message:e.servererrormsg})};return this.createcard(e.carddata).then(n,o)},this.senddirectmessage=function(t,e){this.trigger("datadirectmessagesuccess",e)},this.after("initialize",function(){this.attachchild(r.a,document),this.on("uisendtweet",this.sendtweet),this.on("uisendtweetwithmedia",this.sendtweetwithmedia),this.on("uisendtweetwithcard",this.sendtweetwithcard),this.on("uisenddirectmessage",this.senddirectmessage)})}var n=i("0d4m"),o=i("dbjh"),a=i("wkyg"),r=i("3cjl"),c=i("yzit"),l=i("9np9"),h=i("ibie"),d=i("vtwx"),u=i("jzgn"),p=i("x+k1"),f=i("ajan"),m="function"==typeof symbol&&"symbol"==typeof symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof symbol&&t.constructor===symbol&&t!==symbol.prototype?"symbol":typeof t},g=object(o.default)(s,l.a,d.a,p.a,f.a,h.a,u.a);e.a=g},ww42:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({itemselector:".tweet[data-dynamic-preroll=true]",maxadrequest:10,tweetidattr:"data-tweet-id",impressionidattr:"data-impression-id",includelongvideos:!1}),this.initialadfetch=function(t,e){var i=this.gettweetinfo(this.select("itemselector"));this.fetchadsandcache(i)},this.timelineadfetch=function(e,i){var s=this.gettweetinfo(t(i.items_html).find(this.attr.itemselector));this.fetchadsandcache(s)},this.gettweetinfo=function(e){var i=this;return e.map(function(e,s){var n=t(s);return{id:n.attr(i.attr.tweetidattr),promoted_id:n.attr(i.attr.impressionidattr)}}).get()},this.ismarketplacetweet=function(t){return!t.promoted_id},this.fetchadsandcache=function(t){var e=this;this.tweetrefreshcache=this.tweetrefreshcache.concat(t.filter(this.ismarketplacetweet)),t.foreach(function(t){e.ismarketplacetweet(t)||(e.amplifytweets[e.adcachekey(t)]=t)}),this.fetchads(t)},this.fetchads=function(t,e){var i=this;if(t&&0!==t.length){var s=void 0;for(s=0;s<t.length;s+=this.attr.maxadrequest){var n=t.slice(s,s+this.attr.maxadrequest),o=n.map(function(t){return i.requestsinflight[i.adcachekey(t)]=!0,{tweet_id:t.id,impression_id:t.promoted_id}}),a=void 0;e&&e.adid&&e.dynamicprerolltype&&(a={preroll_id:e.adid,dynamic_preroll_type:e.dynamicprerolltype}),this.post({url:"/i/videoads/v2/prerolls.json",data:{tweets:json.stringify({tweets:o,trigger_preroll:a,include_long_videos:this.attr.includelongvideos})},success:this.handlesuccess.bind(this,n),error:this.handleerror.bind(this,n)})}}},this.handlesuccess=function(t,e){var i=this,s={},n=e.autoplay_blacklist;this.removeinflightrequests(t),e.video_analytics_scribe.foreach(function(t){var o=e.prerolls.find(function(e){return e.tweet_id===t.tweet_id&&e.impression_id===t.impression_id&&e.live_event_id===t.live_event_id})||{},a={adid:o.preroll_id,dynamicprerolltype:o.dynamic_preroll_type,autoplayblacklist:n,videoanalyticsscribepassthrough:t.video_analytics_scribe_passthrough};o.promoted_content&&(a.promotedcontent={impressionid:o.promoted_content.impression_id,disclosuretype:o.promoted_content.disclosure_type}),o.media_info&&(a.mediainfo=o.media_info);var r=i.adcachekey({id:t.tweet_id,promoted_id:t.impression_id});i.amplifytweets[r]&&(i.amplifytweets[r].adid=o.preroll_id,i.amplifytweets[r].dynamicprerolltype=o.dynamic_preroll_type),s[r]=a}),this.updatedynamicvideoadcache(s)},this.handleerror=function(t,e){this.removeinflightrequests(t);var i=t.map(function(t){return l({error_message:e.message},t)});this.scribe({element:"dynamic_video_ads",action:"dynamic_preroll_request_error"},{items:i})},this.removeinflightrequests=function(t){var e=this;t.foreach(function(t){return delete e.requestsinflight[e.adcachekey(t)]})},this.refreshcache=function(t,e){var i=this;if(this.cleardynamicvideoadcache(),e.tweet&&e.tweet.id){var s=this.adcachekey({id:e.tweet.id,promoted_id:e.tweet.promoted_id});this.requestsinflight[s]&&this.scribe({element:"dynamic_video_ads",action:"dynamic_preroll_request_late"},{items:[e.tweet]})}object.keys(this.amplifytweets).length>0&&settimeout(function(){return i.updatedynamicvideoadcache(i.amplifytweets)},0),this.fetchads(this.tweetrefreshcache,e.triggerad)},this.after("initialize",function(){this.tweetrefreshcache=[],this.amplifytweets={},this.requestsinflight={},this.on(document,"uirefreshvideoadcache",this.refreshcache),this.on(document,"datagotmoretimelineitems",this.timelineadfetch),this.initialadfetch()})}var n=i("dbjh"),o=i("vtwx"),a=i("3odc"),r=i("rmeb"),c=i("tvrk"),l=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},h=object(n.default)(s,o.a,a.a,r.a,c.a);e.a=h}).call(e,i("4ksj"))},"x+k1":function(t,e,i){"use strict";function s(){this.mediasrufinalize=function(t){var e=this,i=t.uploadid,s=this.srudeferreds,a={uploadid:i,trimrange:t.trimrange,tweetboxid:t.tweetboxid,mediacategory:t.mediacategory,sourceurl:t.sourceurl,mediatype:t.mediatype},r=function(e){var i=object(n.a)(e.code,t.filetype);throw o({},e,{message:i})};return new promise(function(t,n){var o={resolve:t,reject:n};s[i]=o,e.trigger("uimediasrufinalize",a)}).catch(r)},this.uploadmediasruresult=function(t,e){var i=e.uploadid,s=this.srudeferreds[i];if(s){switch(t.type){case"datamediasrusuccess":s.resolve(e.mediaid);break;case"datamediasrucancel":s.reject({cancelled:!0});break;default:s.reject(e.error)}delete this.srudeferreds[i]}},this.after("initialize",function(){this.srudeferreds={},this.on("datamediasrusuccess datamediasruerror datamediasrucancel datamediasrucomplete",this.uploadmediasruresult)})}var n=i("buw5"),o=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t};e.a=s},"x8v/":function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({addtweetbuttonselector:".add-tweet-button",replybuttontextselector:".replying-text",replyusersselector:".reply-users",replyusersbuttonselector:".reply-users-btn",tooltipclass:"js-tooltip",tweetboxselector:".tweet-box",visibletooltipselector:".js-tooltip.in"}),this.around("createdataforsending",function(t){var e=l({},t(),{in_reply_to_status_id:this.overrides.retweetid||this.overrides.id,auto_populate_reply_metadata:this.isautopopulatereply||void 0,exclude_reply_user_ids:array.isarray(this.excludereplyuserids)&&this.excludereplyuserids.join(",")||void 0});for(var i in e)void 0===e[i]&&delete e[i];return e}),this.notifyreplybuttontweetsuccess=function(){if(this.overrides.isreplylinkclick){var t=l({},this.overrides);t.scribecontext&&"suggest_recap"!==t.scribecontext.component&&(t.scribecontext.element=""),this.trigger("uireplybuttontweetsuccess",t)}},this.renderreplyusers=function(){this.removetooltips(),delete this.screennamesinconversationhash;var t="" ;if(this.isautopopulatereply&&!this.canbeselfthreaded){var e=this.originalreplyusers.filter(function(t){return this.excludereplyuserids.indexof(t.id_str)<0},this),i={};if(e.foreach(function(t){return i[t.screen_name.tolowercase()]=!0}),this.screennamesinconversationhash=i,this.trigger("uichangedusersinconversation",{screennamesinconversationhash:i}),this.originalreplyusers.length>0){var s=e.length,n={is_reply_user_count_1:1===s,is_reply_user_count_2:2===s,is_reply_user_count_3:3===s,is_reply_user_count_more_than_3:s>3,reply_user_count_minus_2:s-2,first_reply_user:e[0],second_reply_user:e[1],third_reply_user:e[2]};n["reply_user_count_minus_2_"+a.a.pluralrules.rule_for(n.reply_user_count_minus_2)]=!0,t=c.a.render(n)}}this.select("replyusersselector").html(t)},this.removetooltips=function(){this.$node.attr("data-original-title")&&this.$node.attr("data-original-title","").tooltip("hide"),this.select("replyusersselector").find(this.attr.visibletooltipselector).tooltip("hide")},this.after("settweetboxoverrides",function(){this.canbeselfthreaded=this.overrides.canbeselfthreaded,this.canbeselfthreaded?(this.$node.find(this.attr.replybuttontextselector).text(object(n.default)("tweet")),this.$node.find(this.attr.tweetboxselector).attr("data-placeholder-reply",object(n.default)("add another tweet"))):(this.$node.find(this.attr.replybuttontextselector).text(object(n.default)("reply")),this.$node.find(this.attr.tweetboxselector).attr("data-placeholder-reply",object(n.default)("tweet your reply"))),this.isautopopulatereply=!!this.overrides.id,this.isautopopulatereply&&this.$node.find(this.attr.addtweetbuttonselector).toggleclass("hidden",!this.canbeselfthreaded),this.originalreplyusers=this.overrides.replytousers||[],this.$node.toggleclass("is-reply",this.isautopopulatereply);var t=this.overrides.retweetid||this.overrides.id;t&&this.$node.attr("data-previous-status-id-in-thread",t),this.resetreplyusers()}),this.replyprefixtooltip=function(e,i){var s=this;if(this.screennamesinconversationhash){var o=[],a=i.text.match(h);a&&a[0].replace(d,function(t,e){s.screennamesinconversationhash[e.tolowercase()]&&o.push("@"+e)});var r=o.length?object(n.default)("the reply already includes {{duplicated_mentions}}",{duplicated_mentions:o.join(" ")}):"";r!==this.lastreplytiptext&&(this.lastreplytiptext=r,t(this.select("replyusersbuttonselector")[0]||this.node).attr("data-original-title",r).toggleclass(this.attr.tooltipclass,!!r).tooltip(r?"show":"hide"))}},this.openreplyusersdialog=function(){this.iseditreplyusersdialogopen=!0,this.trigger("uirequestactivitypopup",{component:"reply_users_popup",contentid:this.overrides.retweetid||this.overrides.id,htmltitle:object(n.default)("replying to"),excludereplyuserids:this.excludereplyuserids})},this.editreplyusersdialogclosed=function(){this.focus(),this.iseditreplyusersdialogopen=!1},this.editreplyusersdialogsave=function(t,e){this.excludereplyuserids=e.excludereplyuserids,this.renderreplyusers()},this.resetreplyusers=function(){this.excludereplyuserids=[],this.lastreplytiptext=null,this.renderreplyusers()},this.after("reset",function(){this.iseditreplyusersdialogopen=!1,this.resetreplyusers()}),this.around("isempty",function(t){return t()&&!this.iseditreplyusersdialogopen&&!(this.excludereplyuserids&&this.excludereplyuserids.length)}),this.after("initialize",function(){this.iseditreplyusersdialogopen=!1,this.on("click",{replyusersbuttonselector:this.openreplyusersdialog}),this.on("uitextchanged",this.replyprefixtooltip),this.on("uiactivitypopupclosed",this.editreplyusersdialogclosed),this.on("uiactivitypopupsave",this.editreplyusersdialogsave)})}var n=i("0d4m"),o=i("zvsr"),a=i.n(o),r=i("ihyl"),c=i.n(r),l=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t},h=/^\s*([@]\w{1,20}\s+)+/,d=/[@](\w{1,20})/g;e.a=s}).call(e,i("4ksj"))},xh9u:function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in a)e[s]||(e[s]=a[s]);return r.render(t,e,i)}var n=i("opvs").default,o={"dm/dm_typeahead_group_suggestion":i("afwj"),"dm/dm_typeahead_account_suggestion":i("koam")},a=n(o),r=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.s(s.f("has_suggestions",t,e,1),t,e,0,20,86,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(' <li class="dmtypeaheadheader">\n <span>recent</span>\n </li>\n')}),t.pop()),s.s(s.f("suggestions",t,e,1),t,e,0,123,274,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.s(i.f("is_group",t,e,1),t,e,0,139,184,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b(i.rp("<dm/dm_typeahead_group_suggestion0",t,e," "))}),t.pop()),i.s(i.f("is_group",t,e,1),t,e,1,0,0,"")||i.b(i.rp("<dm/dm_typeahead_account_suggestion1",t,e," "))}),t.pop()),s.fl()},partials:{"<dm/dm_typeahead_group_suggestion0":{name:"dm/dm_typeahead_group_suggestion",partials:{},subs:{}},"<dm/dm_typeahead_account_suggestion1":{name:"dm/dm_typeahead_account_suggestion",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:a,render:s}}).call(e,i("jtwp"))},xo2u:function(t,e,i){"use strict";function s(t,e,i){var s=e.split(",").map(function(t){return t+"[data-tweet-id="+i+" ]"}).join();return t.find(s)}e.a=s},xopl:function(t,e,i){"use strict";function s(){this.defaultattrs({actionabletweetselector:".js-actionable-tweet"}),this.triggerblockactiononnode=function(t,e){!this.itemismine(t)&&this.itemisblockable(t)&&this.trigger(t,e,{userid:this.getuseridfromnode(t),username:this.getusernamefromnode(t),tweetid:this.getusertweetidfromnode(t),fromshortcut:!0})},this.getuseridfromnode=function(t){var e=n.a.getid(t);return e||(e=n.a.getid(t.find("[data-user-id]"))),e},this.getusertweetidfromnode=function(t){var e=t.attr("data-tweet-id");return e||(e=t.find("[data-tweet-id]").attr("data-tweet-id")),e},this.getusernamefromnode=function(t){var e=n.a.getname(t);return e||(e=n.a.getname(t.find("[data-name]"))),e},this.itemismine=function(t){return t.is(this.attr.owntweetselector)||t.find(this.attr.owntweetselector).length>0},this.itemisblockable=function(t){return t.find(this.attr.actionabletweetselector).length>0||t.is(this.attr.actionabletweetselector)}}var n=i("uxvi");e.a=s},xgwv:function(t,e,i){"use strict";(function(t){function s(){n.default.mixin(this,[a.a,o.a]),this.defaultattrs({pagecontainer:"#doc",nestedcontainerselector:".js-stream-item .in-reply-to",showwithscreennameselector:".twitter-atreply",showwithidselector:".show-popup-with-id, .js-user-profile-link",searchtagselector:".twitter-hashtag, .twitter-cashtag",cashtagselector:".twitter-cashtag",geopivotselector:".js-geo-pivot-link",highlightedlabelselector:".highlighteduserlabel-link",itemlinkselector:".twitter-timeline-link,.js-adaptive-photo",mediaforwardselector:".js-adaptive-photo",cardexternallinkselector:".js-card2-external-link",viewmoreitemselector:".view-more-container",insnapbackexperiment:!1,snapbackskipprofilepopup:!1,dismissedtweetselector:".js-dismissed-tweet",dismissedtweetclass:"js-dismissed-tweet",dismissiblecontainerselector:".dismissible-container",threadedconversationtweetselector:".threadedconversation-tweet",newscamerabadgeselector:".adaptivemedia-newscamerabadge"}),this.showprofilepopupwithscreenname=function(e,i){var s=t(e.target).closest(this.attr.showwithscreennameselector).text();"@"===s[0]&&(s=s.substring(1));var n={screenname:s},o=this.getcarddatafromcontainer(t(e.target));i=r({},this.interactiondata(e,n),o),this.showprofile(e,i)},this.showprofilepopupwithid=function(e,i){var s=this.getcarddatafromcontainer(t(e.target));i=r({},this.interactiondatawithcard(e),s),this.showprofile(e,i)},this.showprofile=function(e,i){"mouseover"===e.type?(e.preventdefault(),e.stopimmediatepropagation(),this.trigger(e.target,"uishowprofilehover",i)):(i.user_id=t(e.target).closest(".twitter-atreply").attr("data-mentioned-user-id")||i.userid,this.trigger(e.target,"uishowprofilenewwindow",i))},this.hidehover=function(e,i){var s=this.getcarddatafromcontainer(t(e.target));i=r({},this.interactiondata(e),s),this.trigger("uihideprofilehover",i)},this.searchtagclick=function(e,i){var s=t(e.target),n=s.closest(this.attr.searchtagselector),o=n.is(this.attr.cashtagselector)?"uicashtagclick":"uihashtagclick",a={query:n.text()};this.trigger(o,this.interactiondata(e,a))},this.iscardurl=function(t){return/^(https?:\/\/)?cards(-staging|-beta)?.twitter.com/.test(t)},this.geopivotclick=function(e,i){var s={placeid:t(i.el).data("place-id")};this.trigger("uigeopivotclick",this.interactiondata(e,s))},this.itemlinkclick=function(e,i){var s=t(e.target),n=s.closest(this.attr.itemlinkselector),o=n.closest(".tweet").data("permalink-path"),a=!!s.parents(".permalink").length,c=void 0,l=n.is(this.attr.mediaforwardselector)?o:"",h=r({url:n.attr("data-expanded-url")||n.attr("href")||l,tcourl:n.attr("href")||l,text:n.text()},this.getcarddatafromcontainer(s));if(("promotion"===h.cardname||"promotions"===h.cardtype)&&this.iscardurl(h.url)&&!a){e.preventdefault(),c=n.parents(".stream-item").find(".tweet");var d=c.data("permalink-path"),u=c.data("conversation-id");d&&t(document).trigger("uinavigate",r({},i,{href:d,conversation_id:u}))}this.trigger("uiitemlinkclick",this.interactiondata(e,h))},this.cardlinkclick=function(e,i,s){var n=this.getcarddatafromcontainer(t(i.target));this.trigger(e,this.interactiondatawithcard(i,n))},this.getuseridfromelement=function(t){return t.length?t.data("user-id"):null},this.itemselected=function(e,i){var s=this.getcarddatafromcontainer(t(e.target));i.organicexpansion&&this.trigger("uiitemselected",r({},this.interactiondata(e),s))},this.isnested=function(){return this.$node.closest(this.attr.nestedcontainerselector).length},this.modifierkey=function(t){if(t.shiftkey||t.ctrlkey||t.metakey||t.which>1)return!0},this.removetweetsfromuser=function(e,i){var s=this,n=this.$node.find("[data-user-id="+i.userid+"].js-stream-tweet"),o=this;t.each(n,function(e,i){var n=t(i),a=n.attr("data-tweet-id"),r=n.closest(s.attr.threadedconversationtweetselector);r.length||(r=n.parent()),o.removeengagementsontweet(a),r.remove()}),this.trigger("uiremovedsometweets")},this.navigatetoviewmoreurl=function(e){var i=t(e.target),s=void 0;i.find(this.attr.viewmoreitemselector).length&&(s=i.find(".view-more-link"),this.trigger(s,"uinavigate",{href:s.attr("href")}))},this.removeengagementsontweet=function(t){this.$node.find("[data-item-id="+t+"]").remove()},this.dismisstweet=function(e,i){var s=t(e.target),n=s.closest(this.attr.tweetcontainerselector),o=n.closest(this.attr.dismissiblecontainerselector);n.addclass(this.attr.dismissedtweetclass).fadeout(200,function(){n.remove(),o&&o.remove()}),this.trigger("uitweetdismissed",i)},this.removealldismissedtweets=function(){this.select("dismissedtweetselector").stop().remove()},this.highlightedlabelclick=function(){this.trigger("uihighlightedlabelclick")},this.handlenewscamerabadgeclick=function(e,i){var s=t(i.el).closest("[data-tweet-id]"),n={tweet_id:s.attr("data-tweet-id"),moment_id:s.attr("data-camera-moment-id")};this.trigger("uinewscamerabadgeclick",this.interactiondata(e,n))},this.after("initialize",function(){this.isnested()||(this.on("click",{showwithscreennameselector:this.showprofilepopupwithscreenname,showwithidselector:this.showprofilepopupwithid,searchtagselector:this.searchtagclick,geopivotselector:this.geopivotclick,itemlinkselector:this.itemlinkclick,cardexternallinkselector:this.cardlinkclick.bind(this,"uicardexternallinkclick"),highlightedlabelselector:this.highlightedlabelclick,newscamerabadgeselector:this.handlenewscamerabadgeclick}),this.on("uiitemlinkclick",{itemlinkselector:this.itemlinkclick}),this.on("mouseover",{showwithscreennameselector:this.showprofilepopupwithscreenname,showwithidselector:this.showprofilepopupwithid}),this.on("mouseout",{showwithscreennameselector:this.hidehover,showwithidselector:this.hidehover}),this.on("uihasclickedtweet",this.itemselected),this.on("uiremovetweetsfromuser",this.removetweetsfromuser),this.on("uishortcutenter",this.navigatetoviewmoreurl),this.on("uidismisstweet",this.dismisstweet),this.on(document,"uibeforepagechanged",this.removealldismissedtweets))})}var n=i("q9/c"),o=i("vuuo"),a=i("alsu"),r=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t};e.a=s}).call(e,i("4ksj"))},xhag:function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({quickpromoteiframeselector:".quick-promote-iframe",cancelbuttonselector:".cancel-action",top:47}),this.opendialog=function(e,i){var s=t(e.target),n=s.attr("data-tfb-view");this.select("quickpromoteiframeselector").attr("src",n),this.open(),this.scribedialogopeninteraction(e)},this.closedialog=function(t,e){this.select("quickpromoteiframeselector").removeattr("src style"),this.off(window,"message",this.postmessagehandler)},this.postmessagehandler=function(t){var e=t.originalevent,i=!1;if(e.origin===window.location.protocol+"//"+window.location.host){if("string"==typeof e.data&&"undefined"!==e.data)try{i=json.parse(e.data)}catch(t){}if(i&&i.name&&"quick_promote"===i.name)if("resize"===i.type)this.adjustiframeheight(e);else if("scribe"===i.type){var s=i.scribedata||{};this.scribeuiinteraction(s.uievent,s.data)}else"close"===i.type&&this.close()}},this.scribedialogopeninteraction=function(t){this.scribe({component:"tweet",element:"view_tweet_analytics",action:"navigate"})},this.scribeuiinteraction=function(t,e){t=t&&t.tolowercase(),["click","confirm"].indexof(t)>=0&&this.scribe({component:"tweet",element:"quick_promote",action:t})},this.adjustiframeheight=function(t){var e={iframeselector:this.attr.quickpromoteiframeselector,isqualified:function(t){return t.height}};this.fitiframeheight(t,e)},this.setupmessagelistener=function(){this.on(window,"message",this.postmessagehandler)},this.after("initialize",function(){this.on("click",{cancelbuttonselector:this.close}),this.on("uidialogopened",this.setupmessagelistener),this.on(document,"uiopenquickpromotedialog",this.opendialog),this.on("uidialogclosed",this.closedialog),this.on(window,"message",this.postmessagehandler)})}var n=i("dbjh"),o=i("uhc7"),a=i("ipyt"),r=i("zvxx"),c=i("3odc"),l=object(n.default)(s,o.a,r.a,a.a,c.a);e.a=l}).call(e,i("4ksj"))},"xq8/":function(t,e,i){"use strict";(function(t){function s(){n.default.mixin(this,[o.a]),this.defaultattrs({hovercontentselector:".hovercard",hovercontainerclasses:"hovercard",showdelay:600,hidedelay:100}),this.preparehover=function(t){this.currentkey!==t&&this.forcehide(!1),this.opentimer=settimeout(this.timersaysok.bind(this),this.attr.showdelay)},this.timersaysok=function(){this.oktoopen=!0,this.queuedopen&&this.queuedopen()},this.showhtml=function(e,i,s,n){var o=this;if(n=n||{},n.id=e,this.currentkey===e&&this.timeout)return cleartimeout(this.timeout),void(this.timeout=null);if(!this.oktoopen)return void(this.queuedopen=function(){this.showhtml(e,i,s,n)});this.queuedopen=null,this.forcehide(),this.currentkey=e,this.$hovercontent=t(i),this.$hovercontent.addclass(this.attr.hovercontainerclasses),this.$node.html(this.$hovercontent),this.pos=this.adjacent(this.$node,t(s),{gravity:"vertical"}),this.$hovercontent.addclass("gravity-"+this.pos.gravity),this.$hovercontent.addclass("weight-"+this.pos.weight),"south"===this.pos.gravity&&(this.pos.top-=10),this.$node.css({top:this.pos.top,left:this.pos.left});var a=function(){var t=o.pos.top,e=o.pos.top+("north"===o.pos.gravity?20:-20);o.$node.css({top:e,opacity:0}),o.$node.show(),o.$node.animate({top:t,opacity:1},150,"easeoutquad"),o.trigger("uihovershown",n)},r=this.$hovercontent.find("img.banner");r.length>0?r.on("load",a):a()},this.forcehide=function(t){var e=this;(null!==this.currentkey||t)&&(this.timeout&&(cleartimeout(this.timeout),this.timeout=null),this.opentimer&&(cleartimeout(this.opentimer),this.opentimer=null),this.currentkey=null,this.$hovercontent&&this.$node.fadeout({duration:100,complete:function(){e.$hovercontent&&(e.$hovercontent.remove(),e.$hovercontent=null)},easing:"easeoutquad"}))},this.hide=function(){this.oktoopen=!1,this.queuedopen=null,cleartimeout(this.opentimer),this.opentimer=null,this.timeout&&cleartimeout(this.timeout),this.timeout=settimeout(this.forcehide.bind(this,!1),this.attr.hidedelay)},this.mouseovercontent=function(){if(this.timeout)return cleartimeout(this.timeout),void(this.timeout=null)},this.after("initialize",function(){this.on(document,"uioverlaynavigate uibeforepagechanged uishortcutesc",this.forcehide.bind(this,!0)),this.on(document,"mouseover",{hovercontentselector:this.mouseovercontent}),this.on(document,"mouseout",{hovercontentselector:this.hide}),t.extend(t.easing,{def:"easeoutquad",easeoutquad:function(t,e,i,s,n){return-s*(e/=n)*(e-2)+i}})})}var n=i("q9/c"),o=i("zvxx");e.a=s}).call(e,i("4ksj"))},xxli:function(t,e,i){"use strict";function s(){this.attributes({conversation:".dmconversationcontainer",groupavatars:!1,maxcharacters:1e4}),this.openconversation=function(t,e){var i="uirendernewconversationview"===t.type?"uiopennewconversationview":"uiopenconversationview";this.select("conversation").trigger(i,e)},this.after("initialize",function(){this.attachchild(c.a,this.attr.conversation),this.attachchild(a.a,this.attr.conversation),this.attachchild(r.a,this.attr.conversation,{groupavatars:this.attr.groupavatars,maxcharacters:this.attr.maxcharacters}),this.attachchild(l.a,this.attr.conversation),this.on("uirenderconversationview uirendernewconversationview",this.openconversation)})}var n=i("dbjh"),o=i("ajan"),a=i("ufzu"),r=i("vg/a"),c=i("rs19"),l=i("m24/");e.a=object(n.default)(s,o.a)},"y/m3":function(t,e,i){"use strict";(function(t){function s(){this.defaultattrs({top:80,closeonotherdialogopened:!0,topmargin:60,bottommargin:60,containerselector:".momentcapsulesummarylistdialog-listcontainer",itemsselector:".momentcapsulesummarylistdialog-items",capsuleselector:".momentcapsulesummary",createmomentselector:".momentcapsulesummarylistdialog-button--newmoment",spinnerselector:".spinner"}),this.around("open",function(t,e,i){this.tweetid=i.tweet_id,0===this.$items.children().length&&this.trigger("uimomentsgetdialogusermoments"),t()}),this.renderdialogcontents=function(t,e){this.select("spinnerselector").hide(),this.$items.append(e.html),this.$items.trigger("uimomentshasinjectednewitems"),this.trigger("uitriggerellipsis"),this.updatepaginationvalues(e),this.resizedialog()},this.getoldermoments=function(){this.hasmoreitems&&(this.select("spinnerselector").show(),this.trigger("uimomentsgetdialogusermoments",{before:this.oldestmomentid}))},this.updatepaginationvalues=function(t){this.oldestmomentid=t.oldest_moment_id,this.hasmoreitems=t.has_more_items},this.windowheight=function(){return t(window).height()},this.resizedialog=function(){var t=this.$dialog.height()+this.attr.topmargin+this.attr.bottommargin-this.windowheight();this.$container.css("max-height",this.$container.height()-t)},this.handlecapsuleclick=function(e,i){e.preventdefault(),e.stoppropagation();var s=t(e.target).closest(this.attr.capsuleselector).attr("data-moment-id");this.trigger("uimomentmakeraddtweet",{moment_id:s,tweet_id:this.tweetid,scribecontext:{component:"add_to_moment_dialog"}}),this.close()},this.handlecreatemoment=function(t,e){this.trigger("uimomentmakercreatemoment",{tweet_id:this.tweetid,scribecontext:{component:"add_to_moment_dialog"}}),this.close()},this.after("initialize",function(){this.tweetid=void 0,this.$container=this.select("containerselector"),this.$items=this.select("itemsselector"),this.attachchild(o.a,this.attr.containerselector),this.attachchild(a.a,this.select("containerselector"),{contentselector:this.attr.itemsselector}),this.on(document,"uiopenaddtomomentdialog",this.open),this.on(document,"datamomentsgetdialogusermomentssuccess",this.renderdialogcontents),this.on("click",{capsuleselector:this.handlecapsuleclick,createmomentselector:this.handlecreatemoment}),this.on("uinearthebottom",this.getoldermoments)})}var n=i("dbjh"),o=i("8xx6"),a=i("kjck"),r=i("uhc7"),c=i("ajan");e.a=object(n.default)(r.a,c.a,s)}).call(e,i("4ksj"))},"yg/k":function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.s(s.f("intnumber_one",t,e,1),t,e,0,26,51,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.v(i.f("localized_number",t,e,0))),i.b(" like")}),t.pop()),s.s(s.f("intnumber_other",t,e,1),t,e,0,97,123,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.v(i.f("localized_number",t,e,0))),i.b(" likes")}),t.pop()),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},ymkx:function(t,e,i){"use strict";function s(t,e,i){function s(s,n,o){var a=s-p,r=a+n;if(a>=0&&r<=u.length)o(u.subarray(a,r),s);else{var c=new filereader;c.onload=function(){u=new uint8array(this.result),p=s,o(u.subarray(0,n),s)},c.onerror=e.bind(null,!1),c.readasarraybuffer(t.slice(s,s+math.max(i,n)))}}function a(t){return(t>>7)*(2<<(7&t))*3}function r(t,i){d++?e(!0):s(i+o+a(t[9]||0),1,c)}function c(t,e){var i=t[0];i?s(e+1+i,1,c):s(e+1,o,l)}function l(t,i){var s=t[0];33===s?c(t.subarray(2,3),i+2):44===s?r(t,i):e(!1)}function h(t){/^gif8[79]a/.test(string.fromcharcode.apply(null,t))?s(n+a(t[10]||0),o,l):e(!1)}i=i||65536;var d=0,u=[],p=0;t instanceof blob?s(0,n,h):e(!1)}var n=13,o=11;e.a=s},yqav:function(t,e,i){"use strict";function s(t){this.defaultattrs({itemtype:"tweet"}),this.scribeactivitycount=function(t,e,i){var s={component:this.attr.itemtype,element:t,action:"click"};this.scribe(s,this.interactiondata(e))},this.after("initialize",function(){this.on("uirequestreplyactivity",this.scribeactivitycount.bind(this,"reply_count")),this.on("uirequestretweetedactivity",this.scribeactivitycount.bind(this,"retweet_count")),this.on("uirequestfavoritedactivity",this.scribeactivitycount.bind(this,"favorite_count"))})}var n=i("dbjh"),o=i("alsu"),a=i("gcfh"),r=object(n.default)(s,o.a,a.a);e.a=r},z2y5:function(t,e,i){/*! * xdm.js  nicolas gallagher  mit license * easyxdm  copyright(c) 2009-2011, yvind sean kinsey, oyvind@kinsey.no  mit license */ !function(e){"use strict";function i(t){return"[object array]"===object.prototype.tostring.call(t)}function s(t){return void 0===t}function n(t){if(!t)throw new error("url is undefined or empty");if(/^file/.test(t))throw new error("the file:// protocol is not supported");var e=t.tolowercase().match(s);if(e){var i=e[2],s=e[3],n=e[4]||"";return("http:"===i&&":80"===n||"https:"===i&&":443"===n)&&(n=""),i+"//"+s+n}return t}function o(t){if(!t)throw new error("url is undefined or empty");if(t=t.replace(y,"$1/"),!t.match(/^(http||https):\/\//)){var e="/"===t.substring(0,1)?"":location.pathname;"/"!==e.substring(e.length-1)&&(e=e.substring(0,e.lastindexof("/")+1)),t=location.protocol+"//"+location.host+e+t}for(;c.test(t);)t=t.replace(c,"");return t}function a(t,e,i){var s;for(var n in e)e.hasownproperty(n)&&(n in t?(s=e[n],"object"==typeof s?a(t[n],s,i):i||(t[n]=e[n])):t[n]=e[n]);return t}function r(t,e){"string"==typeof t&&(t=[t]);for(var i,s=t.length;s--;)if(i=t[s],i=new regexp("^"===i.substr(0,1)?i:"^"+i.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"),i.test(e))return!0;return!1}function c(t,e){if(!e)throw new error("parameters is undefined or null");var i=t.indexof("#"),s=[];for(var n in e)e.hasownproperty(n)&&s.push(n+"="+encodeuricomponent(e[n]));return t+(-1===i?"#":"&")+s.join("&")}function l(t){var e=v.clonenode(!1);if(a(t.props,{frameborder:0,allowtransparency:!0,scrolling:"no",width:"100%",src:c(t.remote,{xdm_e:n(location.href),xdm_c:t.channel,xdm_p:1}),name:g+t.channel+"_provider",style:{margin:0,padding:0,border:0}}),e.id=t.props.name,delete t.props.name,!t.container)throw new error('xdm.rpc() configuration object missing a dom "container" property');return a(e,t.props),t.container.appendchild(e),t.onload&&t(e,"load",t.onload),t.html&&(e.contentwindow.document.open(),e.contentwindow.document.write(t.html),e.contentwindow.document.close()),t.iframe=e,e}function h(t){var e;if(t.ishost=t.ishost||s(i.xdm_p),t.props=t.props||{},t.ishost)t.remote=o(t.remote),t.channel=t.channel||"default"+b++;else if(t.channel=i.xdm_c.replace(/[""<>\\]/g,""),t.remote=i.xdm_e.replace(/["'<>\\]/g,""),t.acl&&!r(t.acl,t.remote))throw new error("access denied for "+t.remote);return e=[new f.stack.postmessagetransport(t)],e.push(new f.stack.queuebehavior(!0)),e}function d(t){var e,i,s=t.length,n={incoming:function(t,e){this.up.incoming(t,e)},outgoing:function(t,e){this.down.outgoing(t,e)},callback:function(t){this.up.callback(t)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}};for(i=0;i<s;i++)e=t[i],a(e,n,!0),0!==i&&(e.down=t[i-1]),i!==s-1&&(e.up=t[i+1]);return e}function u(t){t.up.down=t.down,t.down.up=t.up,t.up=t.down=null}if(e.postmessage){var p="" ,f={},m=e.xdm,g="xdm_",v=document.createelement("iframe"),b=math.floor(1e4*math.random()),w=function.prototype,s=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,c=/[\-\w]+\/\.\.\//,y=/([^:])\/\//g,t=function(){return e.addeventlistener?function(t,e,i){t.addeventlistener(e,i,!1)}:function(t,e,i){t.attachevent("on"+e,i)}}(),d=function(){return e.removeeventlistener?function(t,e,i){t.removeeventlistener(e,i,!1)}:function(t,e,i){t.detachevent("on"+e,i)}}(),i=function(t){t=t.substring(1,t.length).split("&");for(var e,i={},s=t.length;s--;)e=t[s].split("="),i[e[0]]=decodeuricomponent(e[1]);return i}(location.hash);f.version="1.0.1" ,f.stack={},f.query=i,f.checkacl=r,f.noconflict=function(t){return e.xdm=m,p=t,p&&(g="xdm_"+p.replace(".","_")+"_"),f},f.rpc=function(t,e){var i;if(e.local)for(var s in e.local)e.local.hasownproperty(s)&&(i=e.local[s])instanceof function&&(e.local[s]={method:i});var o=d(h(t).concat([new f.stack.rpcbehavior(this,e),{callback:function(e){t.onready&&t.onready(e)}}]));this.origin=n(t.remote),this.destroy=function(){o.destroy()},o.init(),this.iframe=t.iframe},f.stack.postmessagetransport=function(t){function i(e){vari=n(e.origin),s="string"==typeof e.data;i===c&&s&&e.data.substring(0,t.channel.length+1)===t.channel+" "&&o.up.incoming(e.data.substring(t.channel.length+1),i)}function s(n){n.data===t.channel+"-ready"&&(r="postmessage"in a.contentwindow?a.contentwindow:a.contentwindow.document,d(e,"message",s),t(e,"message",i),settimeout(function(){o.up.callback(!0)},0))}var o,a,r,c;return o={outgoing:function(e,i,s){r.postmessage(t.channel+" "+e,i||c),s&&s()},destroy:function(){d(e,"message",s),d(e,"message",i),a&&(r=null,a.parentnode.removechild(a),a=null)},init:function(){c=n(t.remote),t.ishost?(t(e,"message",s),a=l(t)):(t(e,"message",i),r="postmessage"in e.parent?e.parent:e.parent.document,r.postmessage(t.channel+"-ready",c),settimeout(function(){o.up.callback(!0)},0))}}},f.stack.queuebehavior=function(t){function e(){var a;if(!0===t&&0===n.length)return void u(i);o||0===n.length||s||(o=!0,a=n.shift(),i.down.outgoing(a.data,a.origin,function(t){o=!1,a.callback&&settimeout(function(){a.callback(t)},0),e()}))}var i,s,n=[],o=!0;return i={init:function(){i.down.init()},callback:function(t){o=!1;var s=i.up;e(),s.callback(t)},incoming:function(t,e){i.up.incoming(t,e)},outgoing:function(t,i,s){n.push({data:t,origin:i,callback:s}),e()},destroy:function(){s=!0,i.down.destroy()}}},f.stack.rpcbehavior=function(t,e){function n(t){t.jsonrpc="2.0" ,r.down.outgoing(json.stringify(t))}function o(t,e){var i=array.prototype.slice;return function(){var s,o=arguments.length,a={method:e};o>0&&arguments[o-1]instanceof function?(o>1&&arguments[o-2]instanceof function?(s={success:arguments[o-2],error:arguments[o-1]},a.params=i.call(arguments,0,o-2)):(s={success:arguments[o-1]},a.params=i.call(arguments,0,o-1)),l[""+ ++c]=s,a.id=c):a.params=i.call(arguments,0),t.namedparams&&1===a.params.length&&(a.params=a.params[0]),n(a)}}function a(t,e,o,a){if(!o)return void(e&&n({id:e,error:{code:-32601,message:"procedure not found."}}));var r,c;e?(r=function(t){r=w,n({id:e,result:t})},c=function(t,i){c=w;var s={id:e,error:{code:-32099,message:t}};i&&(s.error.data=i),n(s)}):r=c=w,i(a)||(a=[a]);try{var l=o.method.apply(o.scope,a.concat([r,c]));s(l)||r(l)}catch(t){c(t.message)}}var r,c=0,l={};return r={incoming:function(t,i){var s,o=json.parse(t);o.method?e.handle?e.handle(o,n):a(o.method,o.id,e.local[o.method],o.params):(s=l[o.id],o.error&&s.error?s.error(o.error):s.success&&s.success(o.result),delete l[o.id])},init:function(){if(e.remote)for(var i in e.remote)e.remote.hasownproperty(i)&&(t[i]=o(e.remote[i],i));r.down.init()},destroy:function(){for(var i in e.remote)e.remote.hasownproperty(i)&&t.hasownproperty(i)&&delete t[i];r.down.destroy()}}},t.exports=f}}(window)},z8pp:function(t,e,i){"use strict";(function(t){function s(e){this.attr={id:null,ttl_ms:216e5,limit:4,version:4,storageadjacencylist:"topicsadjacencylist",storagehash:"topicshash",storageversion:"topicsversion",prefetchlimit:500,localqueriesenabled:!1,remotequeriesenabled:!1,remotepath:"/i/search/typeahead.json",remotetype:"topics",prefetchpath:"/i/search/typeahead.json",prefetchtype:"topics",basepath:"/search?",modepathmap:{images:"f=images",videos:"f=videos",news:"f=news"},querysourcepathtypeahead:"src=tyah"},this.attr=r.default.merge(this.attr,e),this.after=t.noop,this.defaultattrs=t.noop,a.default.mixin(this,[o.a,c.a]),this.getlocalsuggestions=function(t,e){e([])},this.gettopicobjectsfromstrings=function(t){var e=[];return t.foreach(function(t){var i=this.topicshash[t];i&&e.push(i)},this),e},this.requiresremotesuggestions=function(t){var e=n.a.getfirstchar(t.query),i=t.topicsmuststartwithhashtag&&-1===l.indexof(e);return!(!t||!t.query||i)&&this.attr.remotequeriesenabled},this.processremotesuggestions=function(t,e,i){var s=i[this.attr.id]||[],n={};return s.foreach(function(t){var e=t.topic||t.hashtag;n[e.tolowercase()]=!0},this),e[this.attr.remotetype]&&e[this.attr.remotetype].foreach(function(t){var e=t.topic||t.hashtag;t.searchpath=this.constructsearchpath(e,t.filter),n[e.tolowercase()]||s.push(t)},this),i[this.attr.id]=s.slice(0,this.attr.limit),i},this.constructsearchpath=function(t,e){var i=["q="+encodeuricomponent(t)],s=e?this.attr.modepathmap[e]:"";return s&&i.push(s),i.push(this.attr.querysourcepathtypeahead),this.attr.basepath+i.join("&")},this.initialize=function(){},this.initialize()}var n=i("pfsh"),o=i("vtwx"),a=i("q9/c"),r=i("yzit"),c=i("8xkx"),l=["$","#",""];e.a=s}).call(e,i("4ksj"))},zape:function(t,e,i){"use strict";function s(){this.defaultattrs({dropdownid:"swift_autocomplete_dropdown_goto_user",inputselector:"input.username-input",usernameformselector:"form.goto-user-form"}),this.focus=function(){this.select("inputselector").focus()},this.gotouser=function(t,e){if(!e||!e.dropdownid||e.dropdownid===this.attr.dropdownid){if(t.preventdefault(),e&&e.item)return this.select("inputselector").val(e.item.screen_name),void this.trigger("uinavigate",{href:e.href});var i=this.select("inputselector").val().trim();"@"===i.substr(0,1)&&(i=i.substr(1)),this.trigger("uinavigate",{href:"/"+i})}},this.reset=function(){this.select("inputselector").val(""),this.select("inputselector").blur(),this.trigger(this.select("inputselector"),"uihideautocomplete")},this.after("initialize",function(){this.on(document,"uishortcutshowgotouser",this.open),this.on("uidialogopened",this.focus),this.on("uidialogclosed",this.reset),this.on(this.select("usernameformselector"),"submit",this.gotouser),this.on("uitypeaheaditemselected uitypeaheadsubmitquery",this.gotouser),a.a.attachto(this.$node,{inputselector:this.attr.inputselector}),o.a.attachto(this.$node,{inputselector:this.attr.inputselector,autocompleteaccounts:!1,datasourcerenders:[["accounts",["accounts"]]],deciders:this.attr.typeaheaddata,eventdata:{scribecontext:{component:"goto_user_dialog"}}})})}var n=i("dbjh"),o=i("ccv7"),a=i("args"),r=i("uhc7"),c=object(n.default)(s,r.a);e.a=c},zibt:function(t,e,i){"use strict";function s(){this.defaultattrs({countrycodedisplayselector:"#country_code_display",countrycodeselector:"#country_code",countrynameselector:"#device_country_code",phonenumberselector:"#phone_number",pincodeselector:"#numeric_pin",pincodeselectorraw:"#numeric_pin_raw",submitregisterbuttonselector:"#send_verification_pin",submitverifybuttonselector:"#device_verify"}),this.updatecountrycode=function(t,e){var i=e.value;this.select("countrycodedisplayselector").html("+"+i),this.select("countrycodeselector").val(i),""!==this.select("phonenumberselector").val()&&this.callbackifvalidphonenumber(this.clearinvalidphonemessage)},this.callbackifvalidphonenumber=function(t){var e=this.select("countrycodeselector").val(),i=this.select("phonenumberselector").val();this.validatephonenumber(e,i)?t.call(this):this.showinvalidphonemessage(e)},this.showinvalidphonemessage=function(t){var e=object(n.default)("us and canadian phone numbers must have 11 digits."),i=object(n.default)("this appears to be an invalid phone number."),s="1"===t?e:i;s+=object(n.default)(" please enter a valid phone number."),this.trigger("uialertbanner",{message:s})},this.clearinvalidphonemessage=function(){this.trigger("uialertbannerclose")},this.validatephonenumber=function(t,e){var i=/\(*\)*\+*-*#* */g,s=e.replace(i,""),n=/^\d{11}$/;return"1"!==t&&(n=/^\d{10,15}$/),n.test(t+s)},this.enableifvalue=function(t){return function(e,i){var s=e.target||e.srcelement;this.select(t).prop("disabled",""===s.value)}},this.strippin=function(t){return t.replace(/[^a-za-z0-9]/g,"")},this.after("initialize",function(){o.a.attachto(this.attr.countrynameselector),this.on(this.attr.countrynameselector,"uiitemselect",this.updatecountrycode),this.on("input",{phonenumberselector:this.enableifvalue("submitregisterbuttonselector"),pincodeselectorraw:this.enableifvalue("submitverifybuttonselector")})})}var n=i("0d4m"),o=i("lbzy");e.a=s},zlk3:function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in a)e[s]||(e[s]=a[s]);return r.render(t,e,i)}var n=i("opvs").default,o={emojified_name:i("nsfj")},a=n(o),r=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("reply to "),s.s(s.f("in_reply_to_user",t,e,1),t,e,0,30,49,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.rp("<emojified_name0",t,e,""))}),t.pop()),s.fl()},partials:{"<emojified_name0":{name:"emojified_name",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:a,render:s}}).call(e,i("jtwp"))},zp5u:function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in a)e[s]||(e[s]=a[s]);return r.render(t,e,i)}var n=i("opvs").default,o={"promptbird/templates/dismiss_button":i("02ms"),"promptbird/templates/icon":i("8qxq"),"promptbird/templates/title":i("orcd"),"promptbird/templates/explanation":i("7sib"),"promptbird/templates/call_to_action":i("hk7e"),"promptbird/templates/second_call_to_action":i("8t/i")},a=n(o),r=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("<div class="promptbirdprompt promptbirdprompt--"),s.s(s.f("is_modal",t,e,1),t,e,0,60,65,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b("modal")}),t.pop()),s.s(s.f("is_above_timeline",t,e,1),t,e,0,100,113,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b("abovetimeline")}),t.pop()),s.b(" "),s.b(s.v(s.f("health_prompt_custom_class",t,e,0))),s.b('" data-prompt-id=""),s.b(s.v(s.f(" prompt_id",t,e,0))),s.b('">\n'),s.s(s.f("is_above_timeline",t,e,1),t,e,0,224,272,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.rp("<promptbird/templates/dismiss_button0",t,e," "))}),t.pop()),s.s(s.f("is_modal",t,e,1),t,e,0,310,348,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.rp("<promptbird/templates/icon1",t,e," "))}),t.pop()),s.b(s.rp("<promptbird/templates/title2",t,e," ")),s.b(s.rp("<promptbird/templates/explanation3",t,e," ")),s.b(s.rp("<promptbird/templates/call_to_action4",t,e," ")),s.b(s.rp("<promptbird/templates/second_call_to_action5",t,e," ")),s.b("</div>"),s.fl()},partials:{"<promptbird/templates/dismiss_button0":{name:"promptbird/templates/dismiss_button",partials:{},subs:{}},"<promptbird/templates/icon1":{name:"promptbird/templates/icon",partials:{},subs:{}},"<promptbird/templates/title2":{name:"promptbird/templates/title",partials:{},subs:{}},"<promptbird/templates/explanation3":{name:"promptbird/templates/explanation",partials:{},subs:{}},"<promptbird/templates/call_to_action4":{name:"promptbird/templates/call_to_action",partials:{},subs:{}},"<promptbird/templates/second_call_to_action5":{name:"promptbird/templates/second_call_to_action",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:a,render:s}}).call(e,i("jtwp"))},zbkd:function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in a)e[s]||(e[s]=a[s]);return r.render(t,e,i)}var n=i("opvs").default,o={"dialogs/close_button":i("38hd"),create_custom_timeline_button:i("478n")},a=n(o),r=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("<div class="modal modal-medium draggable">\n <div class="modal-content">\n'),s.b(s.rp("<dialogs/close_button0",t,e," ")),s.b(' <div class="modal-header">\n <h3 class="modal-title">add tweet to collection</h3>\n </div>\n <div class="modal-body">\n <div class="timeline-selector"></div>\n </div>\n <div class="modal-footer">\n'),s.b(s.rp("<create_custom_timeline_button1",t,e," ")),s.b("\n"+i),s.b(' <button type="button" class="edgebutton edgebutton--tertiary js-close">cancel</button>\n <button type="button" class="edgebutton edgebutton--primary modal-submit js-submit">save changes</button>\n </div>\n </div>\n</div>\n'),s.fl()},partials:{"<dialogs/close_button0":{name:"dialogs/close_button",partials:{},subs:{}},"<create_custom_timeline_button1":{name:"create_custom_timeline_button",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:a,render:s}}).call(e,i("jtwp"))},zclm:function(t,e,i){(function(e){t.exports=new e.template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b("\n"+i),s.b(" "),s.s(s.f("intnumber_one",t,e,1),t,e,0,21,50,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.v(i.f("localized_number",t,e,0))),i.b(" follower")}),t.pop()),s.b("\n"+i),s.b(" "),s.s(s.f("intnumber_other",t,e,1),t,e,0,91,121,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b(i.v(i.f("localized_number",t,e,0))),i.b(" followers")}),t.pop()),s.b("\n"),s.b("\n"),s.fl()},partials:{},subs:{}})}).call(e,i("jtwp"))},zif6:function(t,e,i){"use strict";function s(){this.scribefollowsearchaction=function(t,e){this.scribe({component:e.sourceeventdata.scribecomponent,element:"follow_search",action:e.sourceeventdata.scribeaction})},this.scribefollowsearchnux=function(){this.scribe({component:"follow_search",element:"nux",action:"impression"})},this.after("initialize",function(){this.on("dataaddfollowsearchsuccess dataremovefollowsearchsuccess",this.scribefollowsearchaction),this.on("uifollowsearchnuximpression",this.scribefollowsearchnux)})}var n=i("dbjh"),o=i("3odc");e.a=object(n.default)(s,o.a)},zqn9:function(t,e,i){"use strict";function s(t,e){object(n.a)(e),p.a.attachto(document,e),f.a.attachto(document),o.a.attachto(document,e),g.a.attachto(document,e),r.a.attachto(document,e),u.a.attachto(document,e),m.a.attachto(document,e),e.excludeexpandingtweets||a.a.attachto(t,e);d.a.attachto(".js-new-items-bar-container",e),e.excludeuseractions||v.a.attachto(t,w({},e,{genericitemselector:".js-stream-item"})),b.a.attachto(document),l.a.attachto(document),c.a.attachto(document),h.a.attachto(document)}var n=i("sfzm"),o=i("hedp"),a=i("moyp"),r=i("hpo3"),c=i("u8+l"),l=i("ltdq"),h=i("gkfl"),d=i("qgdp"),u=i("2t4w"),p=i("mzzr"),f=i("yqav"),m=i("wuto"),g=i("vvp0"),v=i("x4ka"),b=i("hdvg"),w=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t};e.a=s},zr4x:function(t,e,i){"use strict";function s(){this.defaultattrs({intent:"tweet"}),this.action=function(t){var e=o.a.decode(t);e.cantweetdefaulttext=!0,this.trigger("uiopentweetdialog",e)}}var n=i("r5ni"),o=i("tx0g");e.a=n.a.mixin(s)},zvxx:function(t,e,i){"use strict";(function(t){function s(){this.adjacent=function(e,i,s){var o=void 0,a=void 0;return s=s||{},s.pos=i.offset(),"fixed"===s.position&&(s.pos.top-=n.a.getwindow().scrolltop(),s.pos.left-=n.a.getwindow().scrollleft()),"relative"===s.position&&(o.top=0),s.rtl=s.rtl||"rtl"===t("body").attr("dir"),s.gravity=s.gravity||"vertical",s.attachbox={height:i.outerheight(),width:i.outerwidth()},s.overlaybox={height:s.height||e.outerheight(),width:s.width||e.outerwidth()},s.winbox={height:n.a.getwindow().height(),width:n.a.getwindow().width()},s.bodybox={height:this.getbody().height(),width:this.getbody().width()},-1!=="vertical,vertical-north,north,south".indexof(s.gravity)?(o=this.processvertical(s),s.allowgravityswitch&&!o.validfit&&(s.gravity="horizontal",a=this.processhorizontal(s))):-1!=="horizontal,east,west".indexof(s.gravity)&&(o=this.processhorizontal(s),s.allowgravityswitch&&!o.validfit&&(s.gravity="vertical",a=this.processvertical(s))),a&&a.validfit?a:o},this.processvertical=function(e){var i=t.extend(!0,{},e.pos),s=e.pos.top-e.overlaybox.height>=n.a.getwindow().scrolltop()+this.topbarheight(),o=e.pos.top+e.attachbox.height+e.overlaybox.height<=n.a.getwindow().scrolltop()+e.winbox.height;if(i.validfit=s||o,"vertical-north"===e.gravity?i.gravity=o||!i.validfit?"north":"south":"vertical"===e.gravity?i.gravity=s||!i.validfit?"south":"north":i.gravity=e.gravity,"relative"===e.position&&(i.left=0),-1==="right,left,center".indexof(e.weight)){var a=e.rtl?"right":"left";i.weight="left"===a?e.pos.left+e.overlaybox.width>e.winbox.width?"right":"left":e.pos.left+e.attachbox.width-e.overlaybox.width<0?"left":"right"}return i.weight=i.weight||e.weight,"right"===i.weight?i.left=e.pos.left-e.overlaybox.width+e.attachbox.width:"center"===i.weight&&(i.left=e.pos.left-(e.overlaybox.width-e.attachbox.width)/2),i.top="north"===i.gravity?e.pos.top+e.attachbox.height:e.pos.top-e.overlaybox.height,i},this.processhorizontal=function(e){var i=t.extend(!0,{},e.pos),s=e.pos.top+e.attachbox.height/2;-1==="top,bottom,center".indexof(e.weight)&&(s-e.overlaybox.height/2<0?i.weight="bottom":s+e.overlaybox.height/2>math.max(e.winbox.height,e.bodybox.height)?i.weight="top":i.weight="center"),i.weight=i.weight||e.weight;var n=e.pos.left+e.attachbox.width+e.overlaybox.width<=e.winbox.width,o=e.pos.left-e.overlaybox.width>=0;return i.validfit=o||n,"horizontal"===e.gravity&&(i.gravity=e.pos.left+e.attachbox.width/2>e.winbox.width/2?"east":"west"),i.gravity=i.gravity||e.gravity,"relative"===e.position&&(i.top=0),"center"===i.weight?i.top=e.pos.top+e.attachbox.height/2-e.overlaybox.height/2:"bottom"===i.weight&&(i.top=e.pos.top-e.overlaybox.height+e.attachbox.height),i.left="west"===i.gravity?e.pos.left+e.attachbox.width:e.pos.left-e.overlaybox.width,i},this.getbody=function(){return t("body")},this.topbarheight=function(){var e=t(".topbar, .streamstopbar").outerheight()||0;return this.attr.additionaltopbarpositionselector&&(e+=t(this.attr.additionaltopbarpositionselector).outerheight()||0),e}}var n=i("v3w7");e.a=s}).call(e,i("4ksj"))},zwio:function(t,e,i){"use strict";function s(t,e,i){return e in t?object.defineproperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(){this.attributes({threads:{name:"threads",keypath:"threadid",indexes:[{name:"timestamp",keypath:"timestamp",unique:!0}]},version:2202,nameprefix:"self_thread_tweets_db",localstoragenameprefix:"self_thread_mark_deletion",localstoragekey:"marked_deletion_thread_ids",updatedebounceinterval:800}),this.todbtweets=function(){var t=[u({},h.a.threaddata,{threadid:this.threadid,timestamp:date.now()})];return s({},this.attr.threads.name,t)},this.fromdbtweets=function(){return{tweets:((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).thread||[]).map(function(t){return{tweettext:t.tweetdata&&t.tweetdata.status||""}})}},this.createthread=function(t,e){var i=this,s="object"===(void 0===e?"undefined":d(e))&&e.previousstatusidinthread;if(void 0===this.threadid&&!s)return this.threadid=date.now(),this.dbopenpromise().then(function(t){return t.add(i.todbtweets()).then(function(){return t.close()},function(){return t.close()})})},this.updatethread=function(){var t=this;return this.dbopenpromise().then(function(e){return e.put(t.todbtweets()).then(function(){return e.close()},function(){return e.close()})})},this.deletethread=function(){var t=this;if(void 0!==this.threadid)return this.dbopenpromise().then(function(e){return e.destroy(t.attr.threads.name,t.threadid).then(function(){return e.close()},function(){return e.close()})}).then(function(){return delete t.threadid})},this.cleardatabase=function(){return this.dbopenpromise().then(function(t){return t.clear().then(function(){return t.close()},function(){return t.close()})})},this.readinitialdata=function(t){var e=this,i=l.a.keyrange.upperbound(date.now());return t.getall(this.attr.threads.name,"timestamp",i).then(function(t){(t||[]).length>0&&e.trigger(document,"uitweetstormdbdata",e.fromdbtweets(t.pop()))})},this.markthreaddeletion=function(){if(void 0!==this.threadid){var t=new c.a(this.storagename),e=t.getitem(this.attr.localstoragekey)||[];e.push(this.threadid),t.setitem(this.attr.localstoragekey,e)}},this.deletemarkedthreads=function(t){var e=this,i=new c.a(this.storagename),s=i.getitem(this.attr.localstoragekey)||[],n=s.map(function(i){return t.destroy(e.attr.threads.name,i)});return i.removeitem(this.attr.localstoragekey),promise.all(n)},this.initialsetup=function(){var t=this;return this.dbopenpromise().then(function(e){t.deletemarkedthreads(e).then(function(){return t.readinitialdata(e)}).then(function(){return e.close()},function(){return e.close()}),t.on(document,"uitweetstorminit uitweetstormrestore",t.createthread),t.on(document,"uitweetstormcleardb",t.cleardatabase),t.on(document,"uitweetstormremovedbthread",t.deletethread),t.on(document,"uitweetstormdbupdate",r.default.debounce(t.updatethread,t.attr.updatedebounceinterval)),t.on(window,"beforeunload uibeforeunload",t.markthreaddeletion)}).catch(function(){})},this.dbopenpromise=function(){return l.a.open(this.dbname,this.attr.version,[this.attr.threads])},this.after("initialize",function(){this.dbname=this.attr.nameprefix+"_"+a.a.user.id,this.storagename=this.attr.localstoragenameprefix+"_"+a.a.user.id,this.on(document,"uiswiftloaded",this.initialsetup)})}var o=i("dbjh"),a=i("iamj"),r=i("yzit"),c=i("wodx"),l=i("b6cp"),h=i("a0ja"),d="function"==typeof symbol&&"symbol"==typeof symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof symbol&&t.constructor===symbol&&t!==symbol.prototype?"symbol":typeof t},u=object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)object.prototype.hasownproperty.call(i,s)&&(t[s]=i[s])}return t};e.a=object(o.default)(n)}}); //# sourcemappingurl=0.commons.en.06a750caea28350212ee.js.map