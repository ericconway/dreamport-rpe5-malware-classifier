var serpkeyboardnavigation;(function(){function c(){h=_d.activeelement;n=null;u=null;e=!1;t=-1;nt();u=_w.navselector&&navselector(!1)}function p(){v();n=null}function w(i){var o,e;i&&(i.keycode==r.tab&&s&&(f("top"),s=!1),o=_d.activeelement,u&&o&&o.classname!=="b_searchbox"&&(i.keycode==r.enter?(n=null,f(t==-1?"en":"ee",t)):b(i)&&(e=k(i.keycode),e!==-1&&e!==t&&(tt(e),sj_pd(i)))))}function f(n,t){sj_log("ci.serpkeyboardnav",n,t?t.tostring():"")}function b(t){return n||h==_d.activeelement?t.altkey||t.ctrlkey?!1:!0:!1}function k(n){if(n===r.tab)return d();if(n===r.down||n===r.up){var t=document.activeelement;return t&&(t.tagname.tolowercase()==="select"||t.tagname.tolowercase()==="input")?-1:g(n===r.down)}return-1}function d(){var i=-1;return n?(v(),e=!0,t=-1,f("to")):(i=0,f("ti")),i}function g(i){var r=-1,s,h,o;return n&&(e?(e=!1,s=u.indexof(_d.activeelement),s!==-1?r=l(i,s):(h=_w.navselector&&navselector(!0),o=h.indexof(_d.activeelement),o!==-1&&(r=a(i?o:o-1)))):r=l(i,t),f(i?"ad":"au",r)),r}function l(n,t){return a(n?t+1:t-1)}function a(n){return math.max(math.min(n,u.length-1),0)}function nt(){i=sj_ce("div","kn_p");o=sj_ce("span",y);o.innerhtml="";i.appendchild(o);o.title="use the up and down arrow keys to focus results"}function tt(r){t=r;n=u[t];n&&n.parentnode&&(n.parentnode.insertbefore(i,n.parentnode.firstchild),it(i),n.setattribute("aria-live","true"),n.focus())}function v(){i&&i.parentnode&&i.parentnode.removechild(i)}function it(n){var t=n.getboundingclientrect();t.bottom>window.innerheight&&n.scrollintoview()}var n,u,t=-1,e=!1,y="kn_a",i,o,s=!0,h,r;(function(n){n[n.up=38]="up";n[n.down=40]="down";n[n.tab=9]="tab";n[n.enter=13]="enter"})(r||(r={}));sj_be(_d,"keydown",w);sj_be(_d.body,"mousedown",p,!0);sj_evt.bind("ajax.load",c,1,1);c()})(serpkeyboardnavigation||(serpkeyboardnavigation={}))